'use strict';
!function(init) {
  if ("object" == typeof exports && "undefined" != typeof module) {
    module.exports = init();
  } else {
    if ("function" == typeof define && define.amd) {
      define([], init);
    } else {
      var win;
      win = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this;
      win.PIXI = init();
    }
  }
}(function() {
  var define;
  return function() {
    function e(t, n, r) {
      function s(o, s) {
        if (!n[o]) {
          if (!t[o]) {
            var i = "function" == typeof require && require;
            if (!s && i) {
              return i(o, true);
            }
            if (a) {
              return a(o, true);
            }
            var f = new Error("Cannot find module '" + o + "'");
            throw f.code = "MODULE_NOT_FOUND", f;
          }
          var u = n[o] = {
            exports : {}
          };
          t[o][0].call(u.exports, function(i) {
            var type = t[o][1][i];
            return s(type || i);
          }, u, u.exports, e, t, n, r);
        }
        return n[o].exports;
      }
      var a = "function" == typeof require && require;
      var o = 0;
      for (; o < r.length; o++) {
        s(r[o]);
      }
      return s;
    }
    return e;
  }()({
    1 : [function(canCreateDiscussions, isSlidingUp, docs) {
      function index(data) {
        var depth = 32;
        return data = data & -data, data && depth--, 65535 & data && (depth = depth - 16), 16711935 & data && (depth = depth - 8), 252645135 & data && (depth = depth - 4), 858993459 & data && (depth = depth - 2), 1431655765 & data && (depth = depth - 1), depth;
      }
      "use restrict";
      docs.INT_BITS = 32;
      docs.INT_MAX = 2147483647;
      docs.INT_MIN = -1 << 31;
      docs.sign = function(x) {
        return (x > 0) - (x < 0);
      };
      docs.abs = function(x) {
        var mask = x >> 31;
        return (x ^ mask) - mask;
      };
      docs.min = function(type, data) {
        return data ^ (type ^ data) & -(type < data);
      };
      docs.max = function(type, data) {
        return type ^ (type ^ data) & -(type < data);
      };
      docs.isPow2 = function(val) {
        return !(val & val - 1 || !val);
      };
      docs.log2 = function(e) {
        var i;
        var a;
        return i = (e > 65535) << 4, e = e >>> i, a = (e > 255) << 3, e = e >>> a, i = i | a, a = (e > 15) << 2, e = e >>> a, i = i | a, a = (e > 3) << 1, e = e >>> a, (i = i | a) | e >> 1;
      };
      docs.log10 = function(value) {
        return value >= 1e9 ? 9 : value >= 1e8 ? 8 : value >= 1e7 ? 7 : value >= 1e6 ? 6 : value >= 1e5 ? 5 : value >= 1e4 ? 4 : value >= 1e3 ? 3 : value >= 100 ? 2 : value >= 10 ? 1 : 0;
      };
      docs.popCount = function(count) {
        return count = count - (count >>> 1 & 1431655765), 16843009 * ((count = (858993459 & count) + (count >>> 2 & 858993459)) + (count >>> 4) & 252645135) >>> 24;
      };
      docs.countTrailingZeros = index;
      docs.nextPow2 = function(v) {
        return v = v + (0 === v), --v, v = v | v >>> 1, v = v | v >>> 2, v = v | v >>> 4, v = v | v >>> 8, (v = v | v >>> 16) + 1;
      };
      docs.prevPow2 = function(n) {
        return n = n | n >>> 1, n = n | n >>> 2, n = n | n >>> 4, n = n | n >>> 8, (n = n | n >>> 16) - (n >>> 1);
      };
      docs.parity = function(t) {
        return t = t ^ t >>> 16, t = t ^ t >>> 8, t = t ^ t >>> 4, 27030 >>> (t = t & 15) & 1;
      };
      var key = new Array(256);
      !function(res) {
        var value = 0;
        for (; value < 256; ++value) {
          var c = value;
          var a = value;
          var b = 7;
          c = c >>> 1;
          for (; c; c = c >>> 1) {
            a = a << 1;
            a = a | 1 & c;
            --b;
          }
          res[value] = a << b & 255;
        }
      }(key);
      docs.reverse = function(s) {
        return key[255 & s] << 24 | key[s >>> 8 & 255] << 16 | key[s >>> 16 & 255] << 8 | key[s >>> 24 & 255];
      };
      docs.interleave2 = function(left, right) {
        return left = left & 65535, left = 16711935 & (left | left << 8), left = 252645135 & (left | left << 4), left = 858993459 & (left | left << 2), left = 1431655765 & (left | left << 1), right = right & 65535, right = 16711935 & (right | right << 8), right = 252645135 & (right | right << 4), right = 858993459 & (right | right << 2), right = 1431655765 & (right | right << 1), left | right << 1;
      };
      docs.deinterleave2 = function(a, b) {
        return a = a >>> b & 1431655765, a = 858993459 & (a | a >>> 1), a = 252645135 & (a | a >>> 2), a = 16711935 & (a | a >>> 4), (a = 65535 & (a | a >>> 16)) << 16 >> 16;
      };
      docs.interleave3 = function(left, right, n) {
        return left = left & 1023, left = 4278190335 & (left | left << 16), left = 251719695 & (left | left << 8), left = 3272356035 & (left | left << 4), left = 1227133513 & (left | left << 2), right = right & 1023, right = 4278190335 & (right | right << 16), right = 251719695 & (right | right << 8), right = 3272356035 & (right | right << 4), right = 1227133513 & (right | right << 2), left = left | right << 1, n = n & 1023, n = 4278190335 & (n | n << 16), n = 251719695 & (n | n << 8), n = 3272356035 & 
        (n | n << 4), n = 1227133513 & (n | n << 2), left | n << 2;
      };
      docs.deinterleave3 = function(a, b) {
        return a = a >>> b & 1227133513, a = 3272356035 & (a | a >>> 2), a = 251719695 & (a | a >>> 4), a = 4278190335 & (a | a >>> 8), (a = 1023 & (a | a >>> 16)) << 22 >> 22;
      };
      docs.nextCombination = function(n) {
        var i = n | n - 1;
        return i + 1 | (~i & -~i) - 1 >>> index(n) + 1;
      };
    }, {}],
    2 : [function(canCreateDiscussions, module, isSlidingUp) {
      function result(data, value, i) {
        i = i || 2;
        var match = value && value.length;
        var key = match ? value[0] * i : data.length;
        var node = push(data, 0, key, i, true);
        var triangles = [];
        if (!node || node.next === node.prev) {
          return triangles;
        }
        var minX;
        var minY;
        var maxX;
        var maxY;
        var x;
        var y;
        var size;
        if (match && (node = eliminateHoles(data, value, node, i)), data.length > 80 * i) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          var pos = i;
          for (; pos < key; pos = pos + i) {
            x = data[pos];
            y = data[pos + 1];
            if (x < minX) {
              minX = x;
            }
            if (y < minY) {
              minY = y;
            }
            if (x > maxX) {
              maxX = x;
            }
            if (y > maxY) {
              maxY = y;
            }
          }
          size = Math.max(maxX - minX, maxY - minY);
          size = 0 !== size ? 1 / size : 0;
        }
        return earcutLinked(node, triangles, i, minX, minY, size), triangles;
      }
      function push(row, e, index, step, force) {
        var i;
        var p;
        if (force === x(row, e, index, step) > 0) {
          i = e;
          for (; i < index; i = i + step) {
            p = fn(i, row[i], row[i + 1], p);
          }
        } else {
          i = index - step;
          for (; i >= e; i = i - step) {
            p = fn(i, row[i], row[i + 1], p);
          }
        }
        return p && equals(p, p.next) && (removeNode(p), p = p.next), p;
      }
      function filterPoints(start, end) {
        if (!start) {
          return start;
        }
        if (!end) {
          end = start;
        }
        var again;
        var p = start;
        do {
          if (again = false, p.steiner || !equals(p, p.next) && 0 !== callback(p.prev, p, p.next)) {
            p = p.next;
          } else {
            if (removeNode(p), (p = end = p.prev) === p.next) {
              break;
            }
            again = true;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, size, pass) {
        if (ear) {
          if (!pass && size) {
            indexCurve(ear, minX, minY, size);
          }
          var prev;
          var next;
          var stop = ear;
          for (; ear.prev !== ear.next;) {
            if (prev = ear.prev, next = ear.next, size ? isEarHashed(ear, minX, minY, size) : isEar(ear)) {
              triangles.push(prev.i / dim);
              triangles.push(ear.i / dim);
              triangles.push(next.i / dim);
              removeNode(ear);
              ear = next.next;
              stop = next.next;
            } else {
              if ((ear = next) === stop) {
                if (pass) {
                  if (1 === pass) {
                    ear = cureLocalIntersections(ear, triangles, dim);
                    earcutLinked(ear, triangles, dim, minX, minY, size, 2);
                  } else {
                    if (2 === pass) {
                      splitEarcut(ear, triangles, dim, minX, minY, size);
                    }
                  }
                } else {
                  earcutLinked(filterPoints(ear), triangles, dim, minX, minY, size, 1);
                }
                break;
              }
            }
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev;
        var b = ear;
        var c = ear.next;
        if (callback(a, b, c) >= 0) {
          return false;
        }
        var p = ear.next.next;
        for (; p !== ear.prev;) {
          if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && callback(p.prev, p, p.next) >= 0) {
            return false;
          }
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, size) {
        var a = ear.prev;
        var b = ear;
        var c = ear.next;
        if (callback(a, b, c) >= 0) {
          return false;
        }
        var minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x;
        var minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y;
        var maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x;
        var maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y;
        var minZ = zOrder(minTX, minTY, minX, minY, size);
        var maxZ = zOrder(maxTX, maxTY, minX, minY, size);
        var node = ear.prevZ;
        var p = ear.nextZ;
        for (; node && node.z >= minZ && p && p.z <= maxZ;) {
          if (node !== ear.prev && node !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, node.x, node.y) && callback(node.prev, node, node.next) >= 0) {
            return false;
          }
          if (node = node.prevZ, p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && callback(p.prev, p, p.next) >= 0) {
            return false;
          }
          p = p.nextZ;
        }
        for (; node && node.z >= minZ;) {
          if (node !== ear.prev && node !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, node.x, node.y) && callback(node.prev, node, node.next) >= 0) {
            return false;
          }
          node = node.prevZ;
        }
        for (; p && p.z <= maxZ;) {
          if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && callback(p.prev, p, p.next) >= 0) {
            return false;
          }
          p = p.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev;
          var b = p.next.next;
          if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim);
            triangles.push(p.i / dim);
            triangles.push(b.i / dim);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return p;
      }
      function splitEarcut(start, triangles, dim, minX, minY, size) {
        var a = start;
        do {
          var b = a.next.next;
          for (; b !== a.prev;) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              return a = filterPoints(a, a.next), c = filterPoints(c, c.next), earcutLinked(a, triangles, dim, minX, minY, size), void earcutLinked(c, triangles, dim, minX, minY, size);
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var i;
        var len;
        var start;
        var key;
        var list;
        var queue = [];
        i = 0;
        len = holeIndices.length;
        for (; i < len; i++) {
          start = holeIndices[i] * dim;
          key = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
          list = push(data, start, key, dim, false);
          if (list === list.next) {
            list.steiner = true;
          }
          queue.push(getLeftmost(list));
        }
        queue.sort(d);
        i = 0;
        for (; i < queue.length; i++) {
          eliminateHole(queue[i], outerNode);
          outerNode = filterPoints(outerNode, outerNode.next);
        }
        return outerNode;
      }
      function d(e, t) {
        return e.x - t.x;
      }
      function eliminateHole(hole, outerNode) {
        if (outerNode = findHoleBridge(hole, outerNode)) {
          var b = splitPolygon(outerNode, hole);
          filterPoints(b, b.next);
        }
      }
      function findHoleBridge(b, target) {
        var result;
        var node = target;
        var x = b.x;
        var y = b.y;
        var count = -1 / 0;
        do {
          if (y <= node.y && y >= node.next.y && node.next.y !== node.y) {
            var k = node.x + (y - node.y) * (node.next.x - node.x) / (node.next.y - node.y);
            if (k <= x && k > count) {
              if (count = k, k === x) {
                if (y === node.y) {
                  return node;
                }
                if (y === node.next.y) {
                  return node.next;
                }
              }
              result = node.x < node.next.x ? node : node.next;
            }
          }
          node = node.next;
        } while (node !== target);
        if (!result) {
          return null;
        }
        if (x === count) {
          return result.prev;
        }
        var i;
        var context = result;
        var threshold = result.x;
        var max = result.y;
        var l = 1 / 0;
        node = result.next;
        for (; node !== context;) {
          if (x >= node.x && node.x >= threshold && x !== node.x && pointInTriangle(y < max ? x : count, y, threshold, max, y < max ? count : x, y, node.x, node.y) && ((i = Math.abs(y - node.y) / (x - node.x)) < l || i === l && node.x > result.x) && locallyInside(node, b)) {
            result = node;
            l = i;
          }
          node = node.next;
        }
        return result;
      }
      function indexCurve(start, minX, minY, size) {
        var p = start;
        do {
          if (null === p.z) {
            p.z = zOrder(p.x, p.y, minX, minY, size);
          }
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i;
        var p;
        var q;
        var e;
        var tail;
        var s;
        var pSize;
        var qSize;
        var inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          s = 0;
          for (; p;) {
            s++;
            q = p;
            pSize = 0;
            i = 0;
            for (; i < inSize && (pSize++, q = q.nextZ); i++) {
            }
            qSize = inSize;
            for (; pSize > 0 || qSize > 0 && q;) {
              if (0 !== pSize && (0 === qSize || !q || p.z <= q.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q;
                q = q.nextZ;
                qSize--;
              }
              if (tail) {
                tail.nextZ = e;
              } else {
                list = e;
              }
              e.prevZ = tail;
              tail = e;
            }
            p = q;
          }
          tail.nextZ = null;
          inSize = inSize * 2;
        } while (s > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, size) {
        return x = 32767 * (x - minX) * size, y = 32767 * (y - minY) * size, x = 16711935 & (x | x << 8), x = 252645135 & (x | x << 4), x = 858993459 & (x | x << 2), x = 1431655765 & (x | x << 1), y = 16711935 & (y | y << 8), y = 252645135 & (y | y << 4), y = 858993459 & (y | y << 2), y = 1431655765 & (y | y << 1), x | y << 1;
      }
      function getLeftmost(start) {
        var p = start;
        var leftmost = start;
        do {
          if (p.x < leftmost.x) {
            leftmost = p;
          }
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(p, r, b, s, c, h, a, d) {
        return (c - a) * (r - d) - (p - a) * (h - d) >= 0 && (p - a) * (s - d) - (b - a) * (r - d) >= 0 && (b - a) * (h - d) - (c - a) * (s - d) >= 0;
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);
      }
      function callback(p, s, d) {
        return (s.y - p.y) * (d.x - s.x) - (s.x - p.x) * (d.y - s.y);
      }
      function equals(d, node) {
        return d.x === node.x && d.y === node.y;
      }
      function intersects(a, b, c, p) {
        return !!(equals(a, b) && equals(c, p) || equals(a, p) && equals(c, b)) || callback(a, b, c) > 0 != callback(a, b, p) > 0 && callback(c, p, a) > 0 != callback(c, p, b) > 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) {
            return true;
          }
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(e, b) {
        return callback(e.prev, e, e.next) < 0 ? callback(e, b, e.next) >= 0 && callback(e, e.prev, b) >= 0 : callback(e, b, e.prev) < 0 || callback(e, e.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a;
        var inside = false;
        var i = (a.x + b.x) / 2;
        var py = (a.y + b.y) / 2;
        do {
          if (p.y > py != p.next.y > py && p.next.y !== p.y && i < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) {
            inside = !inside;
          }
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var c = new Node(a.i, a.x, a.y);
        var p = new Node(b.i, b.x, b.y);
        var i = a.next;
        var n = b.prev;
        return a.next = b, b.prev = a, c.next = i, i.prev = c, p.next = c, c.prev = p, n.next = p, p.prev = n, p;
      }
      function fn(m, y, x, node) {
        var p = new Node(m, y, x);
        return node ? (p.next = node.next, p.prev = node, node.next.prev = p, node.next = p) : (p.prev = p, p.next = p), p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ) {
          p.prevZ.nextZ = p.nextZ;
        }
        if (p.nextZ) {
          p.nextZ.prevZ = p.prevZ;
        }
      }
      function Node(idx, x, y) {
        this.i = idx;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = null;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      function x(data, col, index, n) {
        var ret = 0;
        var i = col;
        var j = index - n;
        for (; i < index; i = i + n) {
          ret = ret + (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return ret;
      }
      module.exports = result;
      module.exports.default = result;
      result.deviation = function(data, m, y, array) {
        var e = m && m.length;
        var pos = e ? m[0] * y : data.length;
        var b = Math.abs(x(data, 0, pos, y));
        if (e) {
          var i = 0;
          var length = m.length;
          for (; i < length; i++) {
            var j = m[i] * y;
            var dStartDateTime = i < length - 1 ? m[i + 1] * y : data.length;
            b = b - Math.abs(x(data, j, dStartDateTime, y));
          }
        }
        var a = 0;
        i = 0;
        for (; i < array.length; i = i + 3) {
          var j = array[i] * y;
          var testOffset = array[i + 1] * y;
          var inPtr = array[i + 2] * y;
          a = a + Math.abs((data[j] - data[inPtr]) * (data[testOffset + 1] - data[j + 1]) - (data[j] - data[testOffset]) * (data[inPtr + 1] - data[j + 1]));
        }
        return 0 === b && 0 === a ? 0 : Math.abs((a - b) / b);
      };
      result.flatten = function(a) {
        var dimensions = a[0][0].length;
        var result = {
          vertices : [],
          holes : [],
          dimensions : dimensions
        };
        var index = 0;
        var i = 0;
        for (; i < a.length; i++) {
          var n = 0;
          for (; n < a[i].length; n++) {
            var j = 0;
            for (; j < dimensions; j++) {
              result.vertices.push(a[i][n][j]);
            }
          }
          if (i > 0) {
            index = index + a[i - 1].length;
            result.holes.push(index);
          }
        }
        return result;
      };
    }, {}],
    3 : [function(canCreateDiscussions, module, isSlidingUp) {
      function Events() {
      }
      function EE(fn, context, once) {
        this.fn = fn;
        this.context = context;
        this.once = once || false;
      }
      function EventEmitter() {
        this._events = new Events;
        this._eventsCount = 0;
      }
      var has = Object.prototype.hasOwnProperty;
      var prefix = "~";
      if (Object.create) {
        Events.prototype = Object.create(null);
        if (!(new Events).__proto__) {
          prefix = false;
        }
      }
      EventEmitter.prototype.eventNames = function() {
        var events;
        var name;
        var names = [];
        if (0 === this._eventsCount) {
          return names;
        }
        for (name in events = this._events) {
          if (has.call(events, name)) {
            names.push(prefix ? name.slice(1) : name);
          }
        }
        return Object.getOwnPropertySymbols ? names.concat(Object.getOwnPropertySymbols(events)) : names;
      };
      EventEmitter.prototype.listeners = function(name, checkOnce) {
        var evt = prefix ? prefix + name : name;
        var available = this._events[evt];
        if (checkOnce) {
          return !!available;
        }
        if (!available) {
          return [];
        }
        if (available.fn) {
          return [available.fn];
        }
        var i = 0;
        var l = available.length;
        var ee = new Array(l);
        for (; i < l; i++) {
          ee[i] = available[i].fn;
        }
        return ee;
      };
      EventEmitter.prototype.emit = function(type, obj, event, data, f, args) {
        var name = prefix ? prefix + type : type;
        if (!this._events[name]) {
          return false;
        }
        var args;
        var i;
        var listeners = this._events[name];
        var len = arguments.length;
        if (listeners.fn) {
          switch(listeners.once && this.removeListener(type, listeners.fn, void 0, true), len) {
            case 1:
              return listeners.fn.call(listeners.context), true;
            case 2:
              return listeners.fn.call(listeners.context, obj), true;
            case 3:
              return listeners.fn.call(listeners.context, obj, event), true;
            case 4:
              return listeners.fn.call(listeners.context, obj, event, data), true;
            case 5:
              return listeners.fn.call(listeners.context, obj, event, data, f), true;
            case 6:
              return listeners.fn.call(listeners.context, obj, event, data, f, args), true;
          }
          i = 1;
          args = new Array(len - 1);
          for (; i < len; i++) {
            args[i - 1] = arguments[i];
          }
          listeners.fn.apply(listeners.context, args);
        } else {
          var j;
          var l = listeners.length;
          i = 0;
          for (; i < l; i++) {
            switch(listeners[i].once && this.removeListener(type, listeners[i].fn, void 0, true), len) {
              case 1:
                listeners[i].fn.call(listeners[i].context);
                break;
              case 2:
                listeners[i].fn.call(listeners[i].context, obj);
                break;
              case 3:
                listeners[i].fn.call(listeners[i].context, obj, event);
                break;
              case 4:
                listeners[i].fn.call(listeners[i].context, obj, event, data);
                break;
              default:
                if (!args) {
                  j = 1;
                  args = new Array(len - 1);
                  for (; j < len; j++) {
                    args[j - 1] = arguments[j];
                  }
                }
                listeners[i].fn.apply(listeners[i].context, args);
            }
          }
        }
        return true;
      };
      EventEmitter.prototype.on = function(type, fn, context) {
        var listener = new EE(fn, context || this);
        var name = prefix ? prefix + type : type;
        return this._events[name] ? this._events[name].fn ? this._events[name] = [this._events[name], listener] : this._events[name].push(listener) : (this._events[name] = listener, this._eventsCount++), this;
      };
      EventEmitter.prototype.once = function(type, fn, context) {
        var listener = new EE(fn, context || this, true);
        var name = prefix ? prefix + type : type;
        return this._events[name] ? this._events[name].fn ? this._events[name] = [this._events[name], listener] : this._events[name].push(listener) : (this._events[name] = listener, this._eventsCount++), this;
      };
      EventEmitter.prototype.removeListener = function(name, fn, context, element) {
        var evt = prefix ? prefix + name : name;
        if (!this._events[evt]) {
          return this;
        }
        if (!fn) {
          return 0 == --this._eventsCount ? this._events = new Events : delete this._events[evt], this;
        }
        var listeners = this._events[evt];
        if (listeners.fn) {
          if (!(listeners.fn !== fn || element && !listeners.once || context && listeners.context !== context)) {
            if (0 == --this._eventsCount) {
              this._events = new Events;
            } else {
              delete this._events[evt];
            }
          }
        } else {
          var i = 0;
          var events = [];
          var l = listeners.length;
          for (; i < l; i++) {
            if (listeners[i].fn !== fn || element && !listeners[i].once || context && listeners[i].context !== context) {
              events.push(listeners[i]);
            }
          }
          if (events.length) {
            this._events[evt] = 1 === events.length ? events[0] : events;
          } else {
            if (0 == --this._eventsCount) {
              this._events = new Events;
            } else {
              delete this._events[evt];
            }
          }
        }
        return this;
      };
      EventEmitter.prototype.removeAllListeners = function(name) {
        var type;
        return name ? (type = prefix ? prefix + name : name, this._events[type] && (0 == --this._eventsCount ? this._events = new Events : delete this._events[type])) : (this._events = new Events, this._eventsCount = 0), this;
      };
      EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
      EventEmitter.prototype.addListener = EventEmitter.prototype.on;
      EventEmitter.prototype.setMaxListeners = function() {
        return this;
      };
      EventEmitter.prefixed = prefix;
      EventEmitter.EventEmitter = EventEmitter;
      if (void 0 !== module) {
        module.exports = EventEmitter;
      }
    }, {}],
    4 : [function(canCreateDiscussions, module, n) {
      !function(global) {
        function match(regex, userAgent) {
          return regex.test(userAgent);
        }
        function IsMobileClass(name) {
          var ua = name || ("undefined" != typeof navigator ? navigator.userAgent : "");
          var tmp = ua.split("[FBAN");
          if (void 0 !== tmp[1]) {
            ua = tmp[0];
          }
          if (void 0 !== (tmp = ua.split("Twitter"))[1]) {
            ua = tmp[0];
          }
          var mobile = {
            apple : {
              phone : match(apple_phone, ua) && !match(windows_phone, ua),
              ipod : match(apple_ipod, ua),
              tablet : !match(apple_phone, ua) && match(a, ua) && !match(windows_phone, ua),
              device : (match(apple_phone, ua) || match(apple_ipod, ua) || match(a, ua)) && !match(windows_phone, ua)
            },
            amazon : {
              phone : match(amazon_phone, ua),
              tablet : !match(amazon_phone, ua) && match(amazon_tablet, ua),
              device : match(amazon_phone, ua) || match(amazon_tablet, ua)
            },
            android : {
              phone : !match(windows_phone, ua) && match(amazon_phone, ua) || !match(windows_phone, ua) && match(rgb_rgba_integer_regex, ua),
              tablet : !match(windows_phone, ua) && !match(amazon_phone, ua) && !match(rgb_rgba_integer_regex, ua) && (match(amazon_tablet, ua) || match(android_tablet, ua)),
              device : !match(windows_phone, ua) && (match(amazon_phone, ua) || match(amazon_tablet, ua) || match(rgb_rgba_integer_regex, ua) || match(android_tablet, ua))
            },
            windows : {
              phone : match(windows_phone, ua),
              tablet : match(windows_tablet, ua),
              device : match(windows_phone, ua) || match(windows_tablet, ua)
            },
            other : {
              blackberry : match(other_blackberry, ua),
              blackberry10 : match(other_blackberry_10, ua),
              opera : match(other_opera, ua),
              firefox : match(other_firefox, ua),
              chrome : match(other_chrome, ua),
              device : match(other_blackberry, ua) || match(other_blackberry_10, ua) || match(other_opera, ua) || match(other_firefox, ua) || match(other_chrome, ua)
            }
          };
          return mobile.any = mobile.apple.device || mobile.android.device || mobile.windows.device || mobile.other.device, mobile.phone = mobile.apple.phone || mobile.android.phone || mobile.windows.phone, mobile.tablet = mobile.apple.tablet || mobile.android.tablet || mobile.windows.tablet, mobile;
        }
        var apple_phone = /iPhone/i;
        var apple_ipod = /iPod/i;
        var a = /iPad/i;
        var rgb_rgba_integer_regex = /\bAndroid(?:.+)Mobile\b/i;
        var android_tablet = /Android/i;
        var amazon_phone = /\bAndroid(?:.+)SD4930UR\b/i;
        var amazon_tablet = /\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i;
        var windows_phone = /Windows Phone/i;
        var windows_tablet = /\bWindows(?:.+)ARM\b/i;
        var other_blackberry = /BlackBerry/i;
        var other_blackberry_10 = /BB10/i;
        var other_opera = /Opera Mini/i;
        var other_chrome = /\b(CriOS|Chrome)(?:.+)Mobile/i;
        var other_firefox = /Mobile(?:.+)Firefox\b/i;
        if (void 0 !== module && module.exports && "undefined" == typeof window) {
          module.exports = IsMobileClass;
        } else {
          if (void 0 !== module && module.exports && "undefined" != typeof window) {
            module.exports = IsMobileClass();
          } else {
            if ("function" == typeof define && define.amd) {
              define([], global.isMobile = IsMobileClass());
            } else {
              global.isMobile = IsMobileClass();
            }
          }
        }
      }(this);
    }, {}],
    5 : [function(canCreateDiscussions, module, exports) {
      function n(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _addMiniSignalBinding(self, node) {
        return self._head ? (self._tail._next = node, node._prev = self._tail, self._tail = node) : (self._head = node, self._tail = node), node._owner = self, node;
      }
      Object.defineProperty(exports, "__esModule", {
        value : true
      });
      var i = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var Type = function() {
        function t(fn, once, instance) {
          if (void 0 === once) {
            once = false;
          }
          n(this, t);
          this._fn = fn;
          this._once = once;
          this._thisArg = instance;
          this._next = this._prev = this._owner = null;
        }
        return i(t, [{
          key : "detach",
          value : function() {
            return null !== this._owner && (this._owner.detach(this), true);
          }
        }]), t;
      }();
      var Message = function() {
        function t() {
          n(this, t);
          this._head = this._tail = void 0;
        }
        return i(t, [{
          key : "handlers",
          value : function() {
            var t = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0];
            var current = this._head;
            if (t) {
              return !!current;
            }
            var keys = [];
            for (; current;) {
              keys.push(current);
              current = current._next;
            }
            return keys;
          }
        }, {
          key : "has",
          value : function(type) {
            if (!(type instanceof Type)) {
              throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
            }
            return type._owner === this;
          }
        }, {
          key : "dispatch",
          value : function() {
            var node = this._head;
            if (!node) {
              return false;
            }
            for (; node;) {
              if (node._once) {
                this.detach(node);
              }
              node._fn.apply(node._thisArg, arguments);
              node = node._next;
            }
            return true;
          }
        }, {
          key : "add",
          value : function(type) {
            var thisArg = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
            if ("function" != typeof type) {
              throw new Error("MiniSignal#add(): First arg must be a Function.");
            }
            return _addMiniSignalBinding(this, new Type(type, false, thisArg));
          }
        }, {
          key : "once",
          value : function(type) {
            var thisArg = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
            if ("function" != typeof type) {
              throw new Error("MiniSignal#once(): First arg must be a Function.");
            }
            return _addMiniSignalBinding(this, new Type(type, true, thisArg));
          }
        }, {
          key : "detach",
          value : function(type) {
            if (!(type instanceof Type)) {
              throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
            }
            return type._owner !== this ? this : (type._prev && (type._prev._next = type._next), type._next && (type._next._prev = type._prev), type === this._head ? (this._head = type._next, null === type._next && (this._tail = null)) : type === this._tail && (this._tail = type._prev, this._tail._next = null), type._owner = null, this);
          }
        }, {
          key : "detachAll",
          value : function() {
            var node = this._head;
            if (!node) {
              return this;
            }
            this._head = this._tail = null;
            for (; node;) {
              node._owner = null;
              node = node._next;
            }
            return this;
          }
        }]), t;
      }();
      Message.MiniSignalBinding = Type;
      exports.default = Message;
      module.exports = exports.default;
    }, {}],
    6 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      function toObject(val) {
        if (null === val || void 0 === val) {
          throw new TypeError("Object.assign cannot be called with null or undefined");
        }
        return Object(val);
      }
      var ownSymbols = Object.getOwnPropertySymbols;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var fn = Object.prototype.propertyIsEnumerable;
      mixin.exports = function() {
        try {
          if (!Object.assign) {
            return false;
          }
          var test1 = new String("abc");
          if (test1[5] = "de", "5" === Object.getOwnPropertyNames(test1)[0]) {
            return false;
          }
          var obj = {};
          var end = 0;
          for (; end < 10; end++) {
            obj["_" + String.fromCharCode(end)] = end;
          }
          if ("0123456789" !== Object.getOwnPropertyNames(obj).map(function(sourcePropKey) {
            return obj[sourcePropKey];
          }).join("")) {
            return false;
          }
          var b = {};
          return "abcdefghijklmnopqrst".split("").forEach(function(gid) {
            b[gid] = gid;
          }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, b)).join("");
        } catch (t) {
          return false;
        }
      }() ? Object.assign : function(str, var_args) {
        var obj;
        var keys;
        var src = toObject(str);
        var i = 1;
        for (; i < arguments.length; i++) {
          obj = Object(arguments[i]);
          var key;
          for (key in obj) {
            if (hasOwnProperty.call(obj, key)) {
              src[key] = obj[key];
            }
          }
          if (ownSymbols) {
            keys = ownSymbols(obj);
            var i = 0;
            for (; i < keys.length; i++) {
              if (fn.call(obj, keys[i])) {
                src[keys[i]] = obj[keys[i]];
              }
            }
          }
        }
        return src;
      };
    }, {}],
    7 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      mixin.exports = function(name, options) {
        options = options || {};
        var o = {
          key : ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
          q : {
            name : "queryKey",
            parser : /(?:^|&)([^&=]*)=?([^&]*)/g
          },
          parser : {
            strict : /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
            loose : /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
          }
        };
        var n = o.parser[options.strictMode ? "strict" : "loose"].exec(name);
        var env = {};
        var i = 14;
        for (; i--;) {
          env[o.key[i]] = n[i] || "";
        }
        return env[o.q.name] = {}, env[o.key[12]].replace(o.q.parser, function(canCreateDiscussions, s, index) {
          if (s) {
            env[o.q.name][s] = index;
          }
        }), env;
      };
    }, {}],
    8 : [function(require, canCreateDiscussions, exports) {
      (function(extra) {
        function normalizeArray(v, array) {
          var r = 0;
          var i = v.length - 1;
          for (; i >= 0; i--) {
            var vval = v[i];
            if ("." === vval) {
              v.splice(i, 1);
            } else {
              if (".." === vval) {
                v.splice(i, 1);
                r++;
              } else {
                if (r) {
                  v.splice(i, 1);
                  r--;
                }
              }
            }
          }
          if (array) {
            for (; r--; r) {
              v.unshift("..");
            }
          }
          return v;
        }
        function filter(m, c) {
          if (m.filter) {
            return m.filter(c);
          }
          var ret = [];
          var i = 0;
          for (; i < m.length; i++) {
            if (c(m[i], i, m)) {
              ret.push(m[i]);
            }
          }
          return ret;
        }
        var testFileRegex = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
        var splitPath = function(filename) {
          return testFileRegex.exec(filename).slice(1);
        };
        exports.resolve = function() {
          var resolvedPath = "";
          var resolvedAbsolute = false;
          var i = arguments.length - 1;
          for (; i >= -1 && !resolvedAbsolute; i--) {
            var path = i >= 0 ? arguments[i] : extra.cwd();
            if ("string" != typeof path) {
              throw new TypeError("Arguments to path.resolve must be strings");
            }
            if (path) {
              resolvedPath = path + "/" + resolvedPath;
              resolvedAbsolute = "/" === path.charAt(0);
            }
          }
          return resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function(canCreateDiscussions) {
            return !!canCreateDiscussions;
          }), !resolvedAbsolute).join("/"), (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
        };
        exports.normalize = function(path) {
          var isAbsolute = exports.isAbsolute(path);
          var synthetic = "/" === getInfoBoxData(path, -1);
          return path = normalizeArray(filter(path.split("/"), function(canCreateDiscussions) {
            return !!canCreateDiscussions;
          }), !isAbsolute).join("/"), path || isAbsolute || (path = "."), path && synthetic && (path = path + "/"), (isAbsolute ? "/" : "") + path;
        };
        exports.isAbsolute = function(pathname) {
          return "/" === pathname.charAt(0);
        };
        exports.join = function() {
          var t = Array.prototype.slice.call(arguments, 0);
          return exports.normalize(filter(t, function(v, canCreateDiscussions) {
            if ("string" != typeof v) {
              throw new TypeError("Arguments to path.join must be strings");
            }
            return v;
          }).join("/"));
        };
        exports.relative = function(e, parent) {
          function trim(s) {
            var i = 0;
            for (; i < s.length && "" === s[i]; i++) {
            }
            var k = s.length - 1;
            for (; k >= 0 && "" === s[k]; k--) {
            }
            return i > k ? [] : s.slice(i, k - i + 1);
          }
          e = exports.resolve(e).substr(1);
          parent = exports.resolve(parent).substr(1);
          var fromParts = trim(e.split("/"));
          var toParts = trim(parent.split("/"));
          var length = Math.min(fromParts.length, toParts.length);
          var samePartsLength = length;
          var i = 0;
          for (; i < length; i++) {
            if (fromParts[i] !== toParts[i]) {
              samePartsLength = i;
              break;
            }
          }
          var outputParts = [];
          i = samePartsLength;
          for (; i < fromParts.length; i++) {
            outputParts.push("..");
          }
          return outputParts = outputParts.concat(toParts.slice(samePartsLength)), outputParts.join("/");
        };
        exports.sep = "/";
        exports.delimiter = ":";
        exports.dirname = function(path) {
          var parts = splitPath(path);
          var p = parts[0];
          var d = parts[1];
          return p || d ? (d && (d = d.substr(0, d.length - 1)), p + d) : ".";
        };
        exports.basename = function(path, ext) {
          var font = splitPath(path)[2];
          return ext && font.substr(-1 * ext.length) === ext && (font = font.substr(0, font.length - ext.length)), font;
        };
        exports.extname = function(path) {
          return splitPath(path)[3];
        };
        var getInfoBoxData = "b" === "ab".substr(-1) ? function(options, e, r) {
          return options.substr(e, r);
        } : function(query, i, matchLength) {
          return i < 0 && (i = query.length + i), query.substr(i, matchLength);
        };
      }).call(this, require("_process"));
    }, {
      _process : 26
    }],
    9 : [function(canCreateDiscussions, context, isSlidingUp) {
      var data = new ArrayBuffer(0);
      var Buffer = function(context, type, file, mode) {
        this.gl = context;
        this.buffer = context.createBuffer();
        this.type = type || context.ARRAY_BUFFER;
        this.drawType = mode || context.STATIC_DRAW;
        this.data = data;
        if (file) {
          this.upload(file);
        }
        this._updateID = 0;
      };
      Buffer.prototype.upload = function(data, offset, force) {
        if (!force) {
          this.bind();
        }
        var gl = this.gl;
        data = data || this.data;
        offset = offset || 0;
        if (this.data.byteLength >= data.byteLength) {
          gl.bufferSubData(this.type, offset, data);
        } else {
          gl.bufferData(this.type, data, this.drawType);
        }
        this.data = data;
      };
      Buffer.prototype.bind = function() {
        this.gl.bindBuffer(this.type, this.buffer);
      };
      Buffer.createVertexBuffer = function(gl, data, drawType) {
        return new Buffer(gl, gl.ARRAY_BUFFER, data, drawType);
      };
      Buffer.createIndexBuffer = function(gl, data, drawType) {
        return new Buffer(gl, gl.ELEMENT_ARRAY_BUFFER, data, drawType);
      };
      Buffer.create = function(source, target, type, name) {
        return new Buffer(source, target, type, name);
      };
      Buffer.prototype.destroy = function() {
        this.gl.deleteBuffer(this.buffer);
      };
      context.exports = Buffer;
    }, {}],
    10 : [function(__webpack_require__, module, canCreateDiscussions) {
      var PIXI = __webpack_require__("./GLTexture");
      var Texture = function(context, type, h) {
        this.gl = context;
        this.framebuffer = context.createFramebuffer();
        this.stencil = null;
        this.texture = null;
        this.width = type || 100;
        this.height = h || 100;
      };
      Texture.prototype.enableTexture = function(texture) {
        var gl = this.gl;
        this.texture = texture || new PIXI(gl);
        this.texture.bind();
        this.bind();
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);
      };
      Texture.prototype.enableStencil = function() {
        if (!this.stencil) {
          var gl = this.gl;
          this.stencil = gl.createRenderbuffer();
          gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);
          gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.stencil);
          gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, this.width, this.height);
        }
      };
      Texture.prototype.clear = function(name, g, b, a) {
        this.bind();
        var gl = this.gl;
        gl.clearColor(name, g, b, a);
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
      };
      Texture.prototype.bind = function() {
        var gl = this.gl;
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);
      };
      Texture.prototype.unbind = function() {
        var gl = this.gl;
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      };
      Texture.prototype.resize = function(width, height) {
        var gl = this.gl;
        this.width = width;
        this.height = height;
        if (this.texture) {
          this.texture.uploadData(null, width, height);
        }
        if (this.stencil) {
          gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);
          gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width, height);
        }
      };
      Texture.prototype.destroy = function() {
        var gl = this.gl;
        if (this.texture) {
          this.texture.destroy();
        }
        gl.deleteFramebuffer(this.framebuffer);
        this.gl = null;
        this.stencil = null;
        this.texture = null;
      };
      Texture.createRGBA = function(gl, width, height, alpha) {
        var texture = PIXI.fromData(gl, null, width, height);
        texture.enableNearestScaling();
        texture.enableWrapClamp();
        var fbo = new Texture(gl, width, height);
        return fbo.enableTexture(texture), fbo.unbind(), fbo;
      };
      Texture.createFloat32 = function(gl, width, height, data) {
        var texture = new PIXI.fromData(gl, data, width, height);
        texture.enableNearestScaling();
        texture.enableWrapClamp();
        var fbo = new Texture(gl, width, height);
        return fbo.enableTexture(texture), fbo.unbind(), fbo;
      };
      module.exports = Texture;
    }, {
      "./GLTexture" : 12
    }],
    11 : [function($, module, canCreateDiscussions) {
      var callback = $("./shader/compileProgram");
      var defaultValue = $("./shader/extractAttributes");
      var set = $("./shader/extractUniforms");
      var s = $("./shader/setPrecision");
      var parseInt = $("./shader/generateUniformAccessObject");
      var render = function(name, b, value, options, f) {
        this.gl = name;
        if (options) {
          b = s(b, options);
          value = s(value, options);
        }
        this.program = callback(name, b, value, f);
        this.attributes = defaultValue(name, this.program);
        this.uniformData = set(name, this.program);
        this.uniforms = parseInt(name, this.uniformData);
      };
      render.prototype.bind = function() {
        return this.gl.useProgram(this.program), this;
      };
      render.prototype.destroy = function() {
        this.attributes = null;
        this.uniformData = null;
        this.uniforms = null;
        this.gl.deleteProgram(this.program);
      };
      module.exports = render;
    }, {
      "./shader/compileProgram" : 17,
      "./shader/extractAttributes" : 19,
      "./shader/extractUniforms" : 20,
      "./shader/generateUniformAccessObject" : 21,
      "./shader/setPrecision" : 25
    }],
    12 : [function(canCreateDiscussions, module, isSlidingUp) {
      var Texture = function(context, name, h, format, type) {
        this.gl = context;
        this.texture = context.createTexture();
        this.mipmap = false;
        this.premultiplyAlpha = false;
        this.width = name || -1;
        this.height = h || -1;
        this.format = format || context.RGBA;
        this.type = type || context.UNSIGNED_BYTE;
      };
      Texture.prototype.upload = function(image) {
        this.bind();
        var gl = this.gl;
        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
        var width = image.videoWidth || image.width;
        var height = image.videoHeight || image.height;
        if (height !== this.height || width !== this.width) {
          gl.texImage2D(gl.TEXTURE_2D, 0, this.format, this.format, this.type, image);
        } else {
          gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, this.format, this.type, image);
        }
        this.width = width;
        this.height = height;
      };
      var i = false;
      Texture.prototype.uploadData = function(data, width, height) {
        this.bind();
        var gl = this.gl;
        if (data instanceof Float32Array) {
          if (!i) {
            if (!gl.getExtension("OES_texture_float")) {
              throw new Error("floating point textures not available");
            }
            i = true;
          }
          this.type = gl.FLOAT;
        } else {
          this.type = this.type || gl.UNSIGNED_BYTE;
        }
        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
        if (width !== this.width || height !== this.height) {
          gl.texImage2D(gl.TEXTURE_2D, 0, this.format, width, height, 0, this.format, this.type, data || null);
        } else {
          gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, width, height, this.format, this.type, data || null);
        }
        this.width = width;
        this.height = height;
      };
      Texture.prototype.bind = function(target) {
        var gl = this.gl;
        if (void 0 !== target) {
          gl.activeTexture(gl.TEXTURE0 + target);
        }
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
      };
      Texture.prototype.unbind = function() {
        var gl = this.gl;
        gl.bindTexture(gl.TEXTURE_2D, null);
      };
      Texture.prototype.minFilter = function(linear) {
        var gl = this.gl;
        this.bind();
        if (this.mipmap) {
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);
        } else {
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR : gl.NEAREST);
        }
      };
      Texture.prototype.magFilter = function(linear) {
        var gl = this.gl;
        this.bind();
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, linear ? gl.LINEAR : gl.NEAREST);
      };
      Texture.prototype.enableMipmap = function() {
        var gl = this.gl;
        this.bind();
        this.mipmap = true;
        gl.generateMipmap(gl.TEXTURE_2D);
      };
      Texture.prototype.enableLinearScaling = function() {
        this.minFilter(true);
        this.magFilter(true);
      };
      Texture.prototype.enableNearestScaling = function() {
        this.minFilter(false);
        this.magFilter(false);
      };
      Texture.prototype.enableWrapClamp = function() {
        var gl = this.gl;
        this.bind();
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
      };
      Texture.prototype.enableWrapRepeat = function() {
        var gl = this.gl;
        this.bind();
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
      };
      Texture.prototype.enableWrapMirrorRepeat = function() {
        var gl = this.gl;
        this.bind();
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);
      };
      Texture.prototype.destroy = function() {
        this.gl.deleteTexture(this.texture);
      };
      Texture.fromSource = function(gl, source, premultiplyAlpha) {
        var texture = new Texture(gl);
        return texture.premultiplyAlpha = premultiplyAlpha || false, texture.upload(source), texture;
      };
      Texture.fromData = function(gl, data, width, height) {
        var texture = new Texture(gl);
        return texture.uploadData(data, width, height), texture;
      };
      module.exports = Texture;
    }, {}],
    13 : [function(saveNotifs, context, canCreateDiscussions) {
      function init(context, obj) {
        if (this.nativeVaoExtension = null, init.FORCE_NATIVE || (this.nativeVaoExtension = context.getExtension("OES_vertex_array_object") || context.getExtension("MOZ_OES_vertex_array_object") || context.getExtension("WEBKIT_OES_vertex_array_object")), this.nativeState = obj, this.nativeVaoExtension) {
          this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();
          var maxAttribs = context.getParameter(context.MAX_VERTEX_ATTRIBS);
          this.nativeState = {
            tempAttribState : new Array(maxAttribs),
            attribState : new Array(maxAttribs)
          };
        }
        this.gl = context;
        this.attributes = [];
        this.indexBuffer = null;
        this.dirty = false;
      }
      var setVertexAttribArrays = saveNotifs("./setVertexAttribArrays");
      init.prototype.constructor = init;
      context.exports = init;
      init.FORCE_NATIVE = false;
      init.prototype.bind = function() {
        if (this.nativeVao) {
          if (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.dirty) {
            return this.dirty = false, this.activate(), this;
          }
          if (this.indexBuffer) {
            this.indexBuffer.bind();
          }
        } else {
          this.activate();
        }
        return this;
      };
      init.prototype.unbind = function() {
        return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null), this;
      };
      init.prototype.activate = function() {
        var gl = this.gl;
        var lastBuffer = null;
        var i = 0;
        for (; i < this.attributes.length; i++) {
          var attrib = this.attributes[i];
          if (lastBuffer !== attrib.buffer) {
            attrib.buffer.bind();
            lastBuffer = attrib.buffer;
          }
          gl.vertexAttribPointer(attrib.attribute.location, attrib.attribute.size, attrib.type || gl.FLOAT, attrib.normalized || false, attrib.stride || 0, attrib.start || 0);
        }
        return setVertexAttribArrays(gl, this.attributes, this.nativeState), this.indexBuffer && this.indexBuffer.bind(), this;
      };
      init.prototype.addAttribute = function(value, attribute, type, normalized, stride, start) {
        return this.attributes.push({
          buffer : value,
          attribute : attribute,
          location : attribute.location,
          type : type || this.gl.FLOAT,
          normalized : normalized || false,
          stride : stride || 0,
          start : start || 0
        }), this.dirty = true, this;
      };
      init.prototype.addIndex = function(buffer) {
        return this.indexBuffer = buffer, this.dirty = true, this;
      };
      init.prototype.clear = function() {
        return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.attributes.length = 0, this.indexBuffer = null, this;
      };
      init.prototype.draw = function(type, size, mode) {
        var gl = this.gl;
        return this.indexBuffer ? gl.drawElements(type, size || this.indexBuffer.data.length, gl.UNSIGNED_SHORT, 2 * (mode || 0)) : gl.drawArrays(type, mode, size || this.getSize()), this;
      };
      init.prototype.destroy = function() {
        this.gl = null;
        this.indexBuffer = null;
        this.attributes = null;
        this.nativeState = null;
        if (this.nativeVao) {
          this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);
        }
        this.nativeVaoExtension = null;
        this.nativeVao = null;
      };
      init.prototype.getSize = function() {
        var attrib = this.attributes[0];
        return attrib.buffer.data.length / (attrib.stride / 4 || attrib.attribute.size);
      };
    }, {
      "./setVertexAttribArrays" : 16
    }],
    14 : [function(canCreateDiscussions, exports, isSlidingUp) {
      var initialize = function(element, options) {
        var event = element.getContext("webgl", options) || element.getContext("experimental-webgl", options);
        if (!event) {
          throw new Error("This browser does not support webGL. Try using the canvas renderer");
        }
        return event;
      };
      exports.exports = initialize;
    }, {}],
    15 : [function(glslify, module, canCreateDiscussions) {
      var BinaryBundle = {
        createContext : glslify("./createContext"),
        setVertexAttribArrays : glslify("./setVertexAttribArrays"),
        GLBuffer : glslify("./GLBuffer"),
        GLFramebuffer : glslify("./GLFramebuffer"),
        GLShader : glslify("./GLShader"),
        GLTexture : glslify("./GLTexture"),
        VertexArrayObject : glslify("./VertexArrayObject"),
        shader : glslify("./shader")
      };
      if (void 0 !== module && module.exports) {
        module.exports = BinaryBundle;
      }
      if ("undefined" != typeof window) {
        window.PIXI = window.PIXI || {};
        window.PIXI.glCore = BinaryBundle;
      }
    }, {
      "./GLBuffer" : 9,
      "./GLFramebuffer" : 10,
      "./GLShader" : 11,
      "./GLTexture" : 12,
      "./VertexArrayObject" : 13,
      "./createContext" : 14,
      "./setVertexAttribArrays" : 16,
      "./shader" : 22
    }],
    16 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      var setVertexAttribArrays = function(name, obj, state) {
        var i;
        if (state) {
          var tempAttribState = state.tempAttribState;
          var attribState = state.attribState;
          i = 0;
          for (; i < tempAttribState.length; i++) {
            tempAttribState[i] = false;
          }
          i = 0;
          for (; i < obj.length; i++) {
            tempAttribState[obj[i].attribute.location] = true;
          }
          i = 0;
          for (; i < attribState.length; i++) {
            if (attribState[i] !== tempAttribState[i]) {
              attribState[i] = tempAttribState[i];
              if (state.attribState[i]) {
                name.enableVertexAttribArray(i);
              } else {
                name.disableVertexAttribArray(i);
              }
            }
          }
        } else {
          i = 0;
          for (; i < obj.length; i++) {
            var pkg = obj[i];
            name.enableVertexAttribArray(pkg.attribute.location);
          }
        }
      };
      mixin.exports = setVertexAttribArrays;
    }, {}],
    17 : [function(canCreateDiscussions, context, isSlidingUp) {
      var init = function(context, name, type, attrs) {
        var shader = loadShader(context, context.VERTEX_SHADER, name);
        var vs = loadShader(context, context.FRAGMENT_SHADER, type);
        var program = context.createProgram();
        if (context.attachShader(program, shader), context.attachShader(program, vs), attrs) {
          var i;
          for (i in attrs) {
            context.bindAttribLocation(program, attrs[i], i);
          }
        }
        return context.linkProgram(program), context.getProgramParameter(program, context.LINK_STATUS) || (console.error("Pixi.js Error: Could not initialize shader."), console.error("gl.VALIDATE_STATUS", context.getProgramParameter(program, context.VALIDATE_STATUS)), console.error("gl.getError()", context.getError()), "" !== context.getProgramInfoLog(program) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", context.getProgramInfoLog(program)), context.deleteProgram(program), program = 
        null), context.deleteShader(shader), context.deleteShader(vs), program;
      };
      var loadShader = function(ctx, type, source) {
        var s = ctx.createShader(type);
        return ctx.shaderSource(s, source), ctx.compileShader(s), ctx.getShaderParameter(s, ctx.COMPILE_STATUS) ? s : (console.log(ctx.getShaderInfoLog(s)), null);
      };
      context.exports = init;
    }, {}],
    18 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      var getTypeId = function(type, a) {
        switch(type) {
          case "float":
            return 0;
          case "vec2":
            return new Float32Array(2 * a);
          case "vec3":
            return new Float32Array(3 * a);
          case "vec4":
            return new Float32Array(4 * a);
          case "int":
          case "sampler2D":
            return 0;
          case "ivec2":
            return new Int32Array(2 * a);
          case "ivec3":
            return new Int32Array(3 * a);
          case "ivec4":
            return new Int32Array(4 * a);
          case "bool":
            return false;
          case "bvec2":
            return right(2 * a);
          case "bvec3":
            return right(3 * a);
          case "bvec4":
            return right(4 * a);
          case "mat2":
            return new Float32Array([1, 0, 0, 1]);
          case "mat3":
            return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
          case "mat4":
            return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
        }
      };
      var right = function(length) {
        var v = new Array(length);
        var i = 0;
        for (; i < v.length; i++) {
          v[i] = false;
        }
        return v;
      };
      mixin.exports = getTypeId;
    }, {}],
    19 : [function(require, context, canCreateDiscussions) {
      var property = require("./mapType");
      var computed = require("./mapSize");
      var init = function(context, target) {
        var attributes = {};
        var uniformCount = context.getProgramParameter(target, context.ACTIVE_ATTRIBUTES);
        var i = 0;
        for (; i < uniformCount; i++) {
          var attribute = context.getActiveAttrib(target, i);
          var type = property(context, attribute.type);
          attributes[attribute.name] = {
            type : type,
            size : computed(type),
            location : context.getAttribLocation(target, attribute.name),
            pointer : setup
          };
        }
        return attributes;
      };
      var setup = function(type, name, data, obj) {
        gl.vertexAttribPointer(this.location, this.size, type || gl.FLOAT, name || false, data || 0, obj || 0);
      };
      context.exports = init;
    }, {
      "./mapSize" : 23,
      "./mapType" : 24
    }],
    20 : [function(require, module, canCreateDiscussions) {
      var replace = require("./mapType");
      var print = require("./defaultValue");
      var update = function(context, target) {
        var attributes = {};
        var uniformCount = context.getProgramParameter(target, context.ACTIVE_UNIFORMS);
        var i = 0;
        for (; i < uniformCount; i++) {
          var options = context.getActiveUniform(target, i);
          var name = options.name.replace(/\[.*?\]/, "");
          var str = replace(context, options.type);
          attributes[name] = {
            type : str,
            size : options.size,
            location : context.getUniformLocation(target, name),
            value : print(str, options.size)
          };
        }
        return attributes;
      };
      module.exports = update;
    }, {
      "./defaultValue" : 18,
      "./mapType" : 24
    }],
    21 : [function(canCreateDiscussions, module, isSlidingUp) {
      function write(index, cb) {
        return function(value) {
          this.data[index].value = value;
          var loc = this.data[index].location;
          if (1 === cb.size) {
            typesSuffixMap[cb.type](this.gl, loc, value);
          } else {
            GL_SETTER[cb.type](this.gl, loc, value);
          }
        };
      }
      function m(s, o) {
        var r = o;
        var i = 0;
        for (; i < s.length - 1; i++) {
          var root = r[s[i]] || {
            data : {}
          };
          r[s[i]] = root;
          r = root;
        }
        return r;
      }
      var f = function(str, x) {
        var e = {
          data : {}
        };
        e.gl = str;
        var at = Object.keys(x);
        var j = 0;
        for (; j < at.length; j++) {
          var id = at[j];
          var u = id.split(".");
          var name = u[u.length - 1];
          var d = m(u, e);
          var key = x[id];
          d.data[name] = key;
          d.gl = str;
          Object.defineProperty(d, name, {
            get : get(name),
            set : write(name, key)
          });
        }
        return e;
      };
      var get = function(index) {
        return function() {
          return this.data[index].value;
        };
      };
      var typesSuffixMap = {
        float : function(gl, loc, f) {
          gl.uniform1f(loc, f);
        },
        vec2 : function(gl, loc, v) {
          gl.uniform2f(loc, v[0], v[1]);
        },
        vec3 : function(gl, loc, v) {
          gl.uniform3f(loc, v[0], v[1], v[2]);
        },
        vec4 : function(gl, loc, v) {
          gl.uniform4f(loc, v[0], v[1], v[2], v[3]);
        },
        int : function(gl, loc, i) {
          gl.uniform1i(loc, i);
        },
        ivec2 : function(gl, loc, value) {
          gl.uniform2i(loc, value[0], value[1]);
        },
        ivec3 : function(gl, loc, value) {
          gl.uniform3i(loc, value[0], value[1], value[2]);
        },
        ivec4 : function(gl, loc, value) {
          gl.uniform4i(loc, value[0], value[1], value[2], value[3]);
        },
        bool : function(ctx, name, v) {
          ctx.uniform1i(name, v);
        },
        bvec2 : function(gl, location, value) {
          gl.uniform2i(location, value[0], value[1]);
        },
        bvec3 : function(gl, location, value) {
          gl.uniform3i(location, value[0], value[1], value[2]);
        },
        bvec4 : function(gl, location, value) {
          gl.uniform4i(location, value[0], value[1], value[2], value[3]);
        },
        mat2 : function(gl, loc, data) {
          gl.uniformMatrix2fv(loc, false, data);
        },
        mat3 : function(gl, loc, data) {
          gl.uniformMatrix3fv(loc, false, data);
        },
        mat4 : function(gl, loc, data) {
          gl.uniformMatrix4fv(loc, false, data);
        },
        sampler2D : function(gl, loc, index) {
          gl.uniform1i(loc, index);
        }
      };
      var GL_SETTER = {
        float : function(gl, loc, v) {
          gl.uniform1fv(loc, v);
        },
        vec2 : function(gl, loc, name) {
          gl.uniform2fv(loc, name);
        },
        vec3 : function(gl, loc, v) {
          gl.uniform3fv(loc, v);
        },
        vec4 : function(gl, loc, data) {
          gl.uniform4fv(loc, data);
        },
        int : function(gl, loc, v) {
          gl.uniform1iv(loc, v);
        },
        ivec2 : function(gl, loc, data) {
          gl.uniform2iv(loc, data);
        },
        ivec3 : function(gl, loc, data) {
          gl.uniform3iv(loc, data);
        },
        ivec4 : function(gl, loc, data) {
          gl.uniform4iv(loc, data);
        },
        bool : function(gl, loc, v) {
          gl.uniform1iv(loc, v);
        },
        bvec2 : function(gl, location, value) {
          gl.uniform2iv(location, value);
        },
        bvec3 : function(gl, location, value) {
          gl.uniform3iv(location, value);
        },
        bvec4 : function(gl, location, value) {
          gl.uniform4iv(location, value);
        },
        sampler2D : function(gl, loc, data) {
          gl.uniform1iv(loc, data);
        }
      };
      module.exports = f;
    }, {}],
    22 : [function(__webpack_require__, options, canCreateDiscussions) {
      options.exports = {
        compileProgram : __webpack_require__("./compileProgram"),
        defaultValue : __webpack_require__("./defaultValue"),
        extractAttributes : __webpack_require__("./extractAttributes"),
        extractUniforms : __webpack_require__("./extractUniforms"),
        generateUniformAccessObject : __webpack_require__("./generateUniformAccessObject"),
        setPrecision : __webpack_require__("./setPrecision"),
        mapSize : __webpack_require__("./mapSize"),
        mapType : __webpack_require__("./mapType")
      };
    }, {
      "./compileProgram" : 17,
      "./defaultValue" : 18,
      "./extractAttributes" : 19,
      "./extractUniforms" : 20,
      "./generateUniformAccessObject" : 21,
      "./mapSize" : 23,
      "./mapType" : 24,
      "./setPrecision" : 25
    }],
    23 : [function(canCreateDiscussions, module, isSlidingUp) {
      var DominarField = function(name) {
        return typesSuffixMap[name];
      };
      var typesSuffixMap = {
        float : 1,
        vec2 : 2,
        vec3 : 3,
        vec4 : 4,
        int : 1,
        ivec2 : 2,
        ivec3 : 3,
        ivec4 : 4,
        bool : 1,
        bvec2 : 2,
        bvec3 : 3,
        bvec4 : 4,
        mat2 : 4,
        mat3 : 9,
        mat4 : 16,
        sampler2D : 1
      };
      module.exports = DominarField;
    }, {}],
    24 : [function(canCreateDiscussions, module, isSlidingUp) {
      var n = function(name, value) {
        if (!memo) {
          var keys = Object.keys(o);
          memo = {};
          var i = 0;
          for (; i < keys.length; ++i) {
            var k = keys[i];
            memo[name[k]] = o[k];
          }
        }
        return memo[value];
      };
      var memo = null;
      var o = {
        FLOAT : "float",
        FLOAT_VEC2 : "vec2",
        FLOAT_VEC3 : "vec3",
        FLOAT_VEC4 : "vec4",
        INT : "int",
        INT_VEC2 : "ivec2",
        INT_VEC3 : "ivec3",
        INT_VEC4 : "ivec4",
        BOOL : "bool",
        BOOL_VEC2 : "bvec2",
        BOOL_VEC3 : "bvec3",
        BOOL_VEC4 : "bvec4",
        FLOAT_MAT2 : "mat2",
        FLOAT_MAT3 : "mat3",
        FLOAT_MAT4 : "mat4",
        SAMPLER_2D : "sampler2D"
      };
      module.exports = n;
    }, {}],
    25 : [function(canCreateDiscussions, module, isSlidingUp) {
      var render = function(obj, source) {
        return "precision" !== obj.substring(0, 9) ? "precision " + source + " float;\n" + obj : obj;
      };
      module.exports = render;
    }, {}],
    26 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      function defaultSetTimout() {
        throw new Error("setTimeout has not been defined");
      }
      function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined");
      }
      function runTimeout(fun) {
        if (cachedSetTimeout === setTimeout) {
          return setTimeout(fun, 0);
        }
        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
          return cachedSetTimeout = setTimeout, setTimeout(fun, 0);
        }
        try {
          return cachedSetTimeout(fun, 0);
        } catch (e) {
          try {
            return cachedSetTimeout.call(null, fun, 0);
          } catch (e) {
            return cachedSetTimeout.call(this, fun, 0);
          }
        }
      }
      function runClearTimeout(marker) {
        if (cachedClearTimeout === clearTimeout) {
          return clearTimeout(marker);
        }
        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
          return cachedClearTimeout = clearTimeout, clearTimeout(marker);
        }
        try {
          return cachedClearTimeout(marker);
        } catch (e) {
          try {
            return cachedClearTimeout.call(null, marker);
          } catch (e) {
            return cachedClearTimeout.call(this, marker);
          }
        }
      }
      function cleanUpNextTick() {
        if (g && currentQueue) {
          g = false;
          if (currentQueue.length) {
            queue = currentQueue.concat(queue);
          } else {
            queueIndex = -1;
          }
          if (queue.length) {
            drainQueue();
          }
        }
      }
      function drainQueue() {
        if (!g) {
          var timeout = runTimeout(cleanUpNextTick);
          g = true;
          var len = queue.length;
          for (; len;) {
            currentQueue = queue;
            queue = [];
            for (; ++queueIndex < len;) {
              if (currentQueue) {
                currentQueue[queueIndex].run();
              }
            }
            queueIndex = -1;
            len = queue.length;
          }
          currentQueue = null;
          g = false;
          runClearTimeout(timeout);
        }
      }
      function Item(fun, array) {
        this.fun = fun;
        this.array = array;
      }
      function noop() {
      }
      var cachedSetTimeout;
      var cachedClearTimeout;
      var process = mixin.exports = {};
      !function() {
        try {
          cachedSetTimeout = "function" == typeof setTimeout ? setTimeout : defaultSetTimout;
        } catch (t) {
          cachedSetTimeout = defaultSetTimout;
        }
        try {
          cachedClearTimeout = "function" == typeof clearTimeout ? clearTimeout : defaultClearTimeout;
        } catch (t) {
          cachedClearTimeout = defaultClearTimeout;
        }
      }();
      var currentQueue;
      var queue = [];
      var g = false;
      var queueIndex = -1;
      process.nextTick = function(fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
          var i = 1;
          for (; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
          }
        }
        queue.push(new Item(fun, args));
        if (!(1 !== queue.length || g)) {
          runTimeout(drainQueue);
        }
      };
      Item.prototype.run = function() {
        this.fun.apply(null, this.array);
      };
      process.title = "browser";
      process.browser = true;
      process.env = {};
      process.argv = [];
      process.version = "";
      process.versions = {};
      process.on = noop;
      process.addListener = noop;
      process.once = noop;
      process.off = noop;
      process.removeListener = noop;
      process.removeAllListeners = noop;
      process.emit = noop;
      process.prependListener = noop;
      process.prependOnceListener = noop;
      process.listeners = function(type) {
        return [];
      };
      process.binding = function(name) {
        throw new Error("process.binding is not supported");
      };
      process.cwd = function() {
        return "/";
      };
      process.chdir = function(dir) {
        throw new Error("process.chdir is not supported");
      };
      process.umask = function() {
        return 0;
      };
    }, {}],
    27 : [function(canCreateDiscussions, module, exports) {
      (function(not) {
        !function(root) {
          function error(type) {
            throw new RangeError(errors[type]);
          }
          function map(input, callback) {
            var i = input.length;
            var results = [];
            for (; i--;) {
              results[i] = callback(input[i]);
            }
            return results;
          }
          function apply(selector, date) {
            var parts = selector.split("@");
            var th_field = "";
            return parts.length > 1 && (th_field = parts[0] + "@", selector = parts[1]), selector = selector.replace(comboFinderRx, "."), th_field + map(selector.split("."), date).join(".");
          }
          function ucs2decode(string) {
            var s;
            var r;
            var output = [];
            var i = 0;
            var stringLength = string.length;
            for (; i < stringLength;) {
              s = string.charCodeAt(i++);
              if (s >= 55296 && s <= 56319 && i < stringLength) {
                r = string.charCodeAt(i++);
                if (56320 == (64512 & r)) {
                  output.push(((1023 & s) << 10) + (1023 & r) + 65536);
                } else {
                  output.push(s);
                  i--;
                }
              } else {
                output.push(s);
              }
            }
            return output;
          }
          function ucs2encode(array) {
            return map(array, function(codePoint) {
              var output = "";
              return codePoint > 65535 && (codePoint = codePoint - 65536, output = output + stringFromCharCode(codePoint >>> 10 & 1023 | 55296), codePoint = 56320 | 1023 & codePoint), output = output + stringFromCharCode(codePoint);
            }).join("");
          }
          function msgHasRoute(type) {
            return type - 48 < 10 ? type - 22 : type - 65 < 26 ? type - 65 : type - 97 < 26 ? type - 97 : base;
          }
          function digitToBasic(digit, flag) {
            return digit + 22 + 75 * (digit < 26) - ((0 != flag) << 5);
          }
          function adapt(delta, numPoints, firstTime) {
            var k = 0;
            delta = firstTime ? floor(delta / damp) : delta >> 1;
            delta = delta + floor(delta / numPoints);
            for (; delta > baseMinusTMin * tMax >> 1; k = k + base) {
              delta = floor(delta / baseMinusTMin);
            }
            return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
          }
          function decode(input) {
            var out;
            var min;
            var start;
            var j;
            var oldi;
            var w;
            var k;
            var digit;
            var t;
            var baseMinusT;
            var output = [];
            var m = input.length;
            var i = 0;
            var n = initialN;
            var bias = initialBias;
            min = input.lastIndexOf(value);
            if (min < 0) {
              min = 0;
            }
            start = 0;
            for (; start < min; ++start) {
              if (input.charCodeAt(start) >= 128) {
                error("not-basic");
              }
              output.push(input.charCodeAt(start));
            }
            j = min > 0 ? min + 1 : 0;
            for (; j < m;) {
              oldi = i;
              w = 1;
              k = base;
              for (; j >= m && error("invalid-input"), digit = msgHasRoute(input.charCodeAt(j++)), (digit >= base || digit > floor((maxInt - i) / w)) && error("overflow"), i = i + digit * w, t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias, !(digit < t); k = k + base) {
                baseMinusT = base - t;
                if (w > floor(maxInt / baseMinusT)) {
                  error("overflow");
                }
                w = w * baseMinusT;
              }
              out = output.length + 1;
              bias = adapt(i - oldi, out, 0 == oldi);
              if (floor(i / out) > maxInt - n) {
                error("overflow");
              }
              n = n + floor(i / out);
              i = i % out;
              output.splice(i++, 0, n);
            }
            return ucs2encode(output);
          }
          function encode(input) {
            var n;
            var delta;
            var handledCPCount;
            var basicLength;
            var bias;
            var j;
            var m;
            var q;
            var k;
            var t;
            var currentValue;
            var inputLength;
            var handledCPCountPlusOne;
            var baseMinusT;
            var qMinusT;
            var output = [];
            input = ucs2decode(input);
            inputLength = input.length;
            n = initialN;
            delta = 0;
            bias = initialBias;
            j = 0;
            for (; j < inputLength; ++j) {
              if ((currentValue = input[j]) < 128) {
                output.push(stringFromCharCode(currentValue));
              }
            }
            handledCPCount = basicLength = output.length;
            if (basicLength) {
              output.push(value);
            }
            for (; handledCPCount < inputLength;) {
              m = maxInt;
              j = 0;
              for (; j < inputLength; ++j) {
                if ((currentValue = input[j]) >= n && currentValue < m) {
                  m = currentValue;
                }
              }
              handledCPCountPlusOne = handledCPCount + 1;
              if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
                error("overflow");
              }
              delta = delta + (m - n) * handledCPCountPlusOne;
              n = m;
              j = 0;
              for (; j < inputLength; ++j) {
                if (currentValue = input[j], currentValue < n && ++delta > maxInt && error("overflow"), currentValue == n) {
                  q = delta;
                  k = base;
                  for (; t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias, !(q < t); k = k + base) {
                    qMinusT = q - t;
                    baseMinusT = base - t;
                    output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));
                    q = floor(qMinusT / baseMinusT);
                  }
                  output.push(stringFromCharCode(digitToBasic(q, 0)));
                  bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
                  delta = 0;
                  ++handledCPCount;
                }
              }
              ++delta;
              ++n;
            }
            return output.join("");
          }
          function toUnicode(input) {
            return apply(input, function(string) {
              return regBigBrackets.test(string) ? decode(string.slice(4).toLowerCase()) : string;
            });
          }
          function toASCII(input) {
            return apply(input, function(string) {
              return existingSpanRegExp.test(string) ? "xn--" + encode(string) : string;
            });
          }
          var freeExports = "object" == typeof exports && exports && !exports.nodeType && exports;
          var freeModule = "object" == typeof module && module && !module.nodeType && module;
          var self = "object" == typeof not && not;
          if (!(self.global !== self && self.window !== self && self.self !== self)) {
            root = self;
          }
          var punycode;
          var key;
          var maxInt = 2147483647;
          var base = 36;
          var tMin = 1;
          var tMax = 26;
          var skew = 38;
          var damp = 700;
          var initialBias = 72;
          var initialN = 128;
          var value = "-";
          var regBigBrackets = /^xn--/;
          var existingSpanRegExp = /[^\x20-\x7E]/;
          var comboFinderRx = /[\x2E\u3002\uFF0E\uFF61]/g;
          var errors = {
            overflow : "Overflow: input needs wider integers to process",
            "not-basic" : "Illegal input >= 0x80 (not a basic code point)",
            "invalid-input" : "Invalid input"
          };
          var baseMinusTMin = base - tMin;
          var floor = Math.floor;
          var stringFromCharCode = String.fromCharCode;
          if (punycode = {
            version : "1.4.1",
            ucs2 : {
              decode : ucs2decode,
              encode : ucs2encode
            },
            decode : decode,
            encode : encode,
            toASCII : toASCII,
            toUnicode : toUnicode
          }, "function" == typeof define && "object" == typeof define.amd && define.amd) {
            define("punycode", function() {
              return punycode;
            });
          } else {
            if (freeExports && freeModule) {
              if (module.exports == freeExports) {
                freeModule.exports = punycode;
              } else {
                for (key in punycode) {
                  if (punycode.hasOwnProperty(key)) {
                    freeExports[key] = punycode[key];
                  }
                }
              }
            } else {
              root.punycode = punycode;
            }
          }
        }(this);
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {}],
    28 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      function __hasOwn(object, prop) {
        return Object.prototype.hasOwnProperty.call(object, prop);
      }
      mixin.exports = function(str, a, b, options) {
        a = a || "&";
        b = b || "=";
        var obj = {};
        if ("string" != typeof str || 0 === str.length) {
          return obj;
        }
        var named_param_regex = /\+/g;
        str = str.split(a);
        var maxKeys = 1E3;
        if (options && "number" == typeof options.maxKeys) {
          maxKeys = options.maxKeys;
        }
        var len = str.length;
        if (maxKeys > 0 && len > maxKeys) {
          len = maxKeys;
        }
        var i = 0;
        for (; i < len; ++i) {
          var ret;
          var part;
          var key;
          var value;
          var s = str[i].replace(named_param_regex, "%20");
          var idx = s.indexOf(b);
          if (idx >= 0) {
            ret = s.substr(0, idx);
            part = s.substr(idx + 1);
          } else {
            ret = s;
            part = "";
          }
          key = decodeURIComponent(ret);
          value = decodeURIComponent(part);
          if (__hasOwn(obj, key)) {
            if (i(obj[key])) {
              obj[key].push(value);
            } else {
              obj[key] = [obj[key], value];
            }
          } else {
            obj[key] = value;
          }
        }
        return obj;
      };
      var i = Array.isArray || function(arr) {
        return "[object Array]" === Object.prototype.toString.call(arr);
      };
    }, {}],
    29 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      function callback(d, e) {
        if (d.map) {
          return d.map(e);
        }
        var ret = [];
        var i = 0;
        for (; i < d.length; i++) {
          ret.push(e(d[i], i));
        }
        return ret;
      }
      var stringifyPrimitive = function(v) {
        switch(typeof v) {
          case "string":
            return v;
          case "boolean":
            return v ? "true" : "false";
          case "number":
            return isFinite(v) ? v : "";
          default:
            return "";
        }
      };
      mixin.exports = function(name, str, key, obj) {
        return str = str || "&", key = key || "=", null === name && (name = void 0), "object" == typeof name ? callback(_(name), function(k) {
          var header = encodeURIComponent(stringifyPrimitive(k)) + key;
          return isNaN(name[k]) ? callback(name[k], function(name) {
            return header + encodeURIComponent(stringifyPrimitive(name));
          }).join(str) : header + encodeURIComponent(stringifyPrimitive(name[k]));
        }).join(str) : obj ? encodeURIComponent(stringifyPrimitive(obj)) + key + encodeURIComponent(stringifyPrimitive(name)) : "";
      };
      var isNaN = Array.isArray || function(arr) {
        return "[object Array]" === Object.prototype.toString.call(arr);
      };
      var _ = Object.keys || function(type) {
        var _watchableTools = [];
        var t;
        for (t in type) {
          if (Object.prototype.hasOwnProperty.call(type, t)) {
            _watchableTools.push(t);
          }
        }
        return _watchableTools;
      };
    }, {}],
    30 : [function(require, canCreateDiscussions, exports) {
      exports.decode = exports.parse = require("./decode");
      exports.encode = exports.stringify = require("./encode");
    }, {
      "./decode" : 28,
      "./encode" : 29
    }],
    31 : [function(canCreateDiscussions, mixin, isSlidingUp) {
      mixin.exports = function(data, y, b) {
        var j;
        var h = data.length;
        if (!(y >= h || 0 === b)) {
          b = y + b > h ? h - y : b;
          var tmp = h - b;
          j = y;
          for (; j < tmp; ++j) {
            data[j] = data[j + b];
          }
          data.length = tmp;
        }
      };
    }, {}],
    32 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _get(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      exports.Loader = void 0;
      var _createRemoveListenerFunc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(deltaType) {
        return typeof deltaType;
      } : function(obj) {
        return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
      var eqPartial = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _prepareStyleProperties = __webpack_require__("mini-signals");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("parse-uri");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var last = __webpack_require__("./async");
      var async = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(last);
      var window = __webpack_require__("./Resource");
      var rProps = /(#[\w-]+)?$/;
      var result = exports.Loader = function() {
        function render() {
          var loader = this;
          var baseUrl = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
          var type = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
          _get(this, render);
          this.baseUrl = baseUrl;
          this.progress = 0;
          this.loading = false;
          this.defaultQueryString = "";
          this._beforeMiddleware = [];
          this._afterMiddleware = [];
          this._resourcesParsing = [];
          this._boundLoadResource = function(res, page) {
            return loader._loadResource(res, page);
          };
          this._queue = async.queue(this._boundLoadResource, type);
          this._queue.pause();
          this.resources = {};
          this.onProgress = new _prepareStyleProperties2.default;
          this.onError = new _prepareStyleProperties2.default;
          this.onLoad = new _prepareStyleProperties2.default;
          this.onStart = new _prepareStyleProperties2.default;
          this.onComplete = new _prepareStyleProperties2.default;
          var s = 0;
          for (; s < render._defaultBeforeMiddleware.length; ++s) {
            this.pre(render._defaultBeforeMiddleware[s]);
          }
          var i = 0;
          for (; i < render._defaultAfterMiddleware.length; ++i) {
            this.use(render._defaultAfterMiddleware[i]);
          }
        }
        return render.prototype.add = function(type, data, options, obj) {
          if (Array.isArray(type)) {
            var i = 0;
            for (; i < type.length; ++i) {
              this.add(type[i]);
            }
            return this;
          }
          if ("object" === (void 0 === type ? "undefined" : _createRemoveListenerFunc(type)) && (obj = data || type.callback || type.onComplete, options = type, data = type.url, type = type.name || type.key || type.url), "string" != typeof data && (obj = options, options = data, data = type), "string" != typeof data) {
            throw new Error("No url passed to add resource to loader.");
          }
          if ("function" == typeof options && (obj = options, options = null), this.loading && (!options || !options.parentResource)) {
            throw new Error("Cannot add resources while the loader is running.");
          }
          if (this.resources[type]) {
            throw new Error('Resource named "' + type + '" already exists.');
          }
          if (data = this._prepareUrl(data), this.resources[type] = new window.Resource(type, data, options), "function" == typeof obj && this.resources[type].onAfterMiddleware.once(obj), this.loading) {
            var line = options.parentResource;
            var a = [];
            var i = 0;
            for (; i < line.children.length; ++i) {
              if (!line.children[i].isComplete) {
                a.push(line.children[i]);
              }
            }
            var backoffDelay = line.progressChunk * (a.length + 1);
            var backoffDelaySeconds = backoffDelay / (a.length + 2);
            line.children.push(this.resources[type]);
            line.progressChunk = backoffDelaySeconds;
            var j = 0;
            for (; j < a.length; ++j) {
              a[j].progressChunk = backoffDelaySeconds;
            }
            this.resources[type].progressChunk = backoffDelaySeconds;
          }
          return this._queue.push(this.resources[type]), this;
        }, render.prototype.pre = function(prop) {
          return this._beforeMiddleware.push(prop), this;
        }, render.prototype.use = function(count) {
          return this._afterMiddleware.push(count), this;
        }, render.prototype.reset = function() {
          this.progress = 0;
          this.loading = false;
          this._queue.kill();
          this._queue.pause();
          var i;
          for (i in this.resources) {
            var node = this.resources[i];
            if (node._onLoadBinding) {
              node._onLoadBinding.detach();
            }
            if (node.isLoading) {
              node.abort();
            }
          }
          return this.resources = {}, this;
        }, render.prototype.load = function(cb) {
          if ("function" == typeof cb && this.onComplete.once(cb), this.loading) {
            return this;
          }
          if (this._queue.idle()) {
            this._onStart();
            this._onComplete();
          } else {
            var num_headings = this._queue._tasks.length;
            var heading_arc_angle = 100 / num_headings;
            var i = 0;
            for (; i < this._queue._tasks.length; ++i) {
              this._queue._tasks[i].data.progressChunk = heading_arc_angle;
            }
            this._onStart();
            this._queue.resume();
          }
          return this;
        }, render.prototype._prepareUrl = function(value) {
          var e = (0, _normalizeDataUri2.default)(value, {
            strictMode : true
          });
          var str = void 0;
          if (str = e.protocol || !e.path || 0 === value.indexOf("//") ? value : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== value.charAt(0) ? this.baseUrl + "/" + value : this.baseUrl + value, this.defaultQueryString) {
            var addSpace = rProps.exec(str)[0];
            str = str.substr(0, str.length - addSpace.length);
            if (-1 !== str.indexOf("?")) {
              str = str + ("&" + this.defaultQueryString);
            } else {
              str = str + ("?" + this.defaultQueryString);
            }
            str = str + addSpace;
          }
          return str;
        }, render.prototype._loadResource = function(res, url) {
          var self = this;
          res._dequeue = url;
          async.eachSeries(this._beforeMiddleware, function(e, saveNotifs) {
            e.call(self, res, function() {
              saveNotifs(res.isComplete ? {} : null);
            });
          }, function() {
            if (res.isComplete) {
              self._onLoad(res);
            } else {
              res._onLoadBinding = res.onComplete.once(self._onLoad, self);
              res.load();
            }
          }, true);
        }, render.prototype._onStart = function() {
          this.progress = 0;
          this.loading = true;
          this.onStart.dispatch(this);
        }, render.prototype._onComplete = function() {
          this.progress = 100;
          this.loading = false;
          this.onComplete.dispatch(this, this.resources);
        }, render.prototype._onLoad = function(e) {
          var self = this;
          e._onLoadBinding = null;
          this._resourcesParsing.push(e);
          e._dequeue();
          async.eachSeries(this._afterMiddleware, function(path, refC) {
            path.call(self, e, refC);
          }, function() {
            e.onAfterMiddleware.dispatch(e);
            self.progress = Math.min(100, self.progress + e.progressChunk);
            self.onProgress.dispatch(self, e);
            if (e.error) {
              self.onError.dispatch(e.error, self, e);
            } else {
              self.onLoad.dispatch(self, e);
            }
            self._resourcesParsing.splice(self._resourcesParsing.indexOf(e), 1);
            if (self._queue.idle() && 0 === self._resourcesParsing.length) {
              self._onComplete();
            }
          }, true);
        }, eqPartial(render, [{
          key : "concurrency",
          get : function() {
            return this._queue.concurrency;
          },
          set : function(target) {
            this._queue.concurrency = target;
          }
        }]), render;
      }();
      result._defaultBeforeMiddleware = [];
      result._defaultAfterMiddleware = [];
      result.pre = function(value) {
        return result._defaultBeforeMiddleware.push(value), result;
      };
      result.use = function(value) {
        return result._defaultAfterMiddleware.push(value), result;
      };
    }, {
      "./Resource" : 33,
      "./async" : 34,
      "mini-signals" : 5,
      "parse-uri" : 7
    }],
    33 : [function(__webpack_require__, module, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _noop() {
      }
      function setExtMap(map, extname, val) {
        if (extname && 0 === extname.indexOf(".")) {
          extname = extname.substring(1);
        }
        if (extname) {
          map[extname] = val;
        }
      }
      function reqType(xhr) {
        return xhr.toString().replace("object ", "");
      }
      exports.__esModule = true;
      exports.Resource = void 0;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _prepareStyleProperties = __webpack_require__("parse-uri");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("mini-signals");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var useXdr = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest);
      var tempAnchor = null;
      var Resource = exports.Resource = function() {
        function Resource(url, data, options) {
          if (_classCallCheck(this, Resource), "string" != typeof url || "string" != typeof data) {
            throw new Error("Both name and url are required for constructing a resource.");
          }
          options = options || {};
          this._flags = 0;
          this._setFlag(Resource.STATUS_FLAGS.DATA_URL, 0 === data.indexOf("data:"));
          this.name = url;
          this.url = data;
          this.extension = this._getExtension();
          this.data = null;
          this.crossOrigin = true === options.crossOrigin ? "anonymous" : options.crossOrigin;
          this.timeout = options.timeout || 0;
          this.loadType = options.loadType || this._determineLoadType();
          this.xhrType = options.xhrType;
          this.metadata = options.metadata || {};
          this.error = null;
          this.xhr = null;
          this.children = [];
          this.type = Resource.TYPE.UNKNOWN;
          this.progressChunk = 0;
          this._dequeue = _noop;
          this._onLoadBinding = null;
          this._elementTimer = 0;
          this._boundComplete = this.complete.bind(this);
          this._boundOnError = this._onError.bind(this);
          this._boundOnProgress = this._onProgress.bind(this);
          this._boundOnTimeout = this._onTimeout.bind(this);
          this._boundXhrOnError = this._xhrOnError.bind(this);
          this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this);
          this._boundXhrOnAbort = this._xhrOnAbort.bind(this);
          this._boundXhrOnLoad = this._xhrOnLoad.bind(this);
          this.onStart = new _normalizeDataUri2.default;
          this.onProgress = new _normalizeDataUri2.default;
          this.onComplete = new _normalizeDataUri2.default;
          this.onAfterMiddleware = new _normalizeDataUri2.default;
        }
        return Resource.setExtensionLoadType = function(extname, loadType) {
          setExtMap(Resource._loadTypeMap, extname, loadType);
        }, Resource.setExtensionXhrType = function(extname, xhrType) {
          setExtMap(Resource._xhrTypeMap, extname, xhrType);
        }, Resource.prototype.complete = function() {
          this._clearEvents();
          this._finish();
        }, Resource.prototype.abort = function(statusText) {
          if (!this.error) {
            if (this.error = new Error(statusText), this._clearEvents(), this.xhr) {
              this.xhr.abort();
            } else {
              if (this.xdr) {
                this.xdr.abort();
              } else {
                if (this.data) {
                  if (this.data.src) {
                    this.data.src = Resource.EMPTY_GIF;
                  } else {
                    for (; this.data.firstChild;) {
                      this.data.removeChild(this.data.firstChild);
                    }
                  }
                }
              }
            }
            this._finish();
          }
        }, Resource.prototype.load = function(cb) {
          var mutationsMap = this;
          if (!this.isLoading) {
            if (this.isComplete) {
              return void(cb && setTimeout(function() {
                return cb(mutationsMap);
              }, 1));
            }
            switch(cb && this.onComplete.once(cb), this._setFlag(Resource.STATUS_FLAGS.LOADING, true), this.onStart.dispatch(this), false !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
              case Resource.LOAD_TYPE.IMAGE:
                this.type = Resource.TYPE.IMAGE;
                this._loadElement("image");
                break;
              case Resource.LOAD_TYPE.AUDIO:
                this.type = Resource.TYPE.AUDIO;
                this._loadSourceElement("audio");
                break;
              case Resource.LOAD_TYPE.VIDEO:
                this.type = Resource.TYPE.VIDEO;
                this._loadSourceElement("video");
                break;
              case Resource.LOAD_TYPE.XHR:
              default:
                if (useXdr && this.crossOrigin) {
                  this._loadXdr();
                } else {
                  this._loadXhr();
                }
            }
          }
        }, Resource.prototype._hasFlag = function(flag) {
          return 0 != (this._flags & flag);
        }, Resource.prototype._setFlag = function(flag, value) {
          this._flags = value ? this._flags | flag : this._flags & ~flag;
        }, Resource.prototype._clearEvents = function() {
          clearTimeout(this._elementTimer);
          if (this.data && this.data.removeEventListener) {
            this.data.removeEventListener("error", this._boundOnError, false);
            this.data.removeEventListener("load", this._boundComplete, false);
            this.data.removeEventListener("progress", this._boundOnProgress, false);
            this.data.removeEventListener("canplaythrough", this._boundComplete, false);
          }
          if (this.xhr) {
            if (this.xhr.removeEventListener) {
              this.xhr.removeEventListener("error", this._boundXhrOnError, false);
              this.xhr.removeEventListener("timeout", this._boundXhrOnTimeout, false);
              this.xhr.removeEventListener("abort", this._boundXhrOnAbort, false);
              this.xhr.removeEventListener("progress", this._boundOnProgress, false);
              this.xhr.removeEventListener("load", this._boundXhrOnLoad, false);
            } else {
              this.xhr.onerror = null;
              this.xhr.ontimeout = null;
              this.xhr.onprogress = null;
              this.xhr.onload = null;
            }
          }
        }, Resource.prototype._finish = function() {
          if (this.isComplete) {
            throw new Error("Complete called again for an already completed resource.");
          }
          this._setFlag(Resource.STATUS_FLAGS.COMPLETE, true);
          this._setFlag(Resource.STATUS_FLAGS.LOADING, false);
          this.onComplete.dispatch(this);
        }, Resource.prototype._loadElement = function(type) {
          if (this.metadata.loadElement) {
            this.data = this.metadata.loadElement;
          } else {
            if ("image" === type && void 0 !== window.Image) {
              this.data = new Image;
            } else {
              this.data = document.createElement(type);
            }
          }
          if (this.crossOrigin) {
            this.data.crossOrigin = this.crossOrigin;
          }
          if (!this.metadata.skipSource) {
            this.data.src = this.url;
          }
          this.data.addEventListener("error", this._boundOnError, false);
          this.data.addEventListener("load", this._boundComplete, false);
          this.data.addEventListener("progress", this._boundOnProgress, false);
          if (this.timeout) {
            this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout);
          }
        }, Resource.prototype._loadSourceElement = function(type) {
          if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === type && void 0 !== window.Audio ? this.data = new Audio : this.data = document.createElement(type), null === this.data) {
            return void this.abort("Unsupported element: " + type);
          }
          if (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), !this.metadata.skipSource) {
            if (navigator.isCocoonJS) {
              this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
            } else {
              if (Array.isArray(this.url)) {
                var parent_pk = this.metadata.mimeType;
                var i = 0;
                for (; i < this.url.length; ++i) {
                  this.data.appendChild(this._createSource(type, this.url[i], Array.isArray(parent_pk) ? parent_pk[i] : parent_pk));
                }
              } else {
                var meta = this.metadata.mimeType;
                this.data.appendChild(this._createSource(type, this.url, Array.isArray(meta) ? meta[0] : meta));
              }
            }
          }
          this.data.addEventListener("error", this._boundOnError, false);
          this.data.addEventListener("load", this._boundComplete, false);
          this.data.addEventListener("progress", this._boundOnProgress, false);
          this.data.addEventListener("canplaythrough", this._boundComplete, false);
          this.data.load();
          if (this.timeout) {
            this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout);
          }
        }, Resource.prototype._loadXhr = function() {
          if ("string" != typeof this.xhrType) {
            this.xhrType = this._determineXhrType();
          }
          var xhr = this.xhr = new XMLHttpRequest;
          xhr.open("GET", this.url, true);
          xhr.timeout = this.timeout;
          if (this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON || this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT) {
            xhr.responseType = Resource.XHR_RESPONSE_TYPE.TEXT;
          } else {
            xhr.responseType = this.xhrType;
          }
          xhr.addEventListener("error", this._boundXhrOnError, false);
          xhr.addEventListener("timeout", this._boundXhrOnTimeout, false);
          xhr.addEventListener("abort", this._boundXhrOnAbort, false);
          xhr.addEventListener("progress", this._boundOnProgress, false);
          xhr.addEventListener("load", this._boundXhrOnLoad, false);
          xhr.send();
        }, Resource.prototype._loadXdr = function() {
          if ("string" != typeof this.xhrType) {
            this.xhrType = this._determineXhrType();
          }
          var xdr = this.xhr = new XDomainRequest;
          xdr.timeout = this.timeout || 5E3;
          xdr.onerror = this._boundXhrOnError;
          xdr.ontimeout = this._boundXhrOnTimeout;
          xdr.onprogress = this._boundOnProgress;
          xdr.onload = this._boundXhrOnLoad;
          xdr.open("GET", this.url, true);
          setTimeout(function() {
            return xdr.send();
          }, 1);
        }, Resource.prototype._createSource = function(method, url, type) {
          if (!type) {
            type = method + "/" + this._getExtension(url);
          }
          var source = document.createElement("source");
          return source.src = url, source.type = type, source;
        }, Resource.prototype._onError = function(event) {
          this.abort("Failed to load element using: " + event.target.nodeName);
        }, Resource.prototype._onProgress = function(event) {
          if (event && event.lengthComputable) {
            this.onProgress.dispatch(this, event.loaded / event.total);
          }
        }, Resource.prototype._onTimeout = function() {
          this.abort("Load timed out.");
        }, Resource.prototype._xhrOnError = function() {
          var xhr = this.xhr;
          this.abort(reqType(xhr) + " Request failed. Status: " + xhr.status + ', text: "' + xhr.statusText + '"');
        }, Resource.prototype._xhrOnTimeout = function() {
          var xhr = this.xhr;
          this.abort(reqType(xhr) + " Request timed out.");
        }, Resource.prototype._xhrOnAbort = function() {
          var xhr = this.xhr;
          this.abort(reqType(xhr) + " Request was aborted by the user.");
        }, Resource.prototype._xhrOnLoad = function() {
          var xhr = this.xhr;
          var text = "";
          var n = void 0 === xhr.status ? 200 : xhr.status;
          if ("" !== xhr.responseType && "text" !== xhr.responseType && void 0 !== xhr.responseType || (text = xhr.responseText), 0 === n && (text.length > 0 || xhr.responseType === Resource.XHR_RESPONSE_TYPE.BUFFER) ? n = 200 : 1223 === n && (n = 204), 2 != (n / 100 | 0)) {
            return void this.abort("[" + xhr.status + "] " + xhr.statusText + ": " + xhr.responseURL);
          }
          if (this.xhrType === Resource.XHR_RESPONSE_TYPE.TEXT) {
            this.data = text;
            this.type = Resource.TYPE.TEXT;
          } else {
            if (this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON) {
              try {
                this.data = JSON.parse(text);
                this.type = Resource.TYPE.JSON;
              } catch (colon) {
                return void this.abort("Error trying to parse loaded json: " + colon);
              }
            } else {
              if (this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT) {
                try {
                  if (window.DOMParser) {
                    var parser = new DOMParser;
                    this.data = parser.parseFromString(text, "text/xml");
                  } else {
                    var div = document.createElement("div");
                    div.innerHTML = text;
                    this.data = div;
                  }
                  this.type = Resource.TYPE.XML;
                } catch (colon) {
                  return void this.abort("Error trying to parse loaded xml: " + colon);
                }
              } else {
                this.data = xhr.response || text;
              }
            }
          }
          this.complete();
        }, Resource.prototype._determineCrossOrigin = function(url, loc) {
          if (0 === url.indexOf("data:")) {
            return "";
          }
          if (window.origin !== window.location.origin) {
            return "anonymous";
          }
          loc = loc || window.location;
          if (!tempAnchor) {
            tempAnchor = document.createElement("a");
          }
          tempAnchor.href = url;
          url = (0, _prepareStyleProperties2.default)(tempAnchor.href, {
            strictMode : true
          });
          var live_reload = !url.port && "" === loc.port || url.port === loc.port;
          var pathname = url.protocol ? url.protocol + ":" : "";
          return url.host === loc.hostname && live_reload && pathname === loc.protocol ? "" : "anonymous";
        }, Resource.prototype._determineXhrType = function() {
          return Resource._xhrTypeMap[this.extension] || Resource.XHR_RESPONSE_TYPE.TEXT;
        }, Resource.prototype._determineLoadType = function() {
          return Resource._loadTypeMap[this.extension] || Resource.LOAD_TYPE.XHR;
        }, Resource.prototype._getExtension = function() {
          var url = this.url;
          var currentTyping = "";
          if (this.isDataUrl) {
            var slashIndex = url.indexOf("/");
            currentTyping = url.substring(slashIndex + 1, url.indexOf(";", slashIndex));
          } else {
            var anchor = url.indexOf("?");
            var query = url.indexOf("#");
            var hash_pos = Math.min(anchor > -1 ? anchor : url.length, query > -1 ? query : url.length);
            url = url.substring(0, hash_pos);
            currentTyping = url.substring(url.lastIndexOf(".") + 1);
          }
          return currentTyping.toLowerCase();
        }, Resource.prototype._getMimeFromXhrType = function(type) {
          switch(type) {
            case Resource.XHR_RESPONSE_TYPE.BUFFER:
              return "application/octet-binary";
            case Resource.XHR_RESPONSE_TYPE.BLOB:
              return "application/blob";
            case Resource.XHR_RESPONSE_TYPE.DOCUMENT:
              return "application/xml";
            case Resource.XHR_RESPONSE_TYPE.JSON:
              return "application/json";
            case Resource.XHR_RESPONSE_TYPE.DEFAULT:
            case Resource.XHR_RESPONSE_TYPE.TEXT:
            default:
              return "text/plain";
          }
        }, _createClass(Resource, [{
          key : "isDataUrl",
          get : function() {
            return this._hasFlag(Resource.STATUS_FLAGS.DATA_URL);
          }
        }, {
          key : "isComplete",
          get : function() {
            return this._hasFlag(Resource.STATUS_FLAGS.COMPLETE);
          }
        }, {
          key : "isLoading",
          get : function() {
            return this._hasFlag(Resource.STATUS_FLAGS.LOADING);
          }
        }]), Resource;
      }();
      Resource.STATUS_FLAGS = {
        NONE : 0,
        DATA_URL : 1,
        COMPLETE : 2,
        LOADING : 4
      };
      Resource.TYPE = {
        UNKNOWN : 0,
        JSON : 1,
        XML : 2,
        IMAGE : 3,
        AUDIO : 4,
        VIDEO : 5,
        TEXT : 6
      };
      Resource.LOAD_TYPE = {
        XHR : 1,
        IMAGE : 2,
        AUDIO : 3,
        VIDEO : 4
      };
      Resource.XHR_RESPONSE_TYPE = {
        DEFAULT : "text",
        BUFFER : "arraybuffer",
        BLOB : "blob",
        DOCUMENT : "document",
        JSON : "json",
        TEXT : "text"
      };
      Resource._loadTypeMap = {
        gif : Resource.LOAD_TYPE.IMAGE,
        png : Resource.LOAD_TYPE.IMAGE,
        bmp : Resource.LOAD_TYPE.IMAGE,
        jpg : Resource.LOAD_TYPE.IMAGE,
        jpeg : Resource.LOAD_TYPE.IMAGE,
        tif : Resource.LOAD_TYPE.IMAGE,
        tiff : Resource.LOAD_TYPE.IMAGE,
        webp : Resource.LOAD_TYPE.IMAGE,
        tga : Resource.LOAD_TYPE.IMAGE,
        svg : Resource.LOAD_TYPE.IMAGE,
        "svg+xml" : Resource.LOAD_TYPE.IMAGE,
        mp3 : Resource.LOAD_TYPE.AUDIO,
        ogg : Resource.LOAD_TYPE.AUDIO,
        wav : Resource.LOAD_TYPE.AUDIO,
        mp4 : Resource.LOAD_TYPE.VIDEO,
        webm : Resource.LOAD_TYPE.VIDEO
      };
      Resource._xhrTypeMap = {
        xhtml : Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        html : Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        htm : Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        xml : Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        tmx : Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        svg : Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        tsx : Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        gif : Resource.XHR_RESPONSE_TYPE.BLOB,
        png : Resource.XHR_RESPONSE_TYPE.BLOB,
        bmp : Resource.XHR_RESPONSE_TYPE.BLOB,
        jpg : Resource.XHR_RESPONSE_TYPE.BLOB,
        jpeg : Resource.XHR_RESPONSE_TYPE.BLOB,
        tif : Resource.XHR_RESPONSE_TYPE.BLOB,
        tiff : Resource.XHR_RESPONSE_TYPE.BLOB,
        webp : Resource.XHR_RESPONSE_TYPE.BLOB,
        tga : Resource.XHR_RESPONSE_TYPE.BLOB,
        json : Resource.XHR_RESPONSE_TYPE.JSON,
        text : Resource.XHR_RESPONSE_TYPE.TEXT,
        txt : Resource.XHR_RESPONSE_TYPE.TEXT,
        ttf : Resource.XHR_RESPONSE_TYPE.BUFFER,
        otf : Resource.XHR_RESPONSE_TYPE.BUFFER
      };
      Resource.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
      if (void 0 !== module) {
        module.exports.default = Resource;
      }
    }, {
      "mini-signals" : 5,
      "parse-uri" : 7
    }],
    34 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function noop() {
      }
      function eachSeries(array, func, cb, data) {
        var i = 0;
        var len = array.length;
        !function callback(err) {
          if (err || i === len) {
            return void(cb && cb(err));
          }
          if (data) {
            setTimeout(function() {
              func(array[i++], callback);
            }, 1);
          } else {
            func(array[i++], callback);
          }
        }();
      }
      function onlyOnce(fn) {
        return function() {
          if (null === fn) {
            throw new Error("Callback was already called.");
          }
          var __fn = fn;
          fn = null;
          __fn.apply(this, arguments);
        };
      }
      function queue(value, type) {
        function _insert(data, insertAtFront, callback) {
          if (null != callback && "function" != typeof callback) {
            throw new Error("task callback must be a function");
          }
          if (q.started = true, null == data && q.idle()) {
            return void setTimeout(function() {
              return q.drain();
            }, 1);
          }
          var i = {
            data : data,
            callback : "function" == typeof callback ? callback : noop
          };
          if (insertAtFront) {
            q._tasks.unshift(i);
          } else {
            q._tasks.push(i);
          }
          setTimeout(function() {
            return q.process();
          }, 1);
        }
        function _next(node) {
          return function() {
            workers = workers - 1;
            node.callback.apply(node, arguments);
            if (null != arguments[0]) {
              q.error(arguments[0], node.data);
            }
            if (workers <= q.concurrency - q.buffer) {
              q.unsaturated();
            }
            if (q.idle()) {
              q.drain();
            }
            q.process();
          };
        }
        if (null == type) {
          type = 1;
        } else {
          if (0 === type) {
            throw new Error("Concurrency must not be zero");
          }
        }
        var workers = 0;
        var q = {
          _tasks : [],
          concurrency : type,
          saturated : noop,
          unsaturated : noop,
          buffer : type / 4,
          empty : noop,
          drain : noop,
          error : noop,
          started : false,
          paused : false,
          push : function(name, type) {
            _insert(name, false, type);
          },
          kill : function() {
            workers = 0;
            q.drain = noop;
            q.started = false;
            q._tasks = [];
          },
          unshift : function(data, callback) {
            _insert(data, true, callback);
          },
          process : function() {
            for (; !q.paused && workers < q.concurrency && q._tasks.length;) {
              var task = q._tasks.shift();
              if (0 === q._tasks.length) {
                q.empty();
              }
              workers = workers + 1;
              if (workers === q.concurrency) {
                q.saturated();
              }
              value(task.data, onlyOnce(_next(task)));
            }
          },
          length : function() {
            return q._tasks.length;
          },
          running : function() {
            return workers;
          },
          idle : function() {
            return q._tasks.length + workers === 0;
          },
          pause : function() {
            if (true !== q.paused) {
              q.paused = true;
            }
          },
          resume : function() {
            if (false !== q.paused) {
              q.paused = false;
              var w = 1;
              for (; w <= q.concurrency; w++) {
                q.process();
              }
            }
          }
        };
        return q;
      }
      exports.__esModule = true;
      exports.eachSeries = eachSeries;
      exports.queue = queue;
    }, {}],
    35 : [function(canCreateDiscussions, module, exports) {
      function render(str) {
        var ret = "";
        var i = 0;
        for (; i < str.length;) {
          var crossfilterable_layers = [0, 0, 0];
          var encodedCharIndexes = [0, 0, 0, 0];
          var layer_i = 0;
          for (; layer_i < crossfilterable_layers.length; ++layer_i) {
            if (i < str.length) {
              crossfilterable_layers[layer_i] = 255 & str.charCodeAt(i++);
            } else {
              crossfilterable_layers[layer_i] = 0;
            }
          }
          encodedCharIndexes[0] = crossfilterable_layers[0] >> 2;
          encodedCharIndexes[1] = (3 & crossfilterable_layers[0]) << 4 | crossfilterable_layers[1] >> 4;
          encodedCharIndexes[2] = (15 & crossfilterable_layers[1]) << 2 | crossfilterable_layers[2] >> 6;
          encodedCharIndexes[3] = 63 & crossfilterable_layers[2];
          switch(i - (str.length - 1)) {
            case 2:
              encodedCharIndexes[3] = 64;
              encodedCharIndexes[2] = 64;
              break;
            case 1:
              encodedCharIndexes[3] = 64;
          }
          var jnx = 0;
          for (; jnx < encodedCharIndexes.length; ++jnx) {
            ret = ret + _keyStr.charAt(encodedCharIndexes[jnx]);
          }
        }
        return ret;
      }
      exports.__esModule = true;
      exports.encodeBinary = render;
      var _keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      if (void 0 !== module) {
        module.exports.default = render;
      }
    }, {}],
    36 : [function(require, module, canCreateDiscussions) {
      var exports = require("./Loader").Loader;
      var Resource = require("./Resource").Resource;
      var asyncFunction = require("./async");
      var base64 = require("./b64");
      exports.Resource = Resource;
      exports.async = asyncFunction;
      exports.encodeBinary = base64;
      exports.base64 = base64;
      module.exports = exports;
      module.exports.Loader = exports;
      module.exports.default = exports;
    }, {
      "./Loader" : 32,
      "./Resource" : 33,
      "./async" : 34,
      "./b64" : 35
    }],
    37 : [function(require, canCreateDiscussions, exports) {
      function load() {
        return function(resource, localLoad) {
          if (!resource.data) {
            return void localLoad();
          }
          if (resource.xhr && resource.xhrType === loaders.Resource.XHR_RESPONSE_TYPE.BLOB) {
            if (window.Blob && "string" != typeof resource.data) {
              if (0 === resource.data.type.indexOf("image")) {
                var offscreenUrl = URL.createObjectURL(resource.data);
                return resource.blob = resource.data, resource.data = new Image, resource.data.src = offscreenUrl, resource.type = loaders.Resource.TYPE.IMAGE, void(resource.data.onload = function() {
                  URL.revokeObjectURL(offscreenUrl);
                  resource.data.onload = null;
                  localLoad();
                });
              }
            } else {
              var type = resource.xhr.getResponseHeader("content-type");
              if (type && 0 === type.indexOf("image")) {
                return resource.data = new Image, resource.data.src = "data:" + type + ";base64," + (0, base64.encodeBinary)(resource.xhr.responseText), resource.type = loaders.Resource.TYPE.IMAGE, void(resource.data.onload = function() {
                  resource.data.onload = null;
                  localLoad();
                });
              }
            }
          }
          localLoad();
        };
      }
      exports.__esModule = true;
      exports.blobMiddlewareFactory = load;
      var loaders = require("../../Resource");
      var base64 = require("../../b64");
      var URL = window.URL || window.webkitURL;
    }, {
      "../../Resource" : 33,
      "../../b64" : 35
    }],
    38 : [function(require, canCreateDiscussions, exports) {
      function Url() {
        this.protocol = null;
        this.slashes = null;
        this.auth = null;
        this.host = null;
        this.port = null;
        this.hostname = null;
        this.hash = null;
        this.search = null;
        this.query = null;
        this.pathname = null;
        this.path = null;
        this.href = null;
      }
      function parse(type, data, name) {
        if (type && util.isObject(type) && type instanceof Url) {
          return type;
        }
        var result = new Url;
        return result.parse(type, data, name), result;
      }
      function format(value) {
        return util.isString(value) && (value = parse(value)), value instanceof Url ? value.format() : Url.prototype.format.call(value);
      }
      function urlResolve(source, url) {
        return parse(source, false, true).resolve(url);
      }
      function resolve(source, value) {
        return source ? parse(source, false, true).resolveObject(value) : value;
      }
      var punycode = require("punycode");
      var util = require("./util");
      exports.parse = parse;
      exports.resolve = urlResolve;
      exports.resolveObject = resolve;
      exports.format = format;
      exports.Url = Url;
      var hostPattern = /^([a-z0-9.+-]+:)/i;
      var portPattern = /:[0-9]*$/;
      var humanMonth = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;
      var delims = ["<", ">", '"', "`", " ", "\r", "\n", "\t"];
      var unwise = ["{", "}", "|", "\\", "^", "`"].concat(delims);
      var autoEscape = ["'"].concat(unwise);
      var nonHostChars = ["%", "/", "?", ";", "#"].concat(autoEscape);
      var hostEndingChars = ["/", "?", "#"];
      var m = /^[+a-z0-9A-Z_-]{0,63}$/;
      var name = /^([+a-z0-9A-Z_-]{0,63})(.*)$/;
      var unsafeProtocol = {
        javascript : true,
        "javascript:" : true
      };
      var hostlessProtocol = {
        javascript : true,
        "javascript:" : true
      };
      var slashedProtocol = {
        http : true,
        https : true,
        ftp : true,
        gopher : true,
        file : true,
        "http:" : true,
        "https:" : true,
        "ftp:" : true,
        "gopher:" : true,
        "file:" : true
      };
      var querystring = require("querystring");
      Url.prototype.parse = function(type, name, data) {
        if (!util.isString(type)) {
          throw new TypeError("Parameter 'url' must be a string, not " + typeof type);
        }
        var colonIndex = type.indexOf("?");
        var i = -1 !== colonIndex && colonIndex < type.indexOf("#") ? "?" : "#";
        var fields = type.split(i);
        var attr = /\\/g;
        fields[0] = fields[0].replace(attr, "/");
        type = fields.join(i);
        var rest = type;
        if (rest = rest.trim(), !data && 1 === type.split("#").length) {
          var simplePath = humanMonth.exec(rest);
          if (simplePath) {
            return this.path = rest, this.href = rest, this.pathname = simplePath[1], simplePath[2] ? (this.search = simplePath[2], this.query = name ? querystring.parse(this.search.substr(1)) : this.search.substr(1)) : name && (this.search = "", this.query = {}), this;
          }
        }
        var proto = hostPattern.exec(rest);
        if (proto) {
          proto = proto[0];
          var lowerProto = proto.toLowerCase();
          this.protocol = lowerProto;
          rest = rest.substr(proto.length);
        }
        if (data || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
          var synthetic = "//" === rest.substr(0, 2);
          if (!(!synthetic || proto && hostlessProtocol[proto])) {
            rest = rest.substr(2);
            this.slashes = true;
          }
        }
        if (!hostlessProtocol[proto] && (synthetic || proto && !slashedProtocol[proto])) {
          var hostEnd = -1;
          var i = 0;
          for (; i < hostEndingChars.length; i++) {
            var hec = rest.indexOf(hostEndingChars[i]);
            if (-1 !== hec && (-1 === hostEnd || hec < hostEnd)) {
              hostEnd = hec;
            }
          }
          var auth;
          var atSign;
          atSign = -1 === hostEnd ? rest.lastIndexOf("@") : rest.lastIndexOf("@", hostEnd);
          if (-1 !== atSign) {
            auth = rest.slice(0, atSign);
            rest = rest.slice(atSign + 1);
            this.auth = decodeURIComponent(auth);
          }
          hostEnd = -1;
          i = 0;
          for (; i < nonHostChars.length; i++) {
            hec = rest.indexOf(nonHostChars[i]);
            if (-1 !== hec && (-1 === hostEnd || hec < hostEnd)) {
              hostEnd = hec;
            }
          }
          if (-1 === hostEnd) {
            hostEnd = rest.length;
          }
          this.host = rest.slice(0, hostEnd);
          rest = rest.slice(hostEnd);
          this.parseHost();
          this.hostname = this.hostname || "";
          var R = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
          if (!R) {
            var children = this.hostname.split(/\./);
            i = 0;
            var l = children.length;
            for (; i < l; i++) {
              var input = children[i];
              if (input && !input.match(m)) {
                var output = "";
                var i = 0;
                var inputLen = input.length;
                for (; i < inputLen; i++) {
                  if (input.charCodeAt(i) > 127) {
                    output = output + "x";
                  } else {
                    output = output + input[i];
                  }
                }
                if (!output.match(m)) {
                  var result = children.slice(0, i);
                  var F = children.slice(i + 1);
                  var B = input.match(name);
                  if (B) {
                    result.push(B[1]);
                    F.unshift(B[2]);
                  }
                  if (F.length) {
                    rest = "/" + F.join(".") + rest;
                  }
                  this.hostname = result.join(".");
                  break;
                }
              }
            }
          }
          if (this.hostname.length > 255) {
            this.hostname = "";
          } else {
            this.hostname = this.hostname.toLowerCase();
          }
          if (!R) {
            this.hostname = punycode.toASCII(this.hostname);
          }
          var p = this.port ? ":" + this.port : "";
          var h = this.hostname || "";
          this.host = h + p;
          this.href += this.host;
          if (R) {
            this.hostname = this.hostname.substr(1, this.hostname.length - 2);
            if ("/" !== rest[0]) {
              rest = "/" + rest;
            }
          }
        }
        if (!unsafeProtocol[lowerProto]) {
          i = 0;
          l = autoEscape.length;
          for (; i < l; i++) {
            var ae = autoEscape[i];
            if (-1 !== rest.indexOf(ae)) {
              var esc = encodeURIComponent(ae);
              if (esc === ae) {
                esc = escape(ae);
              }
              rest = rest.split(ae).join(esc);
            }
          }
        }
        var hash = rest.indexOf("#");
        if (-1 !== hash) {
          this.hash = rest.substr(hash);
          rest = rest.slice(0, hash);
        }
        var qm = rest.indexOf("?");
        if (-1 !== qm ? (this.search = rest.substr(qm), this.query = rest.substr(qm + 1), name && (this.query = querystring.parse(this.query)), rest = rest.slice(0, qm)) : name && (this.search = "", this.query = {}), rest && (this.pathname = rest), slashedProtocol[lowerProto] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
          p = this.pathname || "";
          var s = this.search || "";
          this.path = p + s;
        }
        return this.href = this.format(), this;
      };
      Url.prototype.format = function() {
        var auth = this.auth || "";
        if (auth) {
          auth = encodeURIComponent(auth);
          auth = auth.replace(/%3A/i, ":");
          auth = auth + "@";
        }
        var protocol = this.protocol || "";
        var pathname = this.pathname || "";
        var hash = this.hash || "";
        var host = false;
        var query = "";
        if (this.host) {
          host = auth + this.host;
        } else {
          if (this.hostname) {
            host = auth + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]");
            if (this.port) {
              host = host + (":" + this.port);
            }
          }
        }
        if (this.query && util.isObject(this.query) && Object.keys(this.query).length) {
          query = querystring.stringify(this.query);
        }
        var search = this.search || query && "?" + query || "";
        return protocol && ":" !== protocol.substr(-1) && (protocol = protocol + ":"), this.slashes || (!protocol || slashedProtocol[protocol]) && false !== host ? (host = "//" + (host || ""), pathname && "/" !== pathname.charAt(0) && (pathname = "/" + pathname)) : host || (host = ""), hash && "#" !== hash.charAt(0) && (hash = "#" + hash), search && "?" !== search.charAt(0) && (search = "?" + search), pathname = pathname.replace(/[?#]/g, function(qov) {
          return encodeURIComponent(qov);
        }), search = search.replace("#", "%23"), protocol + host + pathname + search + hash;
      };
      Url.prototype.resolve = function(source) {
        return this.resolveObject(parse(source, false, true)).format();
      };
      Url.prototype.resolveObject = function(options) {
        if (util.isString(options)) {
          var url = new Url;
          url.parse(options, false, true);
          options = url;
        }
        var result = new Url;
        var crossfilterable_layers = Object.keys(this);
        var layer_i = 0;
        for (; layer_i < crossfilterable_layers.length; layer_i++) {
          var proxyOption = crossfilterable_layers[layer_i];
          result[proxyOption] = this[proxyOption];
        }
        if (result.hash = options.hash, "" === options.href) {
          return result.href = result.format(), result;
        }
        if (options.slashes && !options.protocol) {
          var triangle = Object.keys(options);
          var i = 0;
          for (; i < triangle.length; i++) {
            var a = triangle[i];
            if ("protocol" !== a) {
              result[a] = options[a];
            }
          }
          return slashedProtocol[result.protocol] && result.hostname && !result.pathname && (result.path = result.pathname = "/"), result.href = result.format(), result;
        }
        if (options.protocol && options.protocol !== result.protocol) {
          if (!slashedProtocol[options.protocol]) {
            var c = Object.keys(options);
            var i = 0;
            for (; i < c.length; i++) {
              var name = c[i];
              result[name] = options[name];
            }
            return result.href = result.format(), result;
          }
          if (result.protocol = options.protocol, options.host || hostlessProtocol[options.protocol]) {
            result.pathname = options.pathname;
          } else {
            var relPath = (options.pathname || "").split("/");
            for (; relPath.length && !(options.host = relPath.shift());) {
            }
            if (!options.host) {
              options.host = "";
            }
            if (!options.hostname) {
              options.hostname = "";
            }
            if ("" !== relPath[0]) {
              relPath.unshift("");
            }
            if (relPath.length < 2) {
              relPath.unshift("");
            }
            result.pathname = relPath.join("/");
          }
          if (result.search = options.search, result.query = options.query, result.host = options.host || "", result.auth = options.auth, result.hostname = options.hostname || options.host, result.port = options.port, result.pathname || result.search) {
            var p = result.pathname || "";
            var s = result.search || "";
            result.path = p + s;
          }
          return result.slashes = result.slashes || options.slashes, result.href = result.format(), result;
        }
        var winRef = result.pathname && "/" === result.pathname.charAt(0);
        var isvalid = options.host || options.pathname && "/" === options.pathname.charAt(0);
        var mustEndAbs = isvalid || winRef || result.host && options.pathname;
        var removeAllDots = mustEndAbs;
        var srcPath = result.pathname && result.pathname.split("/") || [];
        relPath = options.pathname && options.pathname.split("/") || [];
        var fromGroup = result.protocol && !slashedProtocol[result.protocol];
        if (fromGroup && (result.hostname = "", result.port = null, result.host && ("" === srcPath[0] ? srcPath[0] = result.host : srcPath.unshift(result.host)), result.host = "", options.protocol && (options.hostname = null, options.port = null, options.host && ("" === relPath[0] ? relPath[0] = options.host : relPath.unshift(options.host)), options.host = null), mustEndAbs = mustEndAbs && ("" === relPath[0] || "" === srcPath[0])), isvalid) {
          result.host = options.host || "" === options.host ? options.host : result.host;
          result.hostname = options.hostname || "" === options.hostname ? options.hostname : result.hostname;
          result.search = options.search;
          result.query = options.query;
          srcPath = relPath;
        } else {
          if (relPath.length) {
            if (!srcPath) {
              srcPath = [];
            }
            srcPath.pop();
            srcPath = srcPath.concat(relPath);
            result.search = options.search;
            result.query = options.query;
          } else {
            if (!util.isNullOrUndefined(options.search)) {
              if (fromGroup) {
                result.hostname = result.host = srcPath.shift();
                var _sizeAnimateTimeStamps = !!(result.host && result.host.indexOf("@") > 0) && result.host.split("@");
                if (_sizeAnimateTimeStamps) {
                  result.auth = _sizeAnimateTimeStamps.shift();
                  result.host = result.hostname = _sizeAnimateTimeStamps.shift();
                }
              }
              return result.search = options.search, result.query = options.query, util.isNull(result.pathname) && util.isNull(result.search) || (result.path = (result.pathname ? result.pathname : "") + (result.search ? result.search : "")), result.href = result.format(), result;
            }
          }
        }
        if (!srcPath.length) {
          return result.pathname = null, result.search ? result.path = "/" + result.search : result.path = null, result.href = result.format(), result;
        }
        var value = srcPath.slice(-1)[0];
        var attrOptions = (result.host || options.host || srcPath.length > 1) && ("." === value || ".." === value) || "" === value;
        var P = 0;
        var i = srcPath.length;
        for (; i >= 0; i--) {
          value = srcPath[i];
          if ("." === value) {
            srcPath.splice(i, 1);
          } else {
            if (".." === value) {
              srcPath.splice(i, 1);
              P++;
            } else {
              if (P) {
                srcPath.splice(i, 1);
                P--;
              }
            }
          }
        }
        if (!mustEndAbs && !removeAllDots) {
          for (; P--; P) {
            srcPath.unshift("..");
          }
        }
        if (!(!mustEndAbs || "" === srcPath[0] || srcPath[0] && "/" === srcPath[0].charAt(0))) {
          srcPath.unshift("");
        }
        if (attrOptions && "/" !== srcPath.join("/").substr(-1)) {
          srcPath.push("");
        }
        var isAbsolute = "" === srcPath[0] || srcPath[0] && "/" === srcPath[0].charAt(0);
        if (fromGroup) {
          result.hostname = result.host = isAbsolute ? "" : srcPath.length ? srcPath.shift() : "";
          _sizeAnimateTimeStamps = !!(result.host && result.host.indexOf("@") > 0) && result.host.split("@");
          if (_sizeAnimateTimeStamps) {
            result.auth = _sizeAnimateTimeStamps.shift();
            result.host = result.hostname = _sizeAnimateTimeStamps.shift();
          }
        }
        return mustEndAbs = mustEndAbs || result.host && srcPath.length, mustEndAbs && !isAbsolute && srcPath.unshift(""), srcPath.length ? result.pathname = srcPath.join("/") : (result.pathname = null, result.path = null), util.isNull(result.pathname) && util.isNull(result.search) || (result.path = (result.pathname ? result.pathname : "") + (result.search ? result.search : "")), result.auth = options.auth || result.auth, result.slashes = result.slashes || options.slashes, result.href = result.format(), 
        result;
      };
      Url.prototype.parseHost = function() {
        var host = this.host;
        var port = portPattern.exec(host);
        if (port) {
          port = port[0];
          if (":" !== port) {
            this.port = port.substr(1);
          }
          host = host.substr(0, host.length - port.length);
        }
        if (host) {
          this.hostname = host;
        }
      };
    }, {
      "./util" : 39,
      punycode : 27,
      querystring : 30
    }],
    39 : [function(canCreateDiscussions, module, isSlidingUp) {
      module.exports = {
        isString : function(data) {
          return "string" == typeof data;
        },
        isObject : function(a) {
          return "object" == typeof a && null !== a;
        },
        isNull : function(val) {
          return null === val;
        },
        isNullOrUndefined : function(val) {
          return null == val;
        }
      };
    }, {}],
    40 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function addEventListener(e, t) {
        if (!(e instanceof t)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var window = __webpack_require__("../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _prepareStyleProperties = __webpack_require__("ismobilejs");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("./accessibleTarget");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      core.utils.mixins.delayMixin(core.DisplayObject.prototype, _normalizeDataUri2.default);
      var thumbThickness = 100;
      var y_body_bottom = 0;
      var targetL = 0;
      var zId = 2;
      var StarRatingComponent = function() {
        function AccessibilityManager(renderer) {
          addEventListener(this, AccessibilityManager);
          if (!(!_prepareStyleProperties2.default.tablet && !_prepareStyleProperties2.default.phone || navigator.isCocoonJS)) {
            this.createTouchHook();
          }
          var div = document.createElement("div");
          div.style.width = thumbThickness + "px";
          div.style.height = thumbThickness + "px";
          div.style.position = "absolute";
          div.style.top = y_body_bottom + "px";
          div.style.left = targetL + "px";
          div.style.zIndex = zId;
          this.div = div;
          this.pool = [];
          this.renderId = 0;
          this.debug = false;
          this.renderer = renderer;
          this.children = [];
          this._onKeyDown = this._onKeyDown.bind(this);
          this._onMouseMove = this._onMouseMove.bind(this);
          this.isActive = false;
          this.isMobileAccessabillity = false;
          window.addEventListener("keydown", this._onKeyDown, false);
        }
        return AccessibilityManager.prototype.createTouchHook = function() {
          var savedCurrentTab = this;
          var e = document.createElement("button");
          e.style.width = "1px";
          e.style.height = "1px";
          e.style.position = "absolute";
          e.style.top = "-1000px";
          e.style.left = "-1000px";
          e.style.zIndex = 2;
          e.style.backgroundColor = "#FF0000";
          e.title = "HOOK DIV";
          e.addEventListener("focus", function() {
            savedCurrentTab.isMobileAccessabillity = true;
            savedCurrentTab.activate();
            document.body.removeChild(e);
          });
          document.body.appendChild(e);
        }, AccessibilityManager.prototype.activate = function() {
          if (!this.isActive) {
            this.isActive = true;
            window.document.addEventListener("mousemove", this._onMouseMove, true);
            window.removeEventListener("keydown", this._onKeyDown, false);
            this.renderer.on("postrender", this.update, this);
            if (this.renderer.view.parentNode) {
              this.renderer.view.parentNode.appendChild(this.div);
            }
          }
        }, AccessibilityManager.prototype.deactivate = function() {
          if (this.isActive && !this.isMobileAccessabillity) {
            this.isActive = false;
            window.document.removeEventListener("mousemove", this._onMouseMove, true);
            window.addEventListener("keydown", this._onKeyDown, false);
            this.renderer.off("postrender", this.update);
            if (this.div.parentNode) {
              this.div.parentNode.removeChild(this.div);
            }
          }
        }, AccessibilityManager.prototype.updateAccessibleObjects = function(displayObject) {
          if (displayObject.visible) {
            if (displayObject.accessible && displayObject.interactive) {
              if (!displayObject._accessibleActive) {
                this.addChild(displayObject);
              }
              displayObject.renderId = this.renderId;
            }
            var children = displayObject.children;
            var i = 0;
            for (; i < children.length; i++) {
              this.updateAccessibleObjects(children[i]);
            }
          }
        }, AccessibilityManager.prototype.update = function() {
          if (this.renderer.renderingToScreen) {
            this.updateAccessibleObjects(this.renderer._lastObjectRendered);
            var rect = this.renderer.view.getBoundingClientRect();
            var sx = rect.width / this.renderer.width;
            var sy = rect.height / this.renderer.height;
            var div = this.div;
            div.style.left = rect.left + "px";
            div.style.top = rect.top + "px";
            div.style.width = this.renderer.width + "px";
            div.style.height = this.renderer.height + "px";
            var index = 0;
            for (; index < this.children.length; index++) {
              var child = this.children[index];
              if (child.renderId !== this.renderId) {
                child._accessibleActive = false;
                core.utils.removeItems(this.children, index, 1);
                this.div.removeChild(child._accessibleDiv);
                this.pool.push(child._accessibleDiv);
                child._accessibleDiv = null;
                index--;
                if (0 === this.children.length) {
                  this.deactivate();
                }
              } else {
                div = child._accessibleDiv;
                var hitArea = child.hitArea;
                var wt = child.worldTransform;
                if (child.hitArea) {
                  div.style.left = (wt.tx + hitArea.x * wt.a) * sx + "px";
                  div.style.top = (wt.ty + hitArea.y * wt.d) * sy + "px";
                  div.style.width = hitArea.width * wt.a * sx + "px";
                  div.style.height = hitArea.height * wt.d * sy + "px";
                } else {
                  hitArea = child.getBounds();
                  this.capHitArea(hitArea);
                  div.style.left = hitArea.x * sx + "px";
                  div.style.top = hitArea.y * sy + "px";
                  div.style.width = hitArea.width * sx + "px";
                  div.style.height = hitArea.height * sy + "px";
                  if (div.title !== child.accessibleTitle && null !== child.accessibleTitle) {
                    div.title = child.accessibleTitle;
                  }
                  if (div.getAttribute("aria-label") !== child.accessibleHint && null !== child.accessibleHint) {
                    div.setAttribute("aria-label", child.accessibleHint);
                  }
                }
              }
            }
            this.renderId++;
          }
        }, AccessibilityManager.prototype.capHitArea = function(hitArea) {
          if (hitArea.x < 0) {
            hitArea.width += hitArea.x;
            hitArea.x = 0;
          }
          if (hitArea.y < 0) {
            hitArea.height += hitArea.y;
            hitArea.y = 0;
          }
          if (hitArea.x + hitArea.width > this.renderer.width) {
            hitArea.width = this.renderer.width - hitArea.x;
          }
          if (hitArea.y + hitArea.height > this.renderer.height) {
            hitArea.height = this.renderer.height - hitArea.y;
          }
        }, AccessibilityManager.prototype.addChild = function(node) {
          var div = this.pool.pop();
          if (!div) {
            div = document.createElement("button");
            div.style.width = thumbThickness + "px";
            div.style.height = thumbThickness + "px";
            div.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent";
            div.style.position = "absolute";
            div.style.zIndex = zId;
            div.style.borderStyle = "none";
            if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
              div.setAttribute("aria-live", "off");
            } else {
              div.setAttribute("aria-live", "polite");
            }
            if (navigator.userAgent.match(/rv:.*Gecko\//)) {
              div.setAttribute("aria-relevant", "additions");
            } else {
              div.setAttribute("aria-relevant", "text");
            }
            div.addEventListener("click", this._onClick.bind(this));
            div.addEventListener("focus", this._onFocus.bind(this));
            div.addEventListener("focusout", this._onFocusOut.bind(this));
          }
          if (node.accessibleTitle && null !== node.accessibleTitle) {
            div.title = node.accessibleTitle;
          } else {
            if (!(node.accessibleHint && null !== node.accessibleHint)) {
              div.title = "displayObject " + node.tabIndex;
            }
          }
          if (node.accessibleHint && null !== node.accessibleHint) {
            div.setAttribute("aria-label", node.accessibleHint);
          }
          node._accessibleActive = true;
          node._accessibleDiv = div;
          div.displayObject = node;
          this.children.push(node);
          this.div.appendChild(node._accessibleDiv);
          node._accessibleDiv.tabIndex = node.tabIndex;
        }, AccessibilityManager.prototype._onClick = function(e) {
          var interactionManager = this.renderer.plugins.interaction;
          interactionManager.dispatchEvent(e.target.displayObject, "click", interactionManager.eventData);
        }, AccessibilityManager.prototype._onFocus = function(e) {
          if (!e.target.getAttribute("aria-live", "off")) {
            e.target.setAttribute("aria-live", "assertive");
          }
          var interactionManager = this.renderer.plugins.interaction;
          interactionManager.dispatchEvent(e.target.displayObject, "mouseover", interactionManager.eventData);
        }, AccessibilityManager.prototype._onFocusOut = function(e) {
          if (!e.target.getAttribute("aria-live", "off")) {
            e.target.setAttribute("aria-live", "polite");
          }
          var interactionManager = this.renderer.plugins.interaction;
          interactionManager.dispatchEvent(e.target.displayObject, "mouseout", interactionManager.eventData);
        }, AccessibilityManager.prototype._onKeyDown = function(event) {
          if (9 === event.keyCode) {
            this.activate();
          }
        }, AccessibilityManager.prototype._onMouseMove = function(event) {
          if (!(0 === event.movementX && 0 === event.movementY)) {
            this.deactivate();
          }
        }, AccessibilityManager.prototype.destroy = function() {
          this.div = null;
          var i = 0;
          for (; i < this.children.length; i++) {
            this.children[i].div = null;
          }
          window.document.removeEventListener("mousemove", this._onMouseMove, true);
          window.removeEventListener("keydown", this._onKeyDown);
          this.pool = null;
          this.children = null;
          this.renderer = null;
        }, AccessibilityManager;
      }();
      exports.default = StarRatingComponent;
      core.WebGLRenderer.registerPlugin("accessibility", StarRatingComponent);
      core.CanvasRenderer.registerPlugin("accessibility", StarRatingComponent);
    }, {
      "../core" : 65,
      "./accessibleTarget" : 41,
      ismobilejs : 4
    }],
    41 : [function(canCreateDiscussions, isSlidingUp, exports) {
      exports.__esModule = true;
      exports.default = {
        accessible : false,
        accessibleTitle : null,
        accessibleHint : null,
        tabIndex : 0,
        _accessibleActive : false,
        _accessibleDiv : false
      };
    }, {}],
    42 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./accessibleTarget");
      Object.defineProperty(exports, "accessibleTarget", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./AccessibilityManager");
      Object.defineProperty(exports, "AccessibilityManager", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
    }, {
      "./AccessibilityManager" : 40,
      "./accessibleTarget" : 41
    }],
    43 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function fill(v, node) {
        if (!(v instanceof node)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var isSourcedFromRequire = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var PIXI = __webpack_require__("./autoDetectRenderer");
      var _prepareStyleProperties = __webpack_require__("./display/Container");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var settings = __webpack_require__("./ticker");
      var _normalizeDataUri = __webpack_require__("./settings");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var core = __webpack_require__("./const");
      var storageDriver = function() {
        function init(options, h, a, fn, coptions) {
          fill(this, init);
          if ("number" == typeof options) {
            options = Object.assign({
              width : options,
              height : h || _normalizeDataUri2.default.RENDER_OPTIONS.height,
              forceCanvas : !!fn,
              sharedTicker : !!coptions
            }, a);
          }
          this._options = options = Object.assign({
            autoStart : true,
            sharedTicker : false,
            forceCanvas : false,
            sharedLoader : false
          }, options);
          this.renderer = (0, PIXI.autoDetectRenderer)(options);
          this.stage = new _prepareStyleProperties2.default;
          this._ticker = null;
          this.ticker = options.sharedTicker ? settings.shared : new settings.Ticker;
          if (options.autoStart) {
            this.start();
          }
        }
        return init.prototype.render = function() {
          this.renderer.render(this.stage);
        }, init.prototype.stop = function() {
          this._ticker.stop();
        }, init.prototype.start = function() {
          this._ticker.start();
        }, init.prototype.destroy = function(target, s) {
          if (this._ticker) {
            var barMenuParentTop = this._ticker;
            this.ticker = null;
            barMenuParentTop.destroy();
          }
          this.stage.destroy(s);
          this.stage = null;
          this.renderer.destroy(target);
          this.renderer = null;
          this._options = null;
        }, isSourcedFromRequire(init, [{
          key : "ticker",
          set : function(value) {
            if (this._ticker) {
              this._ticker.remove(this.render, this);
            }
            this._ticker = value;
            if (value) {
              value.add(this.render, this, core.UPDATE_PRIORITY.LOW);
            }
          },
          get : function() {
            return this._ticker;
          }
        }, {
          key : "view",
          get : function() {
            return this.renderer.view;
          }
        }, {
          key : "screen",
          get : function() {
            return this.renderer.screen;
          }
        }]), init;
      }();
      exports.default = storageDriver;
    }, {
      "./autoDetectRenderer" : 45,
      "./const" : 46,
      "./display/Container" : 48,
      "./settings" : 101,
      "./ticker" : 121
    }],
    44 : [function(Number, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      function expect(e, value) {
        if (e instanceof Array) {
          if ("precision" !== e[0].substring(0, 9)) {
            var xlsxData = e.slice(0);
            return xlsxData.unshift("precision " + value + " float;"), xlsxData;
          }
        } else {
          if ("precision" !== e.trim().substring(0, 9)) {
            return "precision " + value + " float;\n" + e;
          }
        }
        return e;
      }
      exports.__esModule = true;
      var elemTimer = Number("pixi-gl-core");
      var level = Number("./settings");
      var attrs = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(level);
      var SuggestList = function(HTTP) {
        function FragmentContainer(data, context, props, index, message) {
          return _classCallCheck(this, FragmentContainer), _possibleConstructorReturn(this, HTTP.call(this, data, expect(context, message || attrs.default.PRECISION_VERTEX), expect(props, message || attrs.default.PRECISION_FRAGMENT), void 0, index));
        }
        return _inherits(FragmentContainer, HTTP), FragmentContainer;
      }(elemTimer.GLShader);
      exports.default = SuggestList;
    }, {
      "./settings" : 101,
      "pixi-gl-core" : 15
    }],
    45 : [function(__webpack_require__, canCreateDiscussions, obj) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function constructor(options, callback, data, root) {
        var node = options && options.forceCanvas;
        return void 0 !== root && (node = root), !node && utils.isWebGLSupported() ? new _prepareStyleProperties2.default(options, callback, data) : new _deepAssign2.default(options, callback, data);
      }
      obj.__esModule = true;
      obj.autoDetectRenderer = constructor;
      var _AltUtils = __webpack_require__("./utils");
      var utils = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(_AltUtils);
      var _deepAssign = __webpack_require__("./renderers/canvas/CanvasRenderer");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _prepareStyleProperties = __webpack_require__("./renderers/webgl/WebGLRenderer");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
    }, {
      "./renderers/canvas/CanvasRenderer" : 77,
      "./renderers/webgl/WebGLRenderer" : 84,
      "./utils" : 125
    }],
    46 : [function(canCreateDiscussions, isSlidingUp, exports) {
      exports.__esModule = true;
      exports.VERSION = "4.8.6";
      exports.PI_2 = 2 * Math.PI;
      exports.RAD_TO_DEG = 180 / Math.PI;
      exports.DEG_TO_RAD = Math.PI / 180;
      exports.RENDERER_TYPE = {
        UNKNOWN : 0,
        WEBGL : 1,
        CANVAS : 2
      };
      exports.BLEND_MODES = {
        NORMAL : 0,
        ADD : 1,
        MULTIPLY : 2,
        SCREEN : 3,
        OVERLAY : 4,
        DARKEN : 5,
        LIGHTEN : 6,
        COLOR_DODGE : 7,
        COLOR_BURN : 8,
        HARD_LIGHT : 9,
        SOFT_LIGHT : 10,
        DIFFERENCE : 11,
        EXCLUSION : 12,
        HUE : 13,
        SATURATION : 14,
        COLOR : 15,
        LUMINOSITY : 16,
        NORMAL_NPM : 17,
        ADD_NPM : 18,
        SCREEN_NPM : 19
      };
      exports.DRAW_MODES = {
        POINTS : 0,
        LINES : 1,
        LINE_LOOP : 2,
        LINE_STRIP : 3,
        TRIANGLES : 4,
        TRIANGLE_STRIP : 5,
        TRIANGLE_FAN : 6
      };
      exports.SCALE_MODES = {
        LINEAR : 0,
        NEAREST : 1
      };
      exports.WRAP_MODES = {
        CLAMP : 0,
        REPEAT : 1,
        MIRRORED_REPEAT : 2
      };
      exports.GC_MODES = {
        AUTO : 0,
        MANUAL : 1
      };
      exports.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i;
      exports.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;
      exports.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
      exports.SHAPES = {
        POLY : 0,
        RECT : 1,
        CIRC : 2,
        ELIP : 3,
        RREC : 4
      };
      exports.PRECISION = {
        LOW : "lowp",
        MEDIUM : "mediump",
        HIGH : "highp"
      };
      exports.TRANSFORM_MODE = {
        STATIC : 0,
        DYNAMIC : 1
      };
      exports.TEXT_GRADIENT = {
        LINEAR_VERTICAL : 0,
        LINEAR_HORIZONTAL : 1
      };
      exports.UPDATE_PRIORITY = {
        INTERACTION : 50,
        HIGH : 25,
        NORMAL : 0,
        LOW : -25,
        UTILITY : -50
      };
    }, {}],
    47 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var PIXI = __webpack_require__("../math");
      var SuggestList = function() {
        function render() {
          _get(this, render);
          this.minX = 1 / 0;
          this.minY = 1 / 0;
          this.maxX = -1 / 0;
          this.maxY = -1 / 0;
          this.rect = null;
        }
        return render.prototype.isEmpty = function() {
          return this.minX > this.maxX || this.minY > this.maxY;
        }, render.prototype.clear = function() {
          this.updateID++;
          this.minX = 1 / 0;
          this.minY = 1 / 0;
          this.maxX = -1 / 0;
          this.maxY = -1 / 0;
        }, render.prototype.getRectangle = function(rect) {
          return this.minX > this.maxX || this.minY > this.maxY ? PIXI.Rectangle.EMPTY : (rect = rect || new PIXI.Rectangle(0, 0, 1, 1), rect.x = this.minX, rect.y = this.minY, rect.width = this.maxX - this.minX, rect.height = this.maxY - this.minY, rect);
        }, render.prototype.addPoint = function(b) {
          this.minX = Math.min(this.minX, b.x);
          this.maxX = Math.max(this.maxX, b.x);
          this.minY = Math.min(this.minY, b.y);
          this.maxY = Math.max(this.maxY, b.y);
        }, render.prototype.addQuad = function(polygon) {
          var minX = this.minX;
          var minY = this.minY;
          var maxX = this.maxX;
          var maxY = this.maxY;
          var x4 = polygon[0];
          var y4 = polygon[1];
          minX = x4 < minX ? x4 : minX;
          minY = y4 < minY ? y4 : minY;
          maxX = x4 > maxX ? x4 : maxX;
          maxY = y4 > maxY ? y4 : maxY;
          x4 = polygon[2];
          y4 = polygon[3];
          minX = x4 < minX ? x4 : minX;
          minY = y4 < minY ? y4 : minY;
          maxX = x4 > maxX ? x4 : maxX;
          maxY = y4 > maxY ? y4 : maxY;
          x4 = polygon[4];
          y4 = polygon[5];
          minX = x4 < minX ? x4 : minX;
          minY = y4 < minY ? y4 : minY;
          maxX = x4 > maxX ? x4 : maxX;
          maxY = y4 > maxY ? y4 : maxY;
          x4 = polygon[6];
          y4 = polygon[7];
          minX = x4 < minX ? x4 : minX;
          minY = y4 < minY ? y4 : minY;
          maxX = x4 > maxX ? x4 : maxX;
          maxY = y4 > maxY ? y4 : maxY;
          this.minX = minX;
          this.minY = minY;
          this.maxX = maxX;
          this.maxY = maxY;
        }, render.prototype.addFrame = function(source, x, y, w, h) {
          var wt = source.worldTransform;
          var a = wt.a;
          var b = wt.b;
          var c = wt.c;
          var d = wt.d;
          var tx = wt.tx;
          var ty = wt.ty;
          var minX = this.minX;
          var minY = this.minY;
          var maxX = this.maxX;
          var maxY = this.maxY;
          var x3 = a * x + c * y + tx;
          var y3 = b * x + d * y + ty;
          minX = x3 < minX ? x3 : minX;
          minY = y3 < minY ? y3 : minY;
          maxX = x3 > maxX ? x3 : maxX;
          maxY = y3 > maxY ? y3 : maxY;
          x3 = a * w + c * y + tx;
          y3 = b * w + d * y + ty;
          minX = x3 < minX ? x3 : minX;
          minY = y3 < minY ? y3 : minY;
          maxX = x3 > maxX ? x3 : maxX;
          maxY = y3 > maxY ? y3 : maxY;
          x3 = a * x + c * h + tx;
          y3 = b * x + d * h + ty;
          minX = x3 < minX ? x3 : minX;
          minY = y3 < minY ? y3 : minY;
          maxX = x3 > maxX ? x3 : maxX;
          maxY = y3 > maxY ? y3 : maxY;
          x3 = a * w + c * h + tx;
          y3 = b * w + d * h + ty;
          minX = x3 < minX ? x3 : minX;
          minY = y3 < minY ? y3 : minY;
          maxX = x3 > maxX ? x3 : maxX;
          maxY = y3 > maxY ? y3 : maxY;
          this.minX = minX;
          this.minY = minY;
          this.maxX = maxX;
          this.maxY = maxY;
        }, render.prototype.addVertices = function(g, name, model, sum) {
          var transform = g.worldTransform;
          var a = transform.a;
          var b = transform.b;
          var c = transform.c;
          var d = transform.d;
          var tx = transform.tx;
          var ty = transform.ty;
          var minX = this.minX;
          var minY = this.minY;
          var maxX = this.maxX;
          var maxY = this.maxY;
          var i = model;
          for (; i < sum; i = i + 2) {
            var w1 = name[i];
            var h0 = name[i + 1];
            var x3 = a * w1 + c * h0 + tx;
            var y3 = d * h0 + b * w1 + ty;
            minX = x3 < minX ? x3 : minX;
            minY = y3 < minY ? y3 : minY;
            maxX = x3 > maxX ? x3 : maxX;
            maxY = y3 > maxY ? y3 : maxY;
          }
          this.minX = minX;
          this.minY = minY;
          this.maxX = maxX;
          this.maxY = maxY;
        }, render.prototype.addBounds = function(bounds) {
          var minX = this.minX;
          var minY = this.minY;
          var maxX = this.maxX;
          var maxY = this.maxY;
          this.minX = bounds.minX < minX ? bounds.minX : minX;
          this.minY = bounds.minY < minY ? bounds.minY : minY;
          this.maxX = bounds.maxX > maxX ? bounds.maxX : maxX;
          this.maxY = bounds.maxY > maxY ? bounds.maxY : maxY;
        }, render.prototype.addBoundsMask = function(bounds, mask) {
          var _minX = bounds.minX > mask.minX ? bounds.minX : mask.minX;
          var _minY = bounds.minY > mask.minY ? bounds.minY : mask.minY;
          var _maxX = bounds.maxX < mask.maxX ? bounds.maxX : mask.maxX;
          var _maxY = bounds.maxY < mask.maxY ? bounds.maxY : mask.maxY;
          if (_minX <= _maxX && _minY <= _maxY) {
            var minX = this.minX;
            var minY = this.minY;
            var maxX = this.maxX;
            var maxY = this.maxY;
            this.minX = _minX < minX ? _minX : minX;
            this.minY = _minY < minY ? _minY : minY;
            this.maxX = _maxX > maxX ? _maxX : maxX;
            this.maxY = _maxY > maxY ? _maxY : maxY;
          }
        }, render.prototype.addBoundsArea = function(bounds, area) {
          var _minX = bounds.minX > area.x ? bounds.minX : area.x;
          var _minY = bounds.minY > area.y ? bounds.minY : area.y;
          var _maxX = bounds.maxX < area.x + area.width ? bounds.maxX : area.x + area.width;
          var _maxY = bounds.maxY < area.y + area.height ? bounds.maxY : area.y + area.height;
          if (_minX <= _maxX && _minY <= _maxY) {
            var minX = this.minX;
            var minY = this.minY;
            var maxX = this.maxX;
            var maxY = this.maxY;
            this.minX = _minX < minX ? _minX : minX;
            this.minY = _minY < minY ? _minY : minY;
            this.maxX = _maxX > maxX ? _maxX : maxX;
            this.maxY = _maxY > maxY ? _maxY : maxY;
          }
        }, render;
      }();
      exports.default = SuggestList;
    }, {
      "../math" : 70
    }],
    48 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var makeSuite = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var component = __webpack_require__("../utils");
      var _deepAssign = __webpack_require__("./DisplayObject");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var Container = function(t) {
        function Container() {
          _classCallCheck(this, Container);
          var _this = _possibleConstructorReturn(this, t.call(this));
          return _this.children = [], _this;
        }
        return _inherits(Container, t), Container.prototype.onChildrenChange = function() {
        }, Container.prototype.addChild = function(obj) {
          var argl = arguments.length;
          if (argl > 1) {
            var i = 0;
            for (; i < argl; i++) {
              this.addChild(arguments[i]);
            }
          } else {
            if (obj.parent) {
              obj.parent.removeChild(obj);
            }
            obj.parent = this;
            obj.transform._parentID = -1;
            this.children.push(obj);
            this._boundsID++;
            this.onChildrenChange(this.children.length - 1);
            obj.emit("added", this);
          }
          return obj;
        }, Container.prototype.addChildAt = function(child, index) {
          if (index < 0 || index > this.children.length) {
            throw new Error(child + "addChildAt: The index " + index + " supplied is out of bounds " + this.children.length);
          }
          return child.parent && child.parent.removeChild(child), child.parent = this, child.transform._parentID = -1, this.children.splice(index, 0, child), this._boundsID++, this.onChildrenChange(index), child.emit("added", this), child;
        }, Container.prototype.swapChildren = function(child1, child2) {
          if (child1 !== child2) {
            var index1 = this.getChildIndex(child1);
            var index2 = this.getChildIndex(child2);
            this.children[index1] = child2;
            this.children[index2] = child1;
            this.onChildrenChange(index1 < index2 ? index1 : index2);
          }
        }, Container.prototype.getChildIndex = function(child) {
          var index = this.children.indexOf(child);
          if (-1 === index) {
            throw new Error("The supplied DisplayObject must be a child of the caller");
          }
          return index;
        }, Container.prototype.setChildIndex = function(child, index) {
          if (index < 0 || index >= this.children.length) {
            throw new Error("The index " + index + " supplied is out of bounds " + this.children.length);
          }
          var childIndex = this.getChildIndex(child);
          (0, component.removeItems)(this.children, childIndex, 1);
          this.children.splice(index, 0, child);
          this.onChildrenChange(index);
        }, Container.prototype.getChildAt = function(index) {
          if (index < 0 || index >= this.children.length) {
            throw new Error("getChildAt: Index (" + index + ") does not exist.");
          }
          return this.children[index];
        }, Container.prototype.removeChild = function(el) {
          var argl = arguments.length;
          if (argl > 1) {
            var i = 0;
            for (; i < argl; i++) {
              this.removeChild(arguments[i]);
            }
          } else {
            var index = this.children.indexOf(el);
            if (-1 === index) {
              return null;
            }
            el.parent = null;
            el.transform._parentID = -1;
            (0, component.removeItems)(this.children, index, 1);
            this._boundsID++;
            this.onChildrenChange(index);
            el.emit("removed", this);
          }
          return el;
        }, Container.prototype.removeChildAt = function(index) {
          var child = this.getChildAt(index);
          return child.parent = null, child.transform._parentID = -1, (0, component.removeItems)(this.children, index, 1), this._boundsID++, this.onChildrenChange(index), child.emit("removed", this), child;
        }, Container.prototype.removeChildren = function() {
          var newParentItem = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var length = arguments[1];
          var begin = newParentItem;
          var end = "number" == typeof length ? length : this.children.length;
          var range = end - begin;
          var removed = void 0;
          if (range > 0 && range <= end) {
            removed = this.children.splice(begin, range);
            var j = 0;
            for (; j < removed.length; ++j) {
              removed[j].parent = null;
              if (removed[j].transform) {
                removed[j].transform._parentID = -1;
              }
            }
            this._boundsID++;
            this.onChildrenChange(newParentItem);
            var i = 0;
            for (; i < removed.length; ++i) {
              removed[i].emit("removed", this);
            }
            return removed;
          }
          if (0 === range && 0 === this.children.length) {
            return [];
          }
          throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
        }, Container.prototype.updateTransform = function() {
          this._boundsID++;
          this.transform.updateTransform(this.parent.transform);
          this.worldAlpha = this.alpha * this.parent.worldAlpha;
          var i = 0;
          var l = this.children.length;
          for (; i < l; ++i) {
            var tile = this.children[i];
            if (tile.visible) {
              tile.updateTransform();
            }
          }
        }, Container.prototype.calculateBounds = function() {
          this._bounds.clear();
          this._calculateBounds();
          var i = 0;
          for (; i < this.children.length; i++) {
            var child = this.children[i];
            if (child.visible && child.renderable) {
              child.calculateBounds();
              if (child._mask) {
                child._mask.calculateBounds();
                this._bounds.addBoundsMask(child._bounds, child._mask._bounds);
              } else {
                if (child.filterArea) {
                  this._bounds.addBoundsArea(child._bounds, child.filterArea);
                } else {
                  this._bounds.addBounds(child._bounds);
                }
              }
            }
          }
          this._lastBoundsID = this._boundsID;
        }, Container.prototype._calculateBounds = function() {
        }, Container.prototype.renderWebGL = function(renderer) {
          if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
            if (this._mask || this._filters) {
              this.renderAdvancedWebGL(renderer);
            } else {
              this._renderWebGL(renderer);
              var i = 0;
              var l = this.children.length;
              for (; i < l; ++i) {
                this.children[i].renderWebGL(renderer);
              }
            }
          }
        }, Container.prototype.renderAdvancedWebGL = function(renderer) {
          renderer.flush();
          var filters = this._filters;
          var mask = this._mask;
          if (filters) {
            if (!this._enabledFilters) {
              this._enabledFilters = [];
            }
            this._enabledFilters.length = 0;
            var i = 0;
            for (; i < filters.length; i++) {
              if (filters[i].enabled) {
                this._enabledFilters.push(filters[i]);
              }
            }
            if (this._enabledFilters.length) {
              renderer.filterManager.pushFilter(this, this._enabledFilters);
            }
          }
          if (mask) {
            renderer.maskManager.pushMask(this, this._mask);
          }
          this._renderWebGL(renderer);
          var i = 0;
          var l = this.children.length;
          for (; i < l; i++) {
            this.children[i].renderWebGL(renderer);
          }
          renderer.flush();
          if (mask) {
            renderer.maskManager.popMask(this, this._mask);
          }
          if (filters && this._enabledFilters && this._enabledFilters.length) {
            renderer.filterManager.popFilter();
          }
        }, Container.prototype._renderWebGL = function(renderer) {
        }, Container.prototype._renderCanvas = function(renderer) {
        }, Container.prototype.renderCanvas = function(renderer) {
          if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
            if (this._mask) {
              renderer.maskManager.pushMask(this._mask);
            }
            this._renderCanvas(renderer);
            var i = 0;
            var l = this.children.length;
            for (; i < l; ++i) {
              this.children[i].renderCanvas(renderer);
            }
            if (this._mask) {
              renderer.maskManager.popMask(renderer);
            }
          }
        }, Container.prototype.destroy = function(data) {
          t.prototype.destroy.call(this);
          var cap_name = "boolean" == typeof data ? data : data && data.children;
          var monitors = this.removeChildren(0, this.children.length);
          if (cap_name) {
            var i = 0;
            for (; i < monitors.length; ++i) {
              monitors[i].destroy(data);
            }
          }
        }, makeSuite(Container, [{
          key : "width",
          get : function() {
            return this.scale.x * this.getLocalBounds().width;
          },
          set : function(value) {
            var screenWidth = this.getLocalBounds().width;
            this.scale.x = 0 !== screenWidth ? value / screenWidth : 1;
            this._width = value;
          }
        }, {
          key : "height",
          get : function() {
            return this.scale.y * this.getLocalBounds().height;
          },
          set : function(value) {
            var screenHeight = this.getLocalBounds().height;
            this.scale.y = 0 !== screenHeight ? value / screenHeight : 1;
            this._height = value;
          }
        }]), Container;
      }(_deepAssign2.default);
      exports.default = Container;
      Container.prototype.containerUpdateTransform = Container.prototype.updateTransform;
    }, {
      "../utils" : 125,
      "./DisplayObject" : 49
    }],
    49 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function get(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _eventemitter3 = __webpack_require__("eventemitter3");
      var _eventemitter32 = _interopRequireDefault(_eventemitter3);
      var p2 = __webpack_require__("../const");
      var _prepareStyleProperties = __webpack_require__("../settings");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("./TransformStatic");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("./Transform");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _classlist = __webpack_require__("./Bounds");
      var _classlist2 = _interopRequireDefault(_classlist);
      var Chart = __webpack_require__("../math");
      var DisplayObject = function(_Namespace) {
        function DisplayObject() {
          _classCallCheck(this, DisplayObject);
          var container = get(this, _Namespace.call(this));
          var Transform = _prepareStyleProperties2.default.TRANSFORM_MODE === p2.TRANSFORM_MODE.STATIC ? _normalizeDataUri2.default : _UiIcon2.default;
          return container.tempDisplayObjectParent = null, container.transform = new Transform, container.alpha = 1, container.visible = true, container.renderable = true, container.parent = null, container.worldAlpha = 1, container.filterArea = null, container._filters = null, container._enabledFilters = null, container._bounds = new _classlist2.default, container._boundsID = 0, container._lastBoundsID = -1, container._boundsRect = null, container._localBoundsRect = null, container._mask = null, 
          container._destroyed = false, container;
        }
        return _inherits(DisplayObject, _Namespace), DisplayObject.prototype.updateTransform = function() {
          this.transform.updateTransform(this.parent.transform);
          this.worldAlpha = this.alpha * this.parent.worldAlpha;
          this._bounds.updateID++;
        }, DisplayObject.prototype._recursivePostUpdateTransform = function() {
          if (this.parent) {
            this.parent._recursivePostUpdateTransform();
            this.transform.updateTransform(this.parent.transform);
          } else {
            this.transform.updateTransform(this._tempDisplayObjectParent.transform);
          }
        }, DisplayObject.prototype.getBounds = function(skipUpdate, rect) {
          return skipUpdate || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._boundsID !== this._lastBoundsID && this.calculateBounds(), rect || (this._boundsRect || (this._boundsRect = new Chart.Rectangle), rect = this._boundsRect), this._bounds.getRectangle(rect);
        }, DisplayObject.prototype.getLocalBounds = function(rect) {
          var transform = this.transform;
          var parent = this.parent;
          this.parent = null;
          this.transform = this._tempDisplayObjectParent.transform;
          if (!rect) {
            if (!this._localBoundsRect) {
              this._localBoundsRect = new Chart.Rectangle;
            }
            rect = this._localBoundsRect;
          }
          var bounds = this.getBounds(false, rect);
          return this.parent = parent, this.transform = transform, bounds;
        }, DisplayObject.prototype.toGlobal = function(position, point) {
          return arguments.length > 2 && void 0 !== arguments[2] && arguments[2] || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(position, point);
        }, DisplayObject.prototype.toLocal = function(position, from, point, skipUpdate) {
          return from && (position = from.toGlobal(position, point, skipUpdate)), skipUpdate || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(position, point);
        }, DisplayObject.prototype.renderWebGL = function(renderer) {
        }, DisplayObject.prototype.renderCanvas = function(renderer) {
        }, DisplayObject.prototype.setParent = function(elem) {
          if (!elem || !elem.addChild) {
            throw new Error("setParent: Argument must be a Container");
          }
          return elem.addChild(this), elem;
        }, DisplayObject.prototype.setTransform = function() {
          var min_x = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var min_y = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          var pivotX = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
          var pivotY = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
          var rotation = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0;
          var skewX = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
          var skewY = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0;
          var x = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0;
          var y = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0;
          return this.position.x = min_x, this.position.y = min_y, this.scale.x = pivotX || 1, this.scale.y = pivotY || 1, this.rotation = rotation, this.skew.x = skewX, this.skew.y = skewY, this.pivot.x = x, this.pivot.y = y, this;
        }, DisplayObject.prototype.destroy = function() {
          this.removeAllListeners();
          if (this.parent) {
            this.parent.removeChild(this);
          }
          this.transform = null;
          this.parent = null;
          this._bounds = null;
          this._currentBounds = null;
          this._mask = null;
          this.filterArea = null;
          this.interactive = false;
          this.interactiveChildren = false;
          this._destroyed = true;
        }, _createClass(DisplayObject, [{
          key : "_tempDisplayObjectParent",
          get : function() {
            return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new DisplayObject), this.tempDisplayObjectParent;
          }
        }, {
          key : "x",
          get : function() {
            return this.position.x;
          },
          set : function(name) {
            this.transform.position.x = name;
          }
        }, {
          key : "y",
          get : function() {
            return this.position.y;
          },
          set : function(name) {
            this.transform.position.y = name;
          }
        }, {
          key : "worldTransform",
          get : function() {
            return this.transform.worldTransform;
          }
        }, {
          key : "localTransform",
          get : function() {
            return this.transform.localTransform;
          }
        }, {
          key : "position",
          get : function() {
            return this.transform.position;
          },
          set : function(target) {
            this.transform.position.copy(target);
          }
        }, {
          key : "scale",
          get : function() {
            return this.transform.scale;
          },
          set : function(target) {
            this.transform.scale.copy(target);
          }
        }, {
          key : "pivot",
          get : function() {
            return this.transform.pivot;
          },
          set : function(target) {
            this.transform.pivot.copy(target);
          }
        }, {
          key : "skew",
          get : function() {
            return this.transform.skew;
          },
          set : function(target) {
            this.transform.skew.copy(target);
          }
        }, {
          key : "rotation",
          get : function() {
            return this.transform.rotation;
          },
          set : function(value) {
            this.transform.rotation = value;
          }
        }, {
          key : "worldVisible",
          get : function() {
            var s = this;
            do {
              if (!s.visible) {
                return false;
              }
              s = s.parent;
            } while (s);
            return true;
          }
        }, {
          key : "mask",
          get : function() {
            return this._mask;
          },
          set : function(value) {
            if (this._mask) {
              this._mask.renderable = true;
              this._mask.isMask = false;
            }
            this._mask = value;
            if (this._mask) {
              this._mask.renderable = false;
              this._mask.isMask = true;
            }
          }
        }, {
          key : "filters",
          get : function() {
            return this._filters && this._filters.slice();
          },
          set : function(value) {
            this._filters = value && value.slice();
          }
        }]), DisplayObject;
      }(_eventemitter32.default);
      exports.default = DisplayObject;
      DisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform;
    }, {
      "../const" : 46,
      "../math" : 70,
      "../settings" : 101,
      "./Bounds" : 47,
      "./Transform" : 50,
      "./TransformStatic" : 52,
      eventemitter3 : 3
    }],
    50 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var core = __webpack_require__("../math");
      var _deepAssign = __webpack_require__("./TransformBase");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SuggestList = function(_Namespace) {
        function DisplayObject() {
          _classCallCheck(this, DisplayObject);
          var self = _possibleConstructorReturn(this, _Namespace.call(this));
          return self.position = new core.Point(0, 0), self.scale = new core.Point(1, 1), self.skew = new core.ObservablePoint(self.updateSkew, self, 0, 0), self.pivot = new core.Point(0, 0), self._rotation = 0, self._cx = 1, self._sx = 0, self._cy = 0, self._sy = 1, self;
        }
        return _inherits(DisplayObject, _Namespace), DisplayObject.prototype.updateSkew = function() {
          this._cx = Math.cos(this._rotation + this.skew._y);
          this._sx = Math.sin(this._rotation + this.skew._y);
          this._cy = -Math.sin(this._rotation - this.skew._x);
          this._sy = Math.cos(this._rotation - this.skew._x);
        }, DisplayObject.prototype.updateLocalTransform = function() {
          var lt = this.localTransform;
          lt.a = this._cx * this.scale.x;
          lt.b = this._sx * this.scale.x;
          lt.c = this._cy * this.scale.y;
          lt.d = this._sy * this.scale.y;
          lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
          lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
        }, DisplayObject.prototype.updateTransform = function(parent) {
          var lt = this.localTransform;
          lt.a = this._cx * this.scale.x;
          lt.b = this._sx * this.scale.x;
          lt.c = this._cy * this.scale.y;
          lt.d = this._sy * this.scale.y;
          lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
          lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
          var pt = parent.worldTransform;
          var wt = this.worldTransform;
          wt.a = lt.a * pt.a + lt.b * pt.c;
          wt.b = lt.a * pt.b + lt.b * pt.d;
          wt.c = lt.c * pt.a + lt.d * pt.c;
          wt.d = lt.c * pt.b + lt.d * pt.d;
          wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
          wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
          this._worldID++;
        }, DisplayObject.prototype.setFromMatrix = function(matrix) {
          matrix.decompose(this);
        }, _createClass(DisplayObject, [{
          key : "rotation",
          get : function() {
            return this._rotation;
          },
          set : function(value) {
            this._rotation = value;
            this.updateSkew();
          }
        }]), DisplayObject;
      }(_deepAssign2.default);
      exports.default = SuggestList;
    }, {
      "../math" : 70,
      "./TransformBase" : 51
    }],
    51 : [function(declare, canCreateDiscussions, exports) {
      function mixin(service, name) {
        if (!(service instanceof name)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var M = declare("../math");
      var TransformBase = function() {
        function DisplayObject() {
          mixin(this, DisplayObject);
          this.worldTransform = new M.Matrix;
          this.localTransform = new M.Matrix;
          this._worldID = 0;
          this._parentID = 0;
        }
        return DisplayObject.prototype.updateLocalTransform = function() {
        }, DisplayObject.prototype.updateTransform = function(parent) {
          var pt = parent.worldTransform;
          var wt = this.worldTransform;
          var _tempMatrix = this.localTransform;
          wt.a = _tempMatrix.a * pt.a + _tempMatrix.b * pt.c;
          wt.b = _tempMatrix.a * pt.b + _tempMatrix.b * pt.d;
          wt.c = _tempMatrix.c * pt.a + _tempMatrix.d * pt.c;
          wt.d = _tempMatrix.c * pt.b + _tempMatrix.d * pt.d;
          wt.tx = _tempMatrix.tx * pt.a + _tempMatrix.ty * pt.c + pt.tx;
          wt.ty = _tempMatrix.tx * pt.b + _tempMatrix.ty * pt.d + pt.ty;
          this._worldID++;
        }, DisplayObject;
      }();
      exports.default = TransformBase;
      TransformBase.prototype.updateWorldTransform = TransformBase.prototype.updateTransform;
      TransformBase.IDENTITY = new TransformBase;
    }, {
      "../math" : 70
    }],
    52 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var App = __webpack_require__("../math");
      var _deepAssign = __webpack_require__("./TransformBase");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SuggestList = function(_Namespace) {
        function DisplayObject() {
          _classCallCheck(this, DisplayObject);
          var self = _possibleConstructorReturn(this, _Namespace.call(this));
          return self.position = new App.ObservablePoint(self.onChange, self, 0, 0), self.scale = new App.ObservablePoint(self.onChange, self, 1, 1), self.pivot = new App.ObservablePoint(self.onChange, self, 0, 0), self.skew = new App.ObservablePoint(self.updateSkew, self, 0, 0), self._rotation = 0, self._cx = 1, self._sx = 0, self._cy = 0, self._sy = 1, self._localID = 0, self._currentLocalID = 0, self;
        }
        return _inherits(DisplayObject, _Namespace), DisplayObject.prototype.onChange = function() {
          this._localID++;
        }, DisplayObject.prototype.updateSkew = function() {
          this._cx = Math.cos(this._rotation + this.skew._y);
          this._sx = Math.sin(this._rotation + this.skew._y);
          this._cy = -Math.sin(this._rotation - this.skew._x);
          this._sy = Math.cos(this._rotation - this.skew._x);
          this._localID++;
        }, DisplayObject.prototype.updateLocalTransform = function() {
          var lt = this.localTransform;
          if (this._localID !== this._currentLocalID) {
            lt.a = this._cx * this.scale._x;
            lt.b = this._sx * this.scale._x;
            lt.c = this._cy * this.scale._y;
            lt.d = this._sy * this.scale._y;
            lt.tx = this.position._x - (this.pivot._x * lt.a + this.pivot._y * lt.c);
            lt.ty = this.position._y - (this.pivot._x * lt.b + this.pivot._y * lt.d);
            this._currentLocalID = this._localID;
            this._parentID = -1;
          }
        }, DisplayObject.prototype.updateTransform = function(parentTransform) {
          var lt = this.localTransform;
          if (this._localID !== this._currentLocalID && (lt.a = this._cx * this.scale._x, lt.b = this._sx * this.scale._x, lt.c = this._cy * this.scale._y, lt.d = this._sy * this.scale._y, lt.tx = this.position._x - (this.pivot._x * lt.a + this.pivot._y * lt.c), lt.ty = this.position._y - (this.pivot._x * lt.b + this.pivot._y * lt.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== parentTransform._worldID) {
            var pt = parentTransform.worldTransform;
            var wt = this.worldTransform;
            wt.a = lt.a * pt.a + lt.b * pt.c;
            wt.b = lt.a * pt.b + lt.b * pt.d;
            wt.c = lt.c * pt.a + lt.d * pt.c;
            wt.d = lt.c * pt.b + lt.d * pt.d;
            wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
            wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
            this._parentID = parentTransform._worldID;
            this._worldID++;
          }
        }, DisplayObject.prototype.setFromMatrix = function(matrix) {
          matrix.decompose(this);
          this._localID++;
        }, _createClass(DisplayObject, [{
          key : "rotation",
          get : function() {
            return this._rotation;
          },
          set : function(value) {
            if (this._rotation !== value) {
              this._rotation = value;
              this.updateSkew();
            }
          }
        }]), DisplayObject;
      }(_deepAssign2.default);
      exports.default = SuggestList;
    }, {
      "../math" : 70,
      "./TransformBase" : 51
    }],
    53 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _normalizeDataUri = __webpack_require__("../display/Container");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("../textures/RenderTexture");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _prepareStyleProperties = __webpack_require__("../textures/Texture");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _deepAssign = __webpack_require__("./GraphicsData");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _classlist = __webpack_require__("../sprites/Sprite");
      var _classlist2 = _interopRequireDefault(_classlist);
      var math = __webpack_require__("../math");
      var Color = __webpack_require__("../utils");
      var CONST = __webpack_require__("../const");
      var _UiRippleInk = __webpack_require__("../display/Bounds");
      var _UiRippleInk2 = _interopRequireDefault(_UiRippleInk);
      var _AboutPage = __webpack_require__("./utils/bezierCurveTo");
      var _AboutPage2 = _interopRequireDefault(_AboutPage);
      var _AppDownload = __webpack_require__("../renderers/canvas/CanvasRenderer");
      var _AppDownload2 = _interopRequireDefault(_AppDownload);
      var renderer = void 0;
      var m = new math.Matrix;
      var point = new math.Point;
      var v = new Float32Array(4);
      var c = new Float32Array(4);
      var Graphics = function(t) {
        function Graphics() {
          var pluginUid = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          _classCallCheck(this, Graphics);
          var clone = _possibleConstructorReturn(this, t.call(this));
          return clone.fillAlpha = 1, clone.lineWidth = 0, clone.nativeLines = pluginUid, clone.lineColor = 0, clone.lineAlignment = .5, clone.graphicsData = [], clone.tint = 16777215, clone._prevTint = 16777215, clone.blendMode = CONST.BLEND_MODES.NORMAL, clone.currentPath = null, clone._webGL = {}, clone.isMask = false, clone.boundsPadding = 0, clone._localBounds = new _UiRippleInk2.default, clone.dirty = 0, clone.fastRectDirty = -1, clone.clearDirty = 0, clone.boundsDirty = -1, clone.cachedSpriteDirty = 
          false, clone._spriteRect = null, clone._fastRect = false, clone._prevRectTint = null, clone._prevRectFillColor = null, clone;
        }
        return _inherits(Graphics, t), Graphics.prototype.clone = function() {
          var clone = new Graphics;
          clone.renderable = this.renderable;
          clone.fillAlpha = this.fillAlpha;
          clone.lineWidth = this.lineWidth;
          clone.lineColor = this.lineColor;
          clone.lineAlignment = this.lineAlignment;
          clone.tint = this.tint;
          clone.blendMode = this.blendMode;
          clone.isMask = this.isMask;
          clone.boundsPadding = this.boundsPadding;
          clone.dirty = 0;
          clone.cachedSpriteDirty = this.cachedSpriteDirty;
          var i = 0;
          for (; i < this.graphicsData.length; ++i) {
            clone.graphicsData.push(this.graphicsData[i].clone());
          }
          return clone.currentPath = clone.graphicsData[clone.graphicsData.length - 1], clone.updateLocalBounds(), clone;
        }, Graphics.prototype._quadraticCurveLength = function(x, h, w, r, a, t) {
          var v_next_x = x - 2 * w + a;
          var v_next_y = h - 2 * r + t;
          var lightI = 2 * w - 2 * x;
          var lightJ = 2 * r - 2 * h;
          var v0 = 4 * (v_next_x * v_next_x + v_next_y * v_next_y);
          var v1 = 4 * (v_next_x * lightI + v_next_y * lightJ);
          var W2 = lightI * lightI + lightJ * lightJ;
          var sizeBefore = 2 * Math.sqrt(v0 + v1 + W2);
          var m1 = Math.sqrt(v0);
          var temp23 = 2 * v0 * m1;
          var sizeAfter = 2 * Math.sqrt(W2);
          var m2 = v1 / m1;
          return (temp23 * sizeBefore + m1 * v1 * (sizeBefore - sizeAfter) + (4 * W2 * v0 - v1 * v1) * Math.log((2 * m1 + m2 + sizeBefore) / (m2 + sizeAfter))) / (4 * temp23);
        }, Graphics.prototype._bezierCurveLength = function(height, timeout, count, request, e, x, y, c1) {
          var sloc = 0;
          var h = 0;
          var a = 0;
          var b = 0;
          var t = 0;
          var tt = 0;
          var ttt = 0;
          var width = 0;
          var startTime = 0;
          var lightI = 0;
          var lightJ = 0;
          var xOffset = height;
          var time = timeout;
          var rwa = 1;
          for (; rwa <= 10; ++rwa) {
            h = rwa / 10;
            a = h * h;
            b = a * h;
            t = 1 - h;
            tt = t * t;
            ttt = tt * t;
            width = ttt * height + 3 * tt * h * count + 3 * t * a * e + b * y;
            startTime = ttt * timeout + 3 * tt * h * request + 3 * t * a * x + b * c1;
            lightI = xOffset - width;
            lightJ = time - startTime;
            xOffset = width;
            time = startTime;
            sloc = sloc + Math.sqrt(lightI * lightI + lightJ * lightJ);
          }
          return sloc;
        }, Graphics.prototype._segmentsCount = function(length) {
          var r = Math.ceil(length / Graphics.CURVES.maxLength);
          return r < Graphics.CURVES.minSegments ? r = Graphics.CURVES.minSegments : r > Graphics.CURVES.maxSegments && (r = Graphics.CURVES.maxSegments), r;
        }, Graphics.prototype.lineStyle = function() {
          var key = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var value = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          var lineAlpha = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
          var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : .5;
          if (this.lineWidth = key, this.lineColor = value, this.lineAlpha = lineAlpha, this.lineAlignment = n, this.currentPath) {
            if (this.currentPath.shape.points.length) {
              var _this = new math.Polygon(this.currentPath.shape.points.slice(-2));
              _this.closed = false;
              this.drawShape(_this);
            } else {
              this.currentPath.lineWidth = this.lineWidth;
              this.currentPath.lineColor = this.lineColor;
              this.currentPath.lineAlpha = this.lineAlpha;
              this.currentPath.lineAlignment = this.lineAlignment;
            }
          }
          return this;
        }, Graphics.prototype.moveTo = function(x, y) {
          var _this = new math.Polygon([x, y]);
          return _this.closed = false, this.drawShape(_this), this;
        }, Graphics.prototype.lineTo = function(x, y) {
          var l = this.currentPath.shape.points;
          var u = l[l.length - 2];
          var v = l[l.length - 1];
          return u === x && v === y || (l.push(x, y), this.dirty++), this;
        }, Graphics.prototype.quadraticCurveTo = function(x, y, x1, y0) {
          if (this.currentPath) {
            if (0 === this.currentPath.shape.points.length) {
              this.currentPath.shape.points = [0, 0];
            }
          } else {
            this.moveTo(0, 0);
          }
          var data = this.currentPath.shape.points;
          var start = 0;
          var b = 0;
          if (0 === data.length) {
            this.moveTo(0, 0);
          }
          var a = data[data.length - 2];
          var min = data[data.length - 1];
          var totalColumnsWidth = Graphics.CURVES.adaptive ? this._segmentsCount(this._quadraticCurveLength(a, min, x, y, x1, y0)) : 20;
          var totalWidth = 1;
          for (; totalWidth <= totalColumnsWidth; ++totalWidth) {
            var ratio = totalWidth / totalColumnsWidth;
            start = a + (x - a) * ratio;
            b = min + (y - min) * ratio;
            data.push(start + (x + (x1 - x) * ratio - start) * ratio, b + (y + (y0 - y) * ratio - b) * ratio);
          }
          return this.dirty++, this;
        }, Graphics.prototype.bezierCurveTo = function(aX, cp2y, x2, cp1y, x, y) {
          if (this.currentPath) {
            if (0 === this.currentPath.shape.points.length) {
              this.currentPath.shape.points = [0, 0];
            }
          } else {
            this.moveTo(0, 0);
          }
          var pinchEnd = this.currentPath.shape.points;
          var destH = pinchEnd[pinchEnd.length - 2];
          var GET_AUTH_URL_TIMEOUT = pinchEnd[pinchEnd.length - 1];
          pinchEnd.length -= 2;
          var numKeysDeleted = Graphics.CURVES.adaptive ? this._segmentsCount(this._bezierCurveLength(destH, GET_AUTH_URL_TIMEOUT, aX, cp2y, x2, cp1y, x, y)) : 20;
          return (0, _AboutPage2.default)(destH, GET_AUTH_URL_TIMEOUT, aX, cp2y, x2, cp1y, x, y, numKeysDeleted, pinchEnd), this.dirty++, this;
        }, Graphics.prototype.arcTo = function(x1, y1, x2, y2, radius) {
          if (this.currentPath) {
            if (0 === this.currentPath.shape.points.length) {
              this.currentPath.shape.points.push(x1, y1);
            }
          } else {
            this.moveTo(x1, y1);
          }
          var p = this.currentPath.shape.points;
          var l = p[p.length - 2];
          var t = p[p.length - 1];
          var a1 = t - y1;
          var b1 = l - x1;
          var a2 = y2 - y1;
          var b2 = x2 - x1;
          var mm = Math.abs(a1 * b2 - b1 * a2);
          if (mm < 1E-8 || 0 === radius) {
            if (!(p[p.length - 2] === x1 && p[p.length - 1] === y1)) {
              p.push(x1, y1);
            }
          } else {
            var dd = a1 * a1 + b1 * b1;
            var cc = a2 * a2 + b2 * b2;
            var tt = a1 * a2 + b1 * b2;
            var k1 = radius * Math.sqrt(dd) / mm;
            var k2 = radius * Math.sqrt(cc) / mm;
            var j1 = k1 * tt / dd;
            var j2 = k2 * tt / cc;
            var cx = k1 * b2 + k2 * b1;
            var cy = k1 * a2 + k2 * a1;
            var px = b1 * (k2 + j1);
            var py = a1 * (k2 + j1);
            var qx = b2 * (k1 + j2);
            var qy = a2 * (k1 + j2);
            var start = Math.atan2(py - cy, px - cx);
            var end = Math.atan2(qy - cy, qx - cx);
            this.arc(cx + x1, cy + y1, radius, start, end, b1 * a2 > b2 * a1);
          }
          return this.dirty++, this;
        }, Graphics.prototype.arc = function(cx, cy, scale, i, last) {
          var skipping_args = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
          if (i === last) {
            return this;
          }
          if (!skipping_args && last <= i) {
            last = last + CONST.PI_2;
          } else {
            if (skipping_args && i <= last) {
              i = i + CONST.PI_2;
            }
          }
          var w = last - i;
          var t = Graphics.CURVES.adaptive ? this._segmentsCount(Math.abs(w) * scale) : 40 * Math.ceil(Math.abs(w) / CONST.PI_2);
          if (0 === w) {
            return this;
          }
          var x1 = cx + Math.cos(i) * scale;
          var y = cy + Math.sin(i) * scale;
          var points = this.currentPath ? this.currentPath.shape.points : null;
          if (points) {
            var d = Math.abs(points[points.length - 2] - x1);
            var o = Math.abs(points[points.length - 1] - y);
            if (!(d < .001 && o < .001)) {
              points.push(x1, y);
            }
          } else {
            this.moveTo(x1, y);
            points = this.currentPath.shape.points;
          }
          var h = w / (2 * t);
          var stride = 2 * h;
          var temp18 = Math.cos(h);
          var temp23 = Math.sin(h);
          var n = t - 1;
          var step = n % 1 / n;
          var x = 0;
          for (; x <= n; ++x) {
            var s = x + step * x;
            var bearingRad = h + i + stride * s;
            var m6 = Math.cos(bearingRad);
            var m14 = -Math.sin(bearingRad);
            points.push((temp18 * m6 + temp23 * m14) * scale + cx, (temp18 * -m14 + temp23 * m6) * scale + cy);
          }
          return this.dirty++, this;
        }, Graphics.prototype.beginFill = function() {
          var fillColor = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var fillAlpha = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
          return this.filling = true, this.fillColor = fillColor, this.fillAlpha = fillAlpha, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this;
        }, Graphics.prototype.endFill = function() {
          return this.filling = false, this.fillColor = null, this.fillAlpha = 1, this;
        }, Graphics.prototype.drawRect = function(x, y, width, height) {
          return this.drawShape(new math.Rectangle(x, y, width, height)), this;
        }, Graphics.prototype.drawRoundedRect = function(x, y, width, height, radius) {
          return this.drawShape(new math.RoundedRectangle(x, y, width, height, radius)), this;
        }, Graphics.prototype.drawCircle = function(x, y, radius) {
          return this.drawShape(new math.Circle(x, y, radius)), this;
        }, Graphics.prototype.drawEllipse = function(x, y, width, height) {
          return this.drawShape(new math.Ellipse(x, y, width, height)), this;
        }, Graphics.prototype.drawPolygon = function(path) {
          var points = path;
          var closed = true;
          if (points instanceof math.Polygon && (closed = points.closed, points = points.points), !Array.isArray(points)) {
            points = new Array(arguments.length);
            var i = 0;
            for (; i < points.length; ++i) {
              points[i] = arguments[i];
            }
          }
          var shape = new math.Polygon(points);
          return shape.closed = closed, this.drawShape(shape), this;
        }, Graphics.prototype.drawStar = function(r, p, m, y, x) {
          var added = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
          x = x || y / 2;
          var start = -1 * Math.PI / 2 + added;
          var len = 2 * m;
          var step = CONST.PI_2 / len;
          var context = [];
          var j = 0;
          for (; j < len; j++) {
            var a = j % 2 ? x : y;
            var val = j * step + start;
            context.push(r + a * Math.cos(val), p + a * Math.sin(val));
          }
          return this.drawPolygon(context);
        }, Graphics.prototype.clear = function() {
          return (this.lineWidth || this.filling || this.graphicsData.length > 0) && (this.lineWidth = 0, this.lineAlignment = .5, this.filling = false, this.boundsDirty = -1, this.canvasTintDirty = -1, this.dirty++, this.clearDirty++, this.graphicsData.length = 0), this.currentPath = null, this._spriteRect = null, this;
        }, Graphics.prototype.isFastRect = function() {
          return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === CONST.SHAPES.RECT && !this.graphicsData[0].lineWidth;
        }, Graphics.prototype._renderWebGL = function(renderer) {
          if (this.dirty !== this.fastRectDirty) {
            this.fastRectDirty = this.dirty;
            this._fastRect = this.isFastRect();
          }
          if (this._fastRect) {
            this._renderSpriteRect(renderer);
          } else {
            renderer.setObjectRenderer(renderer.plugins.graphics);
            renderer.plugins.graphics.render(this);
          }
        }, Graphics.prototype._renderSpriteRect = function(renderer) {
          var rect = this.graphicsData[0].shape;
          if (!this._spriteRect) {
            this._spriteRect = new _classlist2.default(new _prepareStyleProperties2.default(_prepareStyleProperties2.default.WHITE));
          }
          var sprite = this._spriteRect;
          var value = this.graphicsData[0].fillColor;
          if (16777215 === this.tint) {
            sprite.tint = value;
          } else {
            if (this.tint !== this._prevRectTint || value !== this._prevRectFillColor) {
              var t1 = v;
              var t2 = c;
              (0, Color.hex2rgb)(value, t1);
              (0, Color.hex2rgb)(this.tint, t2);
              t1[0] *= t2[0];
              t1[1] *= t2[1];
              t1[2] *= t2[2];
              sprite.tint = (0, Color.rgb2hex)(t1);
              this._prevRectTint = this.tint;
              this._prevRectFillColor = value;
            }
          }
          sprite.alpha = this.graphicsData[0].fillAlpha;
          sprite.worldAlpha = this.worldAlpha * sprite.alpha;
          sprite.blendMode = this.blendMode;
          sprite._texture._frame.width = rect.width;
          sprite._texture._frame.height = rect.height;
          sprite.transform.worldTransform = this.transform.worldTransform;
          sprite.anchor.set(-rect.x / rect.width, -rect.y / rect.height);
          sprite._onAnchorUpdate();
          sprite._renderWebGL(renderer);
        }, Graphics.prototype._renderCanvas = function(renderer) {
          if (true !== this.isMask) {
            renderer.plugins.graphics.render(this);
          }
        }, Graphics.prototype._calculateBounds = function() {
          if (this.boundsDirty !== this.dirty) {
            this.boundsDirty = this.dirty;
            this.updateLocalBounds();
            this.cachedSpriteDirty = true;
          }
          var lb = this._localBounds;
          this._bounds.addFrame(this.transform, lb.minX, lb.minY, lb.maxX, lb.maxY);
        }, Graphics.prototype.containsPoint = function(type) {
          this.worldTransform.applyInverse(type, point);
          var graphicsData = this.graphicsData;
          var i = 0;
          for (; i < graphicsData.length; ++i) {
            var data = graphicsData[i];
            if (data.fill && (data.shape && data.shape.contains(point.x, point.y))) {
              if (data.holes) {
                var i = 0;
                for (; i < data.holes.length; i++) {
                  var p = data.holes[i];
                  if (p.contains(point.x, point.y)) {
                    return false;
                  }
                }
              }
              return true;
            }
          }
          return false;
        }, Graphics.prototype.updateLocalBounds = function() {
          var minX = 1 / 0;
          var maxX = -1 / 0;
          var minY = 1 / 0;
          var maxY = -1 / 0;
          if (this.graphicsData.length) {
            var shape = 0;
            var x = 0;
            var y = 0;
            var w = 0;
            var h = 0;
            var i = 0;
            for (; i < this.graphicsData.length; i++) {
              var data = this.graphicsData[i];
              var type = data.type;
              var width = data.lineWidth;
              var element = data.lineAlignment;
              var lineWidth = width * element;
              if (shape = data.shape, type === CONST.SHAPES.RECT || type === CONST.SHAPES.RREC) {
                x = shape.x - lineWidth;
                y = shape.y - lineWidth;
                w = shape.width + 2 * lineWidth;
                h = shape.height + 2 * lineWidth;
                minX = x < minX ? x : minX;
                maxX = x + w > maxX ? x + w : maxX;
                minY = y < minY ? y : minY;
                maxY = y + h > maxY ? y + h : maxY;
              } else {
                if (type === CONST.SHAPES.CIRC) {
                  x = shape.x;
                  y = shape.y;
                  w = shape.radius + lineWidth;
                  h = shape.radius + lineWidth;
                  minX = x - w < minX ? x - w : minX;
                  maxX = x + w > maxX ? x + w : maxX;
                  minY = y - h < minY ? y - h : minY;
                  maxY = y + h > maxY ? y + h : maxY;
                } else {
                  if (type === CONST.SHAPES.ELIP) {
                    x = shape.x;
                    y = shape.y;
                    w = shape.width + lineWidth;
                    h = shape.height + lineWidth;
                    minX = x - w < minX ? x - w : minX;
                    maxX = x + w > maxX ? x + w : maxX;
                    minY = y - h < minY ? y - h : minY;
                    maxY = y + h > maxY ? y + h : maxY;
                  } else {
                    var p = shape.points;
                    var l = 0;
                    var t = 0;
                    var lightI = 0;
                    var lightJ = 0;
                    var rw = 0;
                    var rh = 0;
                    var cx = 0;
                    var cy = 0;
                    var i = 0;
                    for (; i + 2 < p.length; i = i + 2) {
                      x = p[i];
                      y = p[i + 1];
                      l = p[i + 2];
                      t = p[i + 3];
                      lightI = Math.abs(l - x);
                      lightJ = Math.abs(t - y);
                      h = 2 * lineWidth;
                      if (!((w = Math.sqrt(lightI * lightI + lightJ * lightJ)) < 1E-9)) {
                        rw = (h / w * lightJ + lightI) / 2;
                        rh = (h / w * lightI + lightJ) / 2;
                        cx = (l + x) / 2;
                        cy = (t + y) / 2;
                        minX = cx - rw < minX ? cx - rw : minX;
                        maxX = cx + rw > maxX ? cx + rw : maxX;
                        minY = cy - rh < minY ? cy - rh : minY;
                        maxY = cy + rh > maxY ? cy + rh : maxY;
                      }
                    }
                  }
                }
              }
            }
          } else {
            minX = 0;
            maxX = 0;
            minY = 0;
            maxY = 0;
          }
          var padding = this.boundsPadding;
          this._localBounds.minX = minX - padding;
          this._localBounds.maxX = maxX + padding;
          this._localBounds.minY = minY - padding;
          this._localBounds.maxY = maxY + padding;
        }, Graphics.prototype.drawShape = function(path) {
          if (this.currentPath && this.currentPath.shape.points.length <= 2) {
            this.graphicsData.pop();
          }
          this.currentPath = null;
          var data = new _deepAssign2.default(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, this.nativeLines, path, this.lineAlignment);
          return this.graphicsData.push(data), data.type === CONST.SHAPES.POLY && (data.shape.closed = data.shape.closed, this.currentPath = data), this.dirty++, data;
        }, Graphics.prototype.generateCanvasTexture = function(scaleMode) {
          var resolution = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
          var bounds = this.getLocalBounds();
          var renderTexture = _UiIcon2.default.create(bounds.width, bounds.height, scaleMode, resolution);
          if (!renderer) {
            renderer = new _AppDownload2.default;
          }
          this.transform.updateLocalTransform();
          this.transform.localTransform.copy(m);
          m.invert();
          m.tx -= bounds.x;
          m.ty -= bounds.y;
          renderer.render(this, renderTexture, true, m);
          var texture = _prepareStyleProperties2.default.fromCanvas(renderTexture.baseTexture._canvasRenderTarget.canvas, scaleMode, "graphics");
          return texture.baseTexture.resolution = resolution, texture.baseTexture.update(), texture;
        }, Graphics.prototype.closePath = function() {
          var currentPath = this.currentPath;
          return currentPath && currentPath.shape && currentPath.shape.close(), this;
        }, Graphics.prototype.addHole = function() {
          var hole = this.graphicsData.pop();
          return this.currentPath = this.graphicsData[this.graphicsData.length - 1], this.currentPath.addHole(hole.shape), this.currentPath = null, this;
        }, Graphics.prototype.destroy = function(err) {
          t.prototype.destroy.call(this, err);
          var i = 0;
          for (; i < this.graphicsData.length; ++i) {
            this.graphicsData[i].destroy();
          }
          var _level_id;
          for (_level_id in this._webGL) {
            var i = 0;
            for (; i < this._webGL[_level_id].data.length; ++i) {
              this._webGL[_level_id].data[i].destroy();
            }
          }
          if (this._spriteRect) {
            this._spriteRect.destroy();
          }
          this.graphicsData = null;
          this.currentPath = null;
          this._webGL = null;
          this._localBounds = null;
        }, Graphics;
      }(_normalizeDataUri2.default);
      exports.default = Graphics;
      Graphics._SPRITE_TEXTURE = null;
      Graphics.CURVES = {
        adaptive : false,
        maxLength : 10,
        minSegments : 8,
        maxSegments : 2048
      };
    }, {
      "../const" : 46,
      "../display/Bounds" : 47,
      "../display/Container" : 48,
      "../math" : 70,
      "../renderers/canvas/CanvasRenderer" : 77,
      "../sprites/Sprite" : 102,
      "../textures/RenderTexture" : 113,
      "../textures/Texture" : 115,
      "../utils" : 125,
      "./GraphicsData" : 54,
      "./utils/bezierCurveTo" : 56
    }],
    54 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function n(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function GraphicsData(lineWidth, lineColor, lineAlpha, fillColor, fillAlpha, fill, nativeLines, shape, optSwingOnlyWhenUnhappy) {
          n(this, GraphicsData);
          this.lineWidth = lineWidth;
          this.lineAlignment = optSwingOnlyWhenUnhappy;
          this.nativeLines = nativeLines;
          this.lineColor = lineColor;
          this.lineAlpha = lineAlpha;
          this._lineTint = lineColor;
          this.fillColor = fillColor;
          this.fillAlpha = fillAlpha;
          this._fillTint = fillColor;
          this.fill = fill;
          this.holes = [];
          this.shape = shape;
          this.type = shape.type;
        }
        return GraphicsData.prototype.clone = function() {
          return new GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.nativeLines, this.shape, this.lineAlignment);
        }, GraphicsData.prototype.addHole = function(shape) {
          this.holes.push(shape);
        }, GraphicsData.prototype.destroy = function() {
          this.shape = null;
          this.holes = null;
        }, GraphicsData;
      }();
      exports.default = SuggestList;
    }, {}],
    55 : [function($, canCreateDiscussions, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var button2 = $("../../renderers/canvas/CanvasRenderer");
      var button = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(button2);
      var CONST = $("../../const");
      var StarRatingComponent = function() {
        function render(renderer) {
          _get(this, render);
          this.renderer = renderer;
        }
        return render.prototype.render = function(sprite) {
          var renderer = this.renderer;
          var ctx = renderer.context;
          var worldAlpha = sprite.worldAlpha;
          var transform = sprite.transform.worldTransform;
          var resolution = renderer.resolution;
          ctx.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
          if (!(sprite.canvasTintDirty === sprite.dirty && sprite._prevTint === sprite.tint)) {
            this.updateGraphicsTint(sprite);
          }
          renderer.setBlendMode(sprite.blendMode);
          var i = 0;
          for (; i < sprite.graphicsData.length; i++) {
            var data = sprite.graphicsData[i];
            var shape = data.shape;
            var b = data._fillTint;
            var lineColor = data._lineTint;
            if (ctx.lineWidth = data.lineWidth, data.type === CONST.SHAPES.POLY) {
              ctx.beginPath();
              var points = shape.points;
              var lines = data.holes;
              var curZoom = void 0;
              var tileW = void 0;
              ctx.moveTo(points[0], points[1]);
              var i = 2;
              for (; i < points.length; i = i + 2) {
                ctx.lineTo(points[i], points[i + 1]);
              }
              if (shape.closed && ctx.closePath(), lines.length > 0) {
                curZoom = 0;
                var offset = 0;
                for (; offset < points.length; offset = offset + 2) {
                  curZoom = curZoom + (points[offset] * points[offset + 3] - points[offset + 1] * points[offset + 2]);
                }
                var i = 0;
                for (; i < lines.length; i++) {
                  points = lines[i].points;
                  tileW = 0;
                  var offset = 0;
                  for (; offset < points.length; offset = offset + 2) {
                    tileW = tileW + (points[offset] * points[offset + 3] - points[offset + 1] * points[offset + 2]);
                  }
                  if (ctx.moveTo(points[0], points[1]), tileW * curZoom < 0) {
                    var i = 2;
                    for (; i < points.length; i = i + 2) {
                      ctx.lineTo(points[i], points[i + 1]);
                    }
                  } else {
                    var i = points.length - 2;
                    for (; i >= 2; i = i - 2) {
                      ctx.lineTo(points[i], points[i + 1]);
                    }
                  }
                  if (lines[i].closed) {
                    ctx.closePath();
                  }
                }
              }
              if (data.fill) {
                ctx.globalAlpha = data.fillAlpha * worldAlpha;
                ctx.fillStyle = "#" + ("00000" + (0 | b).toString(16)).substr(-6);
                ctx.fill();
              }
              if (data.lineWidth) {
                ctx.globalAlpha = data.lineAlpha * worldAlpha;
                ctx.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6);
                ctx.stroke();
              }
            } else {
              if (data.type === CONST.SHAPES.RECT) {
                if (data.fillColor || 0 === data.fillColor) {
                  ctx.globalAlpha = data.fillAlpha * worldAlpha;
                  ctx.fillStyle = "#" + ("00000" + (0 | b).toString(16)).substr(-6);
                  ctx.fillRect(shape.x, shape.y, shape.width, shape.height);
                }
                if (data.lineWidth) {
                  ctx.globalAlpha = data.lineAlpha * worldAlpha;
                  ctx.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6);
                  ctx.strokeRect(shape.x, shape.y, shape.width, shape.height);
                }
              } else {
                if (data.type === CONST.SHAPES.CIRC) {
                  ctx.beginPath();
                  ctx.arc(shape.x, shape.y, shape.radius, 0, 2 * Math.PI);
                  ctx.closePath();
                  if (data.fill) {
                    ctx.globalAlpha = data.fillAlpha * worldAlpha;
                    ctx.fillStyle = "#" + ("00000" + (0 | b).toString(16)).substr(-6);
                    ctx.fill();
                  }
                  if (data.lineWidth) {
                    ctx.globalAlpha = data.lineAlpha * worldAlpha;
                    ctx.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6);
                    ctx.stroke();
                  }
                } else {
                  if (data.type === CONST.SHAPES.ELIP) {
                    var w = 2 * shape.width;
                    var height = 2 * shape.height;
                    var x = shape.x - w / 2;
                    var y = shape.y - height / 2;
                    ctx.beginPath();
                    var hB = w / 2 * .5522848;
                    var ry = height / 2 * .5522848;
                    var x1 = x + w;
                    var eY = y + height;
                    var mX = x + w / 2;
                    var cy = y + height / 2;
                    ctx.moveTo(x, cy);
                    ctx.bezierCurveTo(x, cy - ry, mX - hB, y, mX, y);
                    ctx.bezierCurveTo(mX + hB, y, x1, cy - ry, x1, cy);
                    ctx.bezierCurveTo(x1, cy + ry, mX + hB, eY, mX, eY);
                    ctx.bezierCurveTo(mX - hB, eY, x, cy + ry, x, cy);
                    ctx.closePath();
                    if (data.fill) {
                      ctx.globalAlpha = data.fillAlpha * worldAlpha;
                      ctx.fillStyle = "#" + ("00000" + (0 | b).toString(16)).substr(-6);
                      ctx.fill();
                    }
                    if (data.lineWidth) {
                      ctx.globalAlpha = data.lineAlpha * worldAlpha;
                      ctx.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6);
                      ctx.stroke();
                    }
                  } else {
                    if (data.type === CONST.SHAPES.RREC) {
                      var x = shape.x;
                      var y = shape.y;
                      var width = shape.width;
                      var height = shape.height;
                      var r = shape.radius;
                      var b = Math.min(width, height) / 2 | 0;
                      r = r > b ? b : r;
                      ctx.beginPath();
                      ctx.moveTo(x, y + r);
                      ctx.lineTo(x, y + height - r);
                      ctx.quadraticCurveTo(x, y + height, x + r, y + height);
                      ctx.lineTo(x + width - r, y + height);
                      ctx.quadraticCurveTo(x + width, y + height, x + width, y + height - r);
                      ctx.lineTo(x + width, y + r);
                      ctx.quadraticCurveTo(x + width, y, x + width - r, y);
                      ctx.lineTo(x + r, y);
                      ctx.quadraticCurveTo(x, y, x, y + r);
                      ctx.closePath();
                      if (data.fillColor || 0 === data.fillColor) {
                        ctx.globalAlpha = data.fillAlpha * worldAlpha;
                        ctx.fillStyle = "#" + ("00000" + (0 | b).toString(16)).substr(-6);
                        ctx.fill();
                      }
                      if (data.lineWidth) {
                        ctx.globalAlpha = data.lineAlpha * worldAlpha;
                        ctx.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6);
                        ctx.stroke();
                      }
                    }
                  }
                }
              }
            }
          }
        }, render.prototype.updateGraphicsTint = function(graphics) {
          graphics._prevTint = graphics.tint;
          graphics.canvasTintDirty = graphics.dirty;
          var e = (graphics.tint >> 16 & 255) / 255;
          var r = (graphics.tint >> 8 & 255) / 255;
          var n = (255 & graphics.tint) / 255;
          var i = 0;
          for (; i < graphics.graphicsData.length; ++i) {
            var data = graphics.graphicsData[i];
            var s = 0 | data.fillColor;
            var a = 0 | data.lineColor;
            data._fillTint = ((s >> 16 & 255) / 255 * e * 255 << 16) + ((s >> 8 & 255) / 255 * r * 255 << 8) + (255 & s) / 255 * n * 255;
            data._lineTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * r * 255 << 8) + (255 & a) / 255 * n * 255;
          }
        }, render.prototype.renderPolygon = function(p, points, ctx) {
          ctx.moveTo(p[0], p[1]);
          var from = 1;
          for (; from < p.length / 2; ++from) {
            ctx.lineTo(p[2 * from], p[2 * from + 1]);
          }
          if (points) {
            ctx.closePath();
          }
        }, render.prototype.destroy = function() {
          this.renderer = null;
        }, render;
      }();
      exports.default = StarRatingComponent;
      button.default.registerPlugin("graphics", StarRatingComponent);
    }, {
      "../../const" : 46,
      "../../renderers/canvas/CanvasRenderer" : 77
    }],
    56 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function n(name, a, c, s, k, d, type, dim, count) {
        var p = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : [];
        var y = 0;
        var w = 0;
        var x = 0;
        var width = 0;
        var j = 0;
        p.push(name, a);
        var i = 1;
        var r = 0;
        for (; i <= count; ++i) {
          r = i / count;
          y = 1 - r;
          w = y * y;
          x = w * y;
          width = r * r;
          j = width * r;
          p.push(x * name + 3 * w * r * c + 3 * y * width * k + j * type, x * a + 3 * w * r * s + 3 * y * width * d + j * dim);
        }
        return p;
      }
      exports.__esModule = true;
      exports.default = n;
    }, {}],
    57 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function error(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function get(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var Color = __webpack_require__("../../utils");
      var CONST = __webpack_require__("../../const");
      var _normalizeDataUri = __webpack_require__("../../renderers/webgl/utils/ObjectRenderer");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("../../renderers/webgl/WebGLRenderer");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _prepareStyleProperties = __webpack_require__("./WebGLGraphicsData");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _classlist = __webpack_require__("./shaders/PrimitiveShader");
      var _classlist2 = _interopRequireDefault(_classlist);
      var _deepAssign = __webpack_require__("./utils/buildPoly");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _noframeworkWaypoints = __webpack_require__("./utils/buildRectangle");
      var _noframeworkWaypoints2 = _interopRequireDefault(_noframeworkWaypoints);
      var _UiRippleInk = __webpack_require__("./utils/buildRoundedRectangle");
      var _UiRippleInk2 = _interopRequireDefault(_UiRippleInk);
      var _AboutPage = __webpack_require__("./utils/buildCircle");
      var _AboutPage2 = _interopRequireDefault(_AboutPage);
      var StarRatingComponent = function(_Namespace) {
        function t(params) {
          error(this, t);
          var d = get(this, _Namespace.call(this, params));
          return d.graphicsDataPool = [], d.primitiveShader = null, d.gl = params.gl, d.CONTEXT_UID = 0, d;
        }
        return _inherits(t, _Namespace), t.prototype.onContextChange = function() {
          this.gl = this.renderer.gl;
          this.CONTEXT_UID = this.renderer.CONTEXT_UID;
          this.primitiveShader = new _classlist2.default(this.gl);
        }, t.prototype.destroy = function() {
          _normalizeDataUri2.default.prototype.destroy.call(this);
          var i = 0;
          for (; i < this.graphicsDataPool.length; ++i) {
            this.graphicsDataPool[i].destroy();
          }
          this.graphicsDataPool = null;
        }, t.prototype.render = function(sprite) {
          var renderer = this.renderer;
          var gl = renderer.gl;
          var webGLData = void 0;
          var webGL = sprite._webGL[this.CONTEXT_UID];
          if (!(webGL && sprite.dirty === webGL.dirty)) {
            this.updateGraphics(sprite);
            webGL = sprite._webGL[this.CONTEXT_UID];
          }
          var shader = this.primitiveShader;
          renderer.bindShader(shader);
          renderer.state.setBlendMode(sprite.blendMode);
          var i = 0;
          var patchLen = webGL.data.length;
          for (; i < patchLen; i++) {
            webGLData = webGL.data[i];
            var shader = webGLData.shader;
            renderer.bindShader(shader);
            shader.uniforms.translationMatrix = sprite.transform.worldTransform.toArray(true);
            shader.uniforms.tint = (0, Color.hex2rgb)(sprite.tint);
            shader.uniforms.alpha = sprite.worldAlpha;
            renderer.bindVao(webGLData.vao);
            if (webGLData.nativeLines) {
              gl.drawArrays(gl.LINES, 0, webGLData.points.length / 6);
            } else {
              webGLData.vao.draw(gl.TRIANGLE_STRIP, webGLData.indices.length);
            }
          }
        }, t.prototype.updateGraphics = function(graphics) {
          var gl = this.renderer.gl;
          var webGL = graphics._webGL[this.CONTEXT_UID];
          if (webGL || (webGL = graphics._webGL[this.CONTEXT_UID] = {
            lastIndex : 0,
            data : [],
            gl : gl,
            clearDirty : -1,
            dirty : -1
          }), webGL.dirty = graphics.dirty, graphics.clearDirty !== webGL.clearDirty) {
            webGL.clearDirty = graphics.clearDirty;
            var i = 0;
            for (; i < webGL.data.length; i++) {
              this.graphicsDataPool.push(webGL.data[i]);
            }
            webGL.data.length = 0;
            webGL.lastIndex = 0;
          }
          var webGLData = void 0;
          var webGLDataNativeLines = void 0;
          var i = webGL.lastIndex;
          for (; i < graphics.graphicsData.length; i++) {
            var data = graphics.graphicsData[i];
            webGLData = this.getWebGLData(webGL, 0);
            if (data.nativeLines && data.lineWidth) {
              webGLDataNativeLines = this.getWebGLData(webGL, 0, true);
              webGL.lastIndex++;
            }
            if (data.type === CONST.SHAPES.POLY) {
              (0, _deepAssign2.default)(data, webGLData, webGLDataNativeLines);
            }
            if (data.type === CONST.SHAPES.RECT) {
              (0, _noframeworkWaypoints2.default)(data, webGLData, webGLDataNativeLines);
            } else {
              if (data.type === CONST.SHAPES.CIRC || data.type === CONST.SHAPES.ELIP) {
                (0, _AboutPage2.default)(data, webGLData, webGLDataNativeLines);
              } else {
                if (data.type === CONST.SHAPES.RREC) {
                  (0, _UiRippleInk2.default)(data, webGLData, webGLDataNativeLines);
                }
              }
            }
            webGL.lastIndex++;
          }
          this.renderer.bindVao(null);
          var xvalue = 0;
          for (; xvalue < webGL.data.length; xvalue++) {
            webGLData = webGL.data[xvalue];
            if (webGLData.dirty) {
              webGLData.upload();
            }
          }
        }, t.prototype.getWebGLData = function(webGL, type, object) {
          var data = webGL.data[webGL.data.length - 1];
          return (!data || data.nativeLines !== object || data.points.length > 32E4) && (data = this.graphicsDataPool.pop() || new _prepareStyleProperties2.default(this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState), data.nativeLines = object, data.reset(type), webGL.data.push(data)), data.dirty = true, data;
        }, t;
      }(_normalizeDataUri2.default);
      exports.default = StarRatingComponent;
      _UiIcon2.default.registerPlugin("graphics", StarRatingComponent);
    }, {
      "../../const" : 46,
      "../../renderers/webgl/WebGLRenderer" : 84,
      "../../renderers/webgl/utils/ObjectRenderer" : 94,
      "../../utils" : 125,
      "./WebGLGraphicsData" : 58,
      "./shaders/PrimitiveShader" : 59,
      "./utils/buildCircle" : 60,
      "./utils/buildPoly" : 62,
      "./utils/buildRectangle" : 63,
      "./utils/buildRoundedRectangle" : 64
    }],
    58 : [function(addVertex, canCreateDiscussions, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var i = addVertex("pixi-gl-core");
      var o = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(i);
      var SuggestList = function() {
        function render(gl, shader, attribsState) {
          _get(this, render);
          this.gl = gl;
          this.color = [0, 0, 0];
          this.points = [];
          this.indices = [];
          this.buffer = o.default.GLBuffer.createVertexBuffer(gl);
          this.indexBuffer = o.default.GLBuffer.createIndexBuffer(gl);
          this.dirty = true;
          this.nativeLines = false;
          this.glPoints = null;
          this.glIndices = null;
          this.shader = shader;
          this.vao = (new o.default.VertexArrayObject(gl, attribsState)).addIndex(this.indexBuffer).addAttribute(this.buffer, shader.attributes.aVertexPosition, gl.FLOAT, false, 24, 0).addAttribute(this.buffer, shader.attributes.aColor, gl.FLOAT, false, 24, 8);
        }
        return render.prototype.reset = function() {
          this.points.length = 0;
          this.indices.length = 0;
        }, render.prototype.upload = function() {
          this.glPoints = new Float32Array(this.points);
          this.buffer.upload(this.glPoints);
          this.glIndices = new Uint16Array(this.indices);
          this.indexBuffer.upload(this.glIndices);
          this.dirty = false;
        }, render.prototype.destroy = function() {
          this.color = null;
          this.points = null;
          this.indices = null;
          this.vao.destroy();
          this.buffer.destroy();
          this.indexBuffer.destroy();
          this.gl = null;
          this.buffer = null;
          this.indexBuffer = null;
          this.glPoints = null;
          this.glIndices = null;
        }, render;
      }();
      exports.default = SuggestList;
    }, {
      "pixi-gl-core" : 15
    }],
    59 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function next(expr, val) {
        if (!(expr instanceof val)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function h(text, a) {
        if (!text) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? text : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _deepAssign = __webpack_require__("../../../Shader");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SuggestList = function(t) {
        function n(value) {
          return next(this, n), h(this, t.call(this, value, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["varying vec4 vColor;", "void main(void){", 
          "   gl_FragColor = vColor;", "}"].join("\n")));
        }
        return _inherits(n, t), n;
      }(_deepAssign2.default);
      exports.default = SuggestList;
    }, {
      "../../../Shader" : 44
    }],
    60 : [function(require, canCreateDiscussions, exports) {
      function render(data, options, fn) {
        var o = data.shape;
        var i = o.x;
        var y = o.y;
        var width = void 0;
        var height = void 0;
        if (data.type === CONST.SHAPES.CIRC ? (width = o.radius, height = o.radius) : (width = o.width, height = o.height), 0 !== width && 0 !== height) {
          var dLn = Math.floor(30 * Math.sqrt(o.radius)) || Math.floor(15 * Math.sqrt(o.width + o.height));
          var sita = 2 * Math.PI / dLn;
          if (data.fill) {
            var Aj = (0, Color.hex2rgb)(data.fillColor);
            var alpha = data.fillAlpha;
            var g = Aj[0] * alpha;
            var r = Aj[1] * alpha;
            var anchorX = Aj[2] * alpha;
            var path = options.points;
            var indices = options.indices;
            var vecPos = path.length / 6;
            indices.push(vecPos);
            var PI = 0;
            for (; PI < dLn + 1; PI++) {
              path.push(i, y, g, r, anchorX, alpha);
              path.push(i + Math.sin(sita * PI) * width, y + Math.cos(sita * PI) * height, g, r, anchorX, alpha);
              indices.push(vecPos++, vecPos++);
            }
            indices.push(vecPos - 1);
          }
          if (data.lineWidth) {
            var points = data.points;
            data.points = [];
            var d = 0;
            for (; d < dLn; d++) {
              data.points.push(i + Math.sin(sita * -d) * width, y + Math.cos(sita * -d) * height);
            }
            data.points.push(data.points[0], data.points[1]);
            (0, tmpSchema.default)(data, options, fn);
            data.points = points;
          }
        }
      }
      exports.__esModule = true;
      exports.default = render;
      var schema = require("./buildLine");
      var tmpSchema = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(schema);
      var CONST = require("../../../const");
      var Color = require("../../../utils");
    }, {
      "../../../const" : 46,
      "../../../utils" : 125,
      "./buildLine" : 61
    }],
    61 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function buildLine(graphicsData, webGLData) {
        var points = graphicsData.points;
        if (0 !== points.length) {
          var c = new PIXI.Point(points[0], points[1]);
          var item = new PIXI.Point(points[points.length - 2], points[points.length - 1]);
          if (c.x === item.x && c.y === item.y) {
            points = points.slice();
            points.pop();
            points.pop();
            item = new PIXI.Point(points[points.length - 2], points[points.length - 1]);
            var selected = item.x + .5 * (c.x - item.x);
            var method = item.y + .5 * (c.y - item.y);
            points.unshift(selected, method);
            points.push(selected, method);
          }
          var verts = webGLData.points;
          var indices = webGLData.indices;
          var totalStage = points.length / 2;
          var _len4 = points.length;
          var i = verts.length / 6;
          var scale = graphicsData.lineWidth / 2;
          var Aj = (0, Color.hex2rgb)(graphicsData.lineColor);
          var alpha = graphicsData.lineAlpha;
          var p = Aj[0] * alpha;
          var g = Aj[1] * alpha;
          var b = Aj[2] * alpha;
          var p2x = points[0];
          var p2y = points[1];
          var p1x = points[2];
          var p1y = points[3];
          var before = 0;
          var p0y = 0;
          var dx = -(p2y - p1y);
          var dy = p2x - p1x;
          var dist = 0;
          var delta = 0;
          var x = 0;
          var y = 0;
          var len = Math.sqrt(dx * dx + dy * dy);
          dx = dx / len;
          dy = dy / len;
          dx = dx * scale;
          dy = dy * scale;
          var circleData = graphicsData.lineAlignment;
          var r = 2 * (1 - circleData);
          var t = 2 * circleData;
          verts.push(p2x - dx * r, p2y - dy * r, p, g, b, alpha);
          verts.push(p2x + dx * t, p2y + dy * t, p, g, b, alpha);
          var crntStage = 1;
          for (; crntStage < totalStage - 1; ++crntStage) {
            p2x = points[2 * (crntStage - 1)];
            p2y = points[2 * (crntStage - 1) + 1];
            p1x = points[2 * crntStage];
            p1y = points[2 * crntStage + 1];
            before = points[2 * (crntStage + 1)];
            p0y = points[2 * (crntStage + 1) + 1];
            dx = -(p2y - p1y);
            dy = p2x - p1x;
            len = Math.sqrt(dx * dx + dy * dy);
            dx = dx / len;
            dy = dy / len;
            dx = dx * scale;
            dy = dy * scale;
            dist = -(p1y - p0y);
            delta = p1x - before;
            len = Math.sqrt(dist * dist + delta * delta);
            dist = dist / len;
            delta = delta / len;
            dist = dist * scale;
            delta = delta * scale;
            var uv3u = -dy + p2y - (-dy + p1y);
            var uv3v = -dx + p1x - (-dx + p2x);
            var v3y = (-dx + p2x) * (-dy + p1y) - (-dx + p1x) * (-dy + p2y);
            var uv2u = -delta + p0y - (-delta + p1y);
            var uv2v = -dist + p1x - (-dist + before);
            var v2y = (-dist + before) * (-delta + p1y) - (-dist + p1x) * (-delta + p0y);
            var amount = uv3u * uv2v - uv2u * uv3v;
            if (Math.abs(amount) < .1) {
              amount = amount + 10.1;
              verts.push(p1x - dx * r, p1y - dy * r, p, g, b, alpha);
              verts.push(p1x + dx * t, p1y + dy * t, p, g, b, alpha);
            } else {
              var p2x = (uv3v * v2y - uv2v * v3y) / amount;
              var p2y = (uv2u * v3y - uv3u * v2y) / amount;
              if ((p2x - p1x) * (p2x - p1x) + (p2y - p1y) * (p2y - p1y) > 196 * scale * scale) {
                x = dx - dist;
                y = dy - delta;
                len = Math.sqrt(x * x + y * y);
                x = x / len;
                y = y / len;
                x = x * scale;
                y = y * scale;
                verts.push(p1x - x * r, p1y - y * r);
                verts.push(p, g, b, alpha);
                verts.push(p1x + x * t, p1y + y * t);
                verts.push(p, g, b, alpha);
                verts.push(p1x - x * t * r, p1y - y * r);
                verts.push(p, g, b, alpha);
                _len4++;
              } else {
                verts.push(p1x + (p2x - p1x) * r, p1y + (p2y - p1y) * r);
                verts.push(p, g, b, alpha);
                verts.push(p1x - (p2x - p1x) * t, p1y - (p2y - p1y) * t);
                verts.push(p, g, b, alpha);
              }
            }
          }
          p2x = points[2 * (totalStage - 2)];
          p2y = points[2 * (totalStage - 2) + 1];
          p1x = points[2 * (totalStage - 1)];
          p1y = points[2 * (totalStage - 1) + 1];
          dx = -(p2y - p1y);
          dy = p2x - p1x;
          len = Math.sqrt(dx * dx + dy * dy);
          dx = dx / len;
          dy = dy / len;
          dx = dx * scale;
          dy = dy * scale;
          verts.push(p1x - dx * r, p1y - dy * r);
          verts.push(p, g, b, alpha);
          verts.push(p1x + dx * t, p1y + dy * t);
          verts.push(p, g, b, alpha);
          indices.push(i);
          var _key4 = 0;
          for (; _key4 < _len4; ++_key4) {
            indices.push(i++);
          }
          indices.push(i - 1);
        }
      }
      function buildNativeLine(graphicsData, webGLData) {
        var ps = 0;
        var points = graphicsData.points;
        if (0 !== points.length) {
          var verts = webGLData.points;
          var newPos = points.length / 2;
          var Aj = (0, Color.hex2rgb)(graphicsData.lineColor);
          var alpha = graphicsData.lineAlpha;
          var r = Aj[0] * alpha;
          var g = Aj[1] * alpha;
          var b = Aj[2] * alpha;
          ps = 1;
          for (; ps < newPos; ps++) {
            var p = points[2 * (ps - 1)];
            var y = points[2 * (ps - 1) + 1];
            var x2 = points[2 * ps];
            var py = points[2 * ps + 1];
            verts.push(p, y);
            verts.push(r, g, b, alpha);
            verts.push(x2, py);
            verts.push(r, g, b, alpha);
          }
        }
      }
      exports.__esModule = true;
      exports.default = function(data, str, value) {
        if (data.nativeLines) {
          buildNativeLine(data, value);
        } else {
          buildLine(data, str);
        }
      };
      var PIXI = __webpack_require__("../../../math");
      var Color = __webpack_require__("../../../utils");
    }, {
      "../../../math" : 70,
      "../../../utils" : 125
    }],
    62 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function render(data, options, fn) {
        data.points = data.shape.points.slice();
        var points = data.points;
        if (data.fill && points.length >= 6) {
          var fields = [];
          var holes = data.holes;
          var i = 0;
          for (; i < holes.length; i++) {
            var hole = holes[i];
            fields.push(points.length / 2);
            points = points.concat(hole.points);
          }
          var verts = options.points;
          var indices = options.indices;
          var newPos = points.length / 2;
          var Aj = (0, Color.hex2rgb)(data.fillColor);
          var alpha = data.fillAlpha;
          var r = Aj[0] * alpha;
          var g = Aj[1] * alpha;
          var b = Aj[2] * alpha;
          var path = (0, _prepareStyleProperties2.default)(points, fields, 2);
          if (!path) {
            return;
          }
          var positionsOffset = verts.length / 6;
          var j = 0;
          for (; j < path.length; j = j + 3) {
            indices.push(path[j] + positionsOffset);
            indices.push(path[j] + positionsOffset);
            indices.push(path[j + 1] + positionsOffset);
            indices.push(path[j + 2] + positionsOffset);
            indices.push(path[j + 2] + positionsOffset);
          }
          var ps = 0;
          for (; ps < newPos; ps++) {
            verts.push(points[2 * ps], points[2 * ps + 1], r, g, b, alpha);
          }
        }
        if (data.lineWidth > 0) {
          (0, _normalizeDataUri2.default)(data, options, fn);
        }
      }
      exports.__esModule = true;
      exports.default = render;
      var _normalizeDataUri = __webpack_require__("./buildLine");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var Color = __webpack_require__("../../../utils");
      var _prepareStyleProperties = __webpack_require__("earcut");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
    }, {
      "../../../utils" : 125,
      "./buildLine" : 61,
      earcut : 2
    }],
    63 : [function(require, canCreateDiscussions, exports) {
      function render(item, options, arg) {
        var bounds = item.shape;
        var x = bounds.x;
        var y = bounds.y;
        var width = bounds.width;
        var height = bounds.height;
        if (item.fill) {
          var Aj = (0, Color.hex2rgb)(item.fillColor);
          var alpha = item.fillAlpha;
          var r = Aj[0] * alpha;
          var g = Aj[1] * alpha;
          var radius = Aj[2] * alpha;
          var context = options.points;
          var indices = options.indices;
          var vertPos = context.length / 6;
          context.push(x, y);
          context.push(r, g, radius, alpha);
          context.push(x + width, y);
          context.push(r, g, radius, alpha);
          context.push(x, y + height);
          context.push(r, g, radius, alpha);
          context.push(x + width, y + height);
          context.push(r, g, radius, alpha);
          indices.push(vertPos, vertPos, vertPos + 1, vertPos + 2, vertPos + 3, vertPos + 3);
        }
        if (item.lineWidth) {
          var points = item.points;
          item.points = [x, y, x + width, y, x + width, y + height, x, y + height, x, y];
          (0, tmpSchema.default)(item, options, arg);
          item.points = points;
        }
      }
      exports.__esModule = true;
      exports.default = render;
      var schema = require("./buildLine");
      var tmpSchema = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(schema);
      var Color = require("../../../utils");
    }, {
      "../../../utils" : 125,
      "./buildLine" : 61
    }],
    64 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function render(data, obj, num) {
        var value = data.shape;
        var i = value.x;
        var y = value.y;
        var dx = value.width;
        var l = value.height;
        var j = value.radius;
        var points = [];
        if (points.push(i + j, y), line(i + dx - j, y, i + dx, y, i + dx, y + j, points), line(i + dx, y + l - j, i + dx, y + l, i + dx - j, y + l, points), line(i + j, y + l, i, y + l, i, y + l - j, points), line(i, y + j, i, y, i + j + 1e-10, y, points), data.fill) {
          var Aj = (0, Color.hex2rgb)(data.fillColor);
          var alpha = data.fillAlpha;
          var r = Aj[0] * alpha;
          var dy = Aj[1] * alpha;
          var a = Aj[2] * alpha;
          var ctx = obj.points;
          var index = obj.indices;
          var length = ctx.length / 6;
          var newIndices = (0, _prepareStyleProperties2.default)(points, null, 2);
          var i = 0;
          var newl = newIndices.length;
          for (; i < newl; i = i + 3) {
            index.push(newIndices[i] + length);
            index.push(newIndices[i] + length);
            index.push(newIndices[i + 1] + length);
            index.push(newIndices[i + 2] + length);
            index.push(newIndices[i + 2] + length);
          }
          var j = 0;
          var numPts = points.length;
          for (; j < numPts; j++) {
            ctx.push(points[j], points[++j], r, dy, a, alpha);
          }
        }
        if (data.lineWidth) {
          var nodes = data.points;
          data.points = points;
          (0, _normalizeDataUri2.default)(data, obj, num);
          data.points = nodes;
        }
      }
      function $(s, e, t) {
        return s + (e - s) * t;
      }
      function line(value, id, n, t, p, i) {
        var _this4 = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [];
        var that = _this4;
        var v = 0;
        var m = 0;
        var c = 0;
        var e = 0;
        var d = 0;
        var s = 0;
        var numerator2 = 0;
        var b = 0;
        for (; numerator2 <= 20; ++numerator2) {
          b = numerator2 / 20;
          v = $(value, n, b);
          m = $(id, t, b);
          c = $(n, p, b);
          e = $(t, i, b);
          d = $(v, c, b);
          s = $(m, e, b);
          that.push(d, s);
        }
        return that;
      }
      exports.__esModule = true;
      exports.default = render;
      var _prepareStyleProperties = __webpack_require__("earcut");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("./buildLine");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var Color = __webpack_require__("../../../utils");
    }, {
      "../../../utils" : 125,
      "./buildLine" : 61,
      earcut : 2
    }],
    65 : [function(__webpack_require__, canCreateDiscussions, core) {
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      core.__esModule = true;
      core.autoDetectRenderer = core.Application = core.Filter = core.SpriteMaskFilter = core.Quad = core.RenderTarget = core.ObjectRenderer = core.WebGLManager = core.Shader = core.CanvasRenderTarget = core.TextureUvs = core.VideoBaseTexture = core.BaseRenderTexture = core.RenderTexture = core.BaseTexture = core.TextureMatrix = core.Texture = core.Spritesheet = core.CanvasGraphicsRenderer = core.GraphicsRenderer = core.GraphicsData = core.Graphics = core.TextMetrics = core.TextStyle = core.Text = 
      core.SpriteRenderer = core.CanvasTinter = core.CanvasSpriteRenderer = core.Sprite = core.TransformBase = core.TransformStatic = core.Transform = core.Container = core.DisplayObject = core.Bounds = core.glCore = core.WebGLRenderer = core.CanvasRenderer = core.ticker = core.utils = core.settings = void 0;
      var o = __webpack_require__("./const");
      Object.keys(o).forEach(function(k) {
        if ("default" !== k && "__esModule" !== k) {
          Object.defineProperty(core, k, {
            enumerable : true,
            get : function() {
              return o[k];
            }
          });
        }
      });
      var s = __webpack_require__("./math");
      Object.keys(s).forEach(function(k) {
        if ("default" !== k && "__esModule" !== k) {
          Object.defineProperty(core, k, {
            enumerable : true,
            get : function() {
              return s[k];
            }
          });
        }
      });
      var _Events = __webpack_require__("pixi-gl-core");
      Object.defineProperty(core, "glCore", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Events).default;
        }
      });
      var _middleware = __webpack_require__("./display/Bounds");
      Object.defineProperty(core, "Bounds", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_middleware).default;
        }
      });
      var _Iterator = __webpack_require__("./display/DisplayObject");
      Object.defineProperty(core, "DisplayObject", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Iterator).default;
        }
      });
      var _View = __webpack_require__("./display/Container");
      Object.defineProperty(core, "Container", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_View).default;
        }
      });
      var _createImage = __webpack_require__("./display/Transform");
      Object.defineProperty(core, "Transform", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_createImage).default;
        }
      });
      var _getValue = __webpack_require__("./display/TransformStatic");
      Object.defineProperty(core, "TransformStatic", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_getValue).default;
        }
      });
      var _quaternion = __webpack_require__("./display/TransformBase");
      Object.defineProperty(core, "TransformBase", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_quaternion).default;
        }
      });
      var _plane = __webpack_require__("./sprites/Sprite");
      Object.defineProperty(core, "Sprite", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_plane).default;
        }
      });
      var _CognitoAccessToken = __webpack_require__("./sprites/canvas/CanvasSpriteRenderer");
      Object.defineProperty(core, "CanvasSpriteRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoAccessToken).default;
        }
      });
      var _CognitoIdToken = __webpack_require__("./sprites/canvas/CanvasTinter");
      Object.defineProperty(core, "CanvasTinter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoIdToken).default;
        }
      });
      var _matrix = __webpack_require__("./sprites/webgl/SpriteRenderer");
      Object.defineProperty(core, "SpriteRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_matrix).default;
        }
      });
      var _CognitoRefreshToken = __webpack_require__("./text/Text");
      Object.defineProperty(core, "Text", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoRefreshToken).default;
        }
      });
      var _point = __webpack_require__("./text/TextStyle");
      Object.defineProperty(core, "TextStyle", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_point).default;
        }
      });
      var _CognitoUserSession = __webpack_require__("./text/TextMetrics");
      Object.defineProperty(core, "TextMetrics", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserSession).default;
        }
      });
      var _custom = __webpack_require__("./graphics/Graphics");
      Object.defineProperty(core, "Graphics", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_custom).default;
        }
      });
      var _shadow = __webpack_require__("./graphics/GraphicsData");
      Object.defineProperty(core, "GraphicsData", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_shadow).default;
        }
      });
      var _DateHelper = __webpack_require__("./graphics/webgl/GraphicsRenderer");
      Object.defineProperty(core, "GraphicsRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_DateHelper).default;
        }
      });
      var _CognitoUserAttribute = __webpack_require__("./graphics/canvas/CanvasGraphicsRenderer");
      Object.defineProperty(core, "CanvasGraphicsRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserAttribute).default;
        }
      });
      var _CognitoUser = __webpack_require__("./textures/Spritesheet");
      Object.defineProperty(core, "Spritesheet", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUser).default;
        }
      });
      var _version = __webpack_require__("./textures/Texture");
      Object.defineProperty(core, "Texture", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_version).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./textures/TextureMatrix");
      Object.defineProperty(core, "TextureMatrix", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      var _Calendar = __webpack_require__("./textures/BaseTexture");
      Object.defineProperty(core, "BaseTexture", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var _convertColorSpace = __webpack_require__("./textures/RenderTexture");
      Object.defineProperty(core, "RenderTexture", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_convertColorSpace).default;
        }
      });
      var _Line = __webpack_require__("./textures/BaseRenderTexture");
      Object.defineProperty(core, "BaseRenderTexture", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Line).default;
        }
      });
      var _Filter = __webpack_require__("./textures/VideoBaseTexture");
      Object.defineProperty(core, "VideoBaseTexture", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Filter).default;
        }
      });
      var _AuthenticationDetails = __webpack_require__("./textures/TextureUvs");
      Object.defineProperty(core, "TextureUvs", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _configure = __webpack_require__("./renderers/canvas/utils/CanvasRenderTarget");
      Object.defineProperty(core, "CanvasRenderTarget", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_configure).default;
        }
      });
      var _Ticker = __webpack_require__("./Shader");
      Object.defineProperty(core, "Shader", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Ticker).default;
        }
      });
      var _util = __webpack_require__("./renderers/webgl/managers/WebGLManager");
      Object.defineProperty(core, "WebGLManager", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_util).default;
        }
      });
      var _State = __webpack_require__("./renderers/webgl/utils/ObjectRenderer");
      Object.defineProperty(core, "ObjectRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_State).default;
        }
      });
      var _Mapper = __webpack_require__("./renderers/webgl/utils/RenderTarget");
      Object.defineProperty(core, "RenderTarget", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Mapper).default;
        }
      });
      var suite = __webpack_require__("./renderers/webgl/utils/Quad");
      Object.defineProperty(core, "Quad", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(suite).default;
        }
      });
      var _vector = __webpack_require__("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");
      Object.defineProperty(core, "SpriteMaskFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_vector).default;
        }
      });
      var _Component = __webpack_require__("./renderers/webgl/filters/Filter");
      Object.defineProperty(core, "Filter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Component).default;
        }
      });
      var _rect = __webpack_require__("./Application");
      Object.defineProperty(core, "Application", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_rect).default;
        }
      });
      var PIXI = __webpack_require__("./autoDetectRenderer");
      Object.defineProperty(core, "autoDetectRenderer", {
        enumerable : true,
        get : function() {
          return PIXI.autoDetectRenderer;
        }
      });
      var _AltUtils = __webpack_require__("./utils");
      var utils = _interopRequireWildcard(_AltUtils);
      var _selectorExtra = __webpack_require__("./ticker");
      var selector_extra = _interopRequireWildcard(_selectorExtra);
      var _insertCss = __webpack_require__("./settings");
      var _insertCss2 = _interopRequireDefault(_insertCss);
      var _stringifyRules = __webpack_require__("./renderers/canvas/CanvasRenderer");
      var _stringifyRules2 = _interopRequireDefault(_stringifyRules);
      var _roundedCorners = __webpack_require__("./renderers/webgl/WebGLRenderer");
      var _roundedCorners2 = _interopRequireDefault(_roundedCorners);
      core.settings = _insertCss2.default;
      core.utils = utils;
      core.ticker = selector_extra;
      core.CanvasRenderer = _stringifyRules2.default;
      core.WebGLRenderer = _roundedCorners2.default;
    }, {
      "./Application" : 43,
      "./Shader" : 44,
      "./autoDetectRenderer" : 45,
      "./const" : 46,
      "./display/Bounds" : 47,
      "./display/Container" : 48,
      "./display/DisplayObject" : 49,
      "./display/Transform" : 50,
      "./display/TransformBase" : 51,
      "./display/TransformStatic" : 52,
      "./graphics/Graphics" : 53,
      "./graphics/GraphicsData" : 54,
      "./graphics/canvas/CanvasGraphicsRenderer" : 55,
      "./graphics/webgl/GraphicsRenderer" : 57,
      "./math" : 70,
      "./renderers/canvas/CanvasRenderer" : 77,
      "./renderers/canvas/utils/CanvasRenderTarget" : 79,
      "./renderers/webgl/WebGLRenderer" : 84,
      "./renderers/webgl/filters/Filter" : 86,
      "./renderers/webgl/filters/spriteMask/SpriteMaskFilter" : 89,
      "./renderers/webgl/managers/WebGLManager" : 93,
      "./renderers/webgl/utils/ObjectRenderer" : 94,
      "./renderers/webgl/utils/Quad" : 95,
      "./renderers/webgl/utils/RenderTarget" : 96,
      "./settings" : 101,
      "./sprites/Sprite" : 102,
      "./sprites/canvas/CanvasSpriteRenderer" : 103,
      "./sprites/canvas/CanvasTinter" : 104,
      "./sprites/webgl/SpriteRenderer" : 106,
      "./text/Text" : 108,
      "./text/TextMetrics" : 109,
      "./text/TextStyle" : 110,
      "./textures/BaseRenderTexture" : 111,
      "./textures/BaseTexture" : 112,
      "./textures/RenderTexture" : 113,
      "./textures/Spritesheet" : 114,
      "./textures/Texture" : 115,
      "./textures/TextureMatrix" : 116,
      "./textures/TextureUvs" : 117,
      "./textures/VideoBaseTexture" : 118,
      "./ticker" : 121,
      "./utils" : 125,
      "pixi-gl-core" : 15
    }],
    66 : [function(parseInt, canCreateDiscussions, exports) {
      function $(selector) {
        return selector < 0 ? -1 : selector > 0 ? 1 : 0;
      }
      exports.__esModule = true;
      var permissions = parseInt("./Matrix");
      var p = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(permissions);
      var x = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];
      var b = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];
      var a = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];
      var arr = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];
      var tempMatrices = [];
      var results = [];
      !function() {
        var i = 0;
        for (; i < 16; i++) {
          var service = [];
          results.push(service);
          var j = 0;
          for (; j < 16; j++) {
            var keyValue = $(x[i] * x[j] + a[i] * b[j]);
            var t = $(b[i] * x[j] + arr[i] * b[j]);
            var remove = $(x[i] * a[j] + a[i] * arr[j]);
            var target = $(b[i] * a[j] + arr[i] * arr[j]);
            var key = 0;
            for (; key < 16; key++) {
              if (x[key] === keyValue && b[key] === t && a[key] === remove && arr[key] === target) {
                service.push(key);
                break;
              }
            }
          }
        }
        var key = 0;
        for (; key < 16; key++) {
          var self = new p.default;
          self.set(x[key], b[key], a[key], arr[key], 0, 0);
          tempMatrices.push(self);
        }
      }();
      var GroupD8 = {
        E : 0,
        SE : 1,
        S : 2,
        SW : 3,
        W : 4,
        NW : 5,
        N : 6,
        NE : 7,
        MIRROR_VERTICAL : 8,
        MIRROR_HORIZONTAL : 12,
        uX : function(feature) {
          return x[feature];
        },
        uY : function(paramName) {
          return b[paramName];
        },
        vX : function(howMany) {
          return a[howMany];
        },
        vY : function(ind) {
          return arr[ind];
        },
        inv : function(rotation) {
          return 8 & rotation ? 15 & rotation : 7 & -rotation;
        },
        add : function(type, name) {
          return results[type][name];
        },
        sub : function(num, rotationFirst) {
          return results[num][GroupD8.inv(rotationFirst)];
        },
        rotate180 : function(rotation) {
          return 4 ^ rotation;
        },
        isVertical : function(prop) {
          return 2 == (3 & prop);
        },
        byDirection : function(dx, dy) {
          return 2 * Math.abs(dx) <= Math.abs(dy) ? dy >= 0 ? GroupD8.S : GroupD8.N : 2 * Math.abs(dy) <= Math.abs(dx) ? dx > 0 ? GroupD8.E : GroupD8.W : dy > 0 ? dx > 0 ? GroupD8.SE : GroupD8.SW : dx > 0 ? GroupD8.NE : GroupD8.NW;
        },
        matrixAppendRotationInv : function(matrix, rotation) {
          var tx = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          var ty = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
          var mat = tempMatrices[GroupD8.inv(rotation)];
          mat.tx = tx;
          mat.ty = ty;
          matrix.append(mat);
        }
      };
      exports.default = GroupD8;
    }, {
      "./Matrix" : 67
    }],
    67 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var staticProps = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _deepAssign = __webpack_require__("./Point");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var limitPoint = __webpack_require__("../const");
      var SuggestList = function() {
        function Matrix() {
          var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
          var b = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          var c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          var d = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
          var tx = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0;
          var ty = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
          _classCallCheck(this, Matrix);
          this.a = a;
          this.b = b;
          this.c = c;
          this.d = d;
          this.tx = tx;
          this.ty = ty;
          this.array = null;
        }
        return Matrix.prototype.fromArray = function(array) {
          this.a = array[0];
          this.b = array[1];
          this.c = array[3];
          this.d = array[4];
          this.tx = array[2];
          this.ty = array[5];
        }, Matrix.prototype.set = function(value, arg, c, val, x, y) {
          return this.a = value, this.b = arg, this.c = c, this.d = val, this.tx = x, this.ty = y, this;
        }, Matrix.prototype.toArray = function(indexed, value) {
          if (!this.array) {
            this.array = new Float32Array(9);
          }
          var array = value || this.array;
          return indexed ? (array[0] = this.a, array[1] = this.b, array[2] = 0, array[3] = this.c, array[4] = this.d, array[5] = 0, array[6] = this.tx, array[7] = this.ty, array[8] = 1) : (array[0] = this.a, array[1] = this.c, array[2] = this.tx, array[3] = this.b, array[4] = this.d, array[5] = this.ty, array[6] = 0, array[7] = 0, array[8] = 1), array;
        }, Matrix.prototype.apply = function(value, input) {
          input = input || new _deepAssign2.default;
          var x = value.x;
          var y = value.y;
          return input.x = this.a * x + this.c * y + this.tx, input.y = this.b * x + this.d * y + this.ty, input;
        }, Matrix.prototype.applyInverse = function(pos, vec) {
          vec = vec || new _deepAssign2.default;
          var id = 1 / (this.a * this.d + this.c * -this.b);
          var x = pos.x;
          var y = pos.y;
          return vec.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id, vec.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id, vec;
        }, Matrix.prototype.translate = function(x, y) {
          return this.tx += x, this.ty += y, this;
        }, Matrix.prototype.scale = function(x, y) {
          return this.a *= x, this.d *= y, this.c *= x, this.b *= y, this.tx *= x, this.ty *= y, this;
        }, Matrix.prototype.rotate = function(r) {
          var cos = Math.cos(r);
          var sin = Math.sin(r);
          var a = this.a;
          var c1 = this.c;
          var tx = this.tx;
          return this.a = a * cos - this.b * sin, this.b = a * sin + this.b * cos, this.c = c1 * cos - this.d * sin, this.d = c1 * sin + this.d * cos, this.tx = tx * cos - this.ty * sin, this.ty = tx * sin + this.ty * cos, this;
        }, Matrix.prototype.append = function(matrix) {
          var a1 = this.a;
          var b1 = this.b;
          var c1 = this.c;
          var d1 = this.d;
          return this.a = matrix.a * a1 + matrix.b * c1, this.b = matrix.a * b1 + matrix.b * d1, this.c = matrix.c * a1 + matrix.d * c1, this.d = matrix.c * b1 + matrix.d * d1, this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx, this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty, this;
        }, Matrix.prototype.setTransform = function(data, pos, originX, originY, angle, scale, x, a, b) {
          return this.a = Math.cos(x + b) * angle, this.b = Math.sin(x + b) * angle, this.c = -Math.sin(x - a) * scale, this.d = Math.cos(x - a) * scale, this.tx = data - (originX * this.a + originY * this.c), this.ty = pos - (originX * this.b + originY * this.d), this;
        }, Matrix.prototype.prepend = function(matrix) {
          var tx1 = this.tx;
          if (1 !== matrix.a || 0 !== matrix.b || 0 !== matrix.c || 1 !== matrix.d) {
            var a1 = this.a;
            var c1 = this.c;
            this.a = a1 * matrix.a + this.b * matrix.c;
            this.b = a1 * matrix.b + this.b * matrix.d;
            this.c = c1 * matrix.a + this.d * matrix.c;
            this.d = c1 * matrix.b + this.d * matrix.d;
          }
          return this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx, this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty, this;
        }, Matrix.prototype.decompose = function(transform) {
          var u = this.a;
          var v = this.b;
          var d = this.c;
          var c = this.d;
          var skewX = -Math.atan2(-d, c);
          var skewY = Math.atan2(v, u);
          var tmp2 = Math.abs(skewX + skewY);
          return tmp2 < 1E-5 || Math.abs(limitPoint.PI_2 - tmp2) < 1E-5 ? (transform.rotation = skewY, u < 0 && c >= 0 && (transform.rotation += transform.rotation <= 0 ? Math.PI : -Math.PI), transform.skew.x = transform.skew.y = 0) : (transform.rotation = 0, transform.skew.x = skewX, transform.skew.y = skewY), transform.scale.x = Math.sqrt(u * u + v * v), transform.scale.y = Math.sqrt(d * d + c * c), transform.position.x = this.tx, transform.position.y = this.ty, transform;
        }, Matrix.prototype.invert = function() {
          var a1 = this.a;
          var b1 = this.b;
          var c1 = this.c;
          var d1 = this.d;
          var tx1 = this.tx;
          var n = a1 * d1 - b1 * c1;
          return this.a = d1 / n, this.b = -b1 / n, this.c = -c1 / n, this.d = a1 / n, this.tx = (c1 * this.ty - d1 * tx1) / n, this.ty = -(a1 * this.ty - b1 * tx1) / n, this;
        }, Matrix.prototype.identity = function() {
          return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this;
        }, Matrix.prototype.clone = function() {
          var matrix = new Matrix;
          return matrix.a = this.a, matrix.b = this.b, matrix.c = this.c, matrix.d = this.d, matrix.tx = this.tx, matrix.ty = this.ty, matrix;
        }, Matrix.prototype.copy = function(matrix) {
          return matrix.a = this.a, matrix.b = this.b, matrix.c = this.c, matrix.d = this.d, matrix.tx = this.tx, matrix.ty = this.ty, matrix;
        }, staticProps(Matrix, null, [{
          key : "IDENTITY",
          get : function() {
            return new Matrix;
          }
        }, {
          key : "TEMP_MATRIX",
          get : function() {
            return new Matrix;
          }
        }]), Matrix;
      }();
      exports.default = SuggestList;
    }, {
      "../const" : 46,
      "./Point" : 69
    }],
    68 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function n(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var interpolateBar = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var SuggestList = function() {
        function t(i, scope) {
          var val = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          var yieldIndex = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
          n(this, t);
          this._x = val;
          this._y = yieldIndex;
          this.cb = i;
          this.scope = scope;
        }
        return t.prototype.clone = function() {
          var cb = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
          var scope = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
          return new t(cb || this.cb, scope || this.scope, this._x, this._y);
        }, t.prototype.set = function(id, str) {
          var x = id || 0;
          var y = str || (0 !== str ? x : 0);
          if (!(this._x === x && this._y === y)) {
            this._x = x;
            this._y = y;
            this.cb.call(this.scope);
          }
        }, t.prototype.copy = function(t) {
          if (!(this._x === t.x && this._y === t.y)) {
            this._x = t.x;
            this._y = t.y;
            this.cb.call(this.scope);
          }
        }, t.prototype.equals = function(euler) {
          return euler.x === this._x && euler.y === this._y;
        }, interpolateBar(t, [{
          key : "x",
          get : function() {
            return this._x;
          },
          set : function(value) {
            if (this._x !== value) {
              this._x = value;
              this.cb.call(this.scope);
            }
          }
        }, {
          key : "y",
          get : function() {
            return this._y;
          },
          set : function(value) {
            if (this._y !== value) {
              this._y = value;
              this.cb.call(this.scope);
            }
          }
        }]), t;
      }();
      exports.default = SuggestList;
    }, {}],
    69 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function Point() {
          var x_ = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var y = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          _classCallCheck(this, Point);
          this.x = x_;
          this.y = y;
        }
        return Point.prototype.clone = function() {
          return new Point(this.x, this.y);
        }, Point.prototype.copy = function(value) {
          this.set(value.x, value.y);
        }, Point.prototype.equals = function(p) {
          return p.x === this.x && p.y === this.y;
        }, Point.prototype.set = function(value, param) {
          this.x = value || 0;
          this.y = param || (0 !== param ? this.x : 0);
        }, Point;
      }();
      exports.default = SuggestList;
    }, {}],
    70 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./Point");
      Object.defineProperty(exports, "Point", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./ObservablePoint");
      Object.defineProperty(exports, "ObservablePoint", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      var _Calendar = __webpack_require__("./Matrix");
      Object.defineProperty(exports, "Matrix", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var _Ticker = __webpack_require__("./GroupD8");
      Object.defineProperty(exports, "GroupD8", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Ticker).default;
        }
      });
      var _Mapper = __webpack_require__("./shapes/Circle");
      Object.defineProperty(exports, "Circle", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Mapper).default;
        }
      });
      var _CognitoAccessToken = __webpack_require__("./shapes/Ellipse");
      Object.defineProperty(exports, "Ellipse", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoAccessToken).default;
        }
      });
      var _CognitoIdToken = __webpack_require__("./shapes/Polygon");
      Object.defineProperty(exports, "Polygon", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoIdToken).default;
        }
      });
      var _CognitoRefreshToken = __webpack_require__("./shapes/Rectangle");
      Object.defineProperty(exports, "Rectangle", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoRefreshToken).default;
        }
      });
      var _CognitoUserSession = __webpack_require__("./shapes/RoundedRectangle");
      Object.defineProperty(exports, "RoundedRectangle", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserSession).default;
        }
      });
    }, {
      "./GroupD8" : 66,
      "./Matrix" : 67,
      "./ObservablePoint" : 68,
      "./Point" : 69,
      "./shapes/Circle" : 71,
      "./shapes/Ellipse" : 72,
      "./shapes/Polygon" : 73,
      "./shapes/Rectangle" : 74,
      "./shapes/RoundedRectangle" : 75
    }],
    71 : [function(floor, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var index = floor("./Rectangle");
      var cp = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(index);
      var CONST = floor("../../const");
      var SuggestList = function() {
        function Circle() {
          var x_ = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var y = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          var radius = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          _classCallCheck(this, Circle);
          this.x = x_;
          this.y = y;
          this.radius = radius;
          this.type = CONST.SHAPES.CIRC;
        }
        return Circle.prototype.clone = function() {
          return new Circle(this.x, this.y, this.radius);
        }, Circle.prototype.contains = function(x, y) {
          if (this.radius <= 0) {
            return false;
          }
          var r2 = this.radius * this.radius;
          var dx = this.x - x;
          var dy = this.y - y;
          return dx = dx * dx, dy = dy * dy, dx + dy <= r2;
        }, Circle.prototype.getBounds = function() {
          return new cp.default(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius);
        }, Circle;
      }();
      exports.default = SuggestList;
    }, {
      "../../const" : 46,
      "./Rectangle" : 74
    }],
    72 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function construct(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _utilities = __webpack_require__("./Rectangle");
      var $ = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_utilities);
      var CONST = __webpack_require__("../../const");
      var SuggestList = function() {
        function Ellipse() {
          var x_ = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var y = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          var dim = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          var height = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
          construct(this, Ellipse);
          this.x = x_;
          this.y = y;
          this.width = dim;
          this.height = height;
          this.type = CONST.SHAPES.ELIP;
        }
        return Ellipse.prototype.clone = function() {
          return new Ellipse(this.x, this.y, this.width, this.height);
        }, Ellipse.prototype.contains = function(x, y) {
          if (this.width <= 0 || this.height <= 0) {
            return false;
          }
          var h = (x - this.x) / this.width;
          var s = (y - this.y) / this.height;
          return h = h * h, s = s * s, h + s <= 1;
        }, Ellipse.prototype.getBounds = function() {
          return new $.default(this.x - this.width, this.y - this.height, this.width, this.height);
        }, Ellipse;
      }();
      exports.default = SuggestList;
    }, {
      "../../const" : 46,
      "./Rectangle" : 74
    }],
    73 : [function($, canCreateDiscussions, exports) {
      function n(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var button2 = $("../Point");
      var button = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(button2);
      var CONST = $("../../const");
      var SuggestList = function() {
        function t() {
          var nb = arguments.length;
          var points = Array(nb);
          var i = 0;
          for (; i < nb; i++) {
            points[i] = arguments[i];
          }
          if (n(this, t), Array.isArray(points[0]) && (points = points[0]), points[0] instanceof button.default) {
            var p = [];
            var i = 0;
            var numPts = points.length;
            for (; i < numPts; i++) {
              p.push(points[i].x, points[i].y);
            }
            points = p;
          }
          this.closed = true;
          this.points = points;
          this.type = CONST.SHAPES.POLY;
        }
        return t.prototype.clone = function() {
          return new t(this.points.slice());
        }, t.prototype.close = function() {
          var values = this.points;
          if (!(values[0] === values[values.length - 2] && values[1] === values[values.length - 1])) {
            values.push(values[0], values[1]);
          }
        }, t.prototype.contains = function(event, c) {
          var contains = false;
          var Infinity = this.points.length / 2;
          var max = 0;
          var tagId = Infinity - 1;
          for (; max < Infinity; tagId = max++) {
            var p1 = this.points[2 * max];
            var a = this.points[2 * max + 1];
            var p2 = this.points[2 * tagId];
            var b = this.points[2 * tagId + 1];
            if (a > c != b > c && event < (c - a) / (b - a) * (p2 - p1) + p1) {
              contains = !contains;
            }
          }
          return contains;
        }, t;
      }();
      exports.default = SuggestList;
    }, {
      "../../const" : 46,
      "../Point" : 69
    }],
    74 : [function(saveNotifs, canCreateDiscussions, exports) {
      function createElementNS(tagName, doc) {
        if (!(tagName instanceof doc)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _inherits = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var CONST = saveNotifs("../../const");
      var SuggestList = function() {
        function Rectangle() {
          var x = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var min = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          var width = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          var height = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
          createElementNS(this, Rectangle);
          this.x = Number(x);
          this.y = Number(min);
          this.width = Number(width);
          this.height = Number(height);
          this.type = CONST.SHAPES.RECT;
        }
        return Rectangle.prototype.clone = function() {
          return new Rectangle(this.x, this.y, this.width, this.height);
        }, Rectangle.prototype.copy = function(value) {
          return this.x = value.x, this.y = value.y, this.width = value.width, this.height = value.height, this;
        }, Rectangle.prototype.contains = function(x, y) {
          return !(this.width <= 0 || this.height <= 0) && (x >= this.x && x < this.x + this.width && y >= this.y && y < this.y + this.height);
        }, Rectangle.prototype.pad = function(val, x) {
          val = val || 0;
          x = x || (0 !== x ? val : 0);
          this.x -= val;
          this.y -= x;
          this.width += 2 * val;
          this.height += 2 * x;
        }, Rectangle.prototype.fit = function(bounds) {
          var x = Math.max(this.x, bounds.x);
          var blur = Math.min(this.x + this.width, bounds.x + bounds.width);
          var y = Math.max(this.y, bounds.y);
          var win_height = Math.min(this.y + this.height, bounds.y + bounds.height);
          this.x = x;
          this.width = Math.max(blur - x, 0);
          this.y = y;
          this.height = Math.max(win_height - y, 0);
        }, Rectangle.prototype.enlarge = function(b) {
          var x = Math.min(this.x, b.x);
          var w = Math.max(this.x + this.width, b.x + b.width);
          var y = Math.min(this.y, b.y);
          var value = Math.max(this.y + this.height, b.y + b.height);
          this.x = x;
          this.width = w - x;
          this.y = y;
          this.height = value - y;
        }, Rectangle.prototype.ceil = function() {
          var scale = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
          var buffer = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .001;
          var right = Math.ceil((this.x + this.width - buffer) * scale) / scale;
          var bottom = Math.ceil((this.y + this.height - buffer) * scale) / scale;
          this.x = Math.floor((this.x + buffer) * scale) / scale;
          this.y = Math.floor((this.y + buffer) * scale) / scale;
          this.width = right - this.x;
          this.height = bottom - this.y;
        }, _inherits(Rectangle, [{
          key : "left",
          get : function() {
            return this.x;
          }
        }, {
          key : "right",
          get : function() {
            return this.x + this.width;
          }
        }, {
          key : "top",
          get : function() {
            return this.y;
          }
        }, {
          key : "bottom",
          get : function() {
            return this.y + this.height;
          }
        }], [{
          key : "EMPTY",
          get : function() {
            return new Rectangle(0, 0, 0, 0);
          }
        }]), Rectangle;
      }();
      exports.default = SuggestList;
    }, {
      "../../const" : 46
    }],
    75 : [function(saveNotifs, canCreateDiscussions, exports) {
      function createElementNS(tagName, doc) {
        if (!(tagName instanceof doc)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var CONST = saveNotifs("../../const");
      var SuggestList = function() {
        function Rect() {
          var x_ = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var y = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          var dim = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          var height = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
          var radius = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 20;
          createElementNS(this, Rect);
          this.x = x_;
          this.y = y;
          this.width = dim;
          this.height = height;
          this.radius = radius;
          this.type = CONST.SHAPES.RREC;
        }
        return Rect.prototype.clone = function() {
          return new Rect(this.x, this.y, this.width, this.height, this.radius);
        }, Rect.prototype.contains = function(x, y) {
          if (this.width <= 0 || this.height <= 0) {
            return false;
          }
          if (x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height) {
            if (y >= this.y + this.radius && y <= this.y + this.height - this.radius || x >= this.x + this.radius && x <= this.x + this.width - this.radius) {
              return true;
            }
            var aXbX = x - (this.x + this.radius);
            var aYbY = y - (this.y + this.radius);
            var radius = this.radius * this.radius;
            if (aXbX * aXbX + aYbY * aYbY <= radius) {
              return true;
            }
            if ((aXbX = x - (this.x + this.width - this.radius)) * aXbX + aYbY * aYbY <= radius) {
              return true;
            }
            if (aYbY = y - (this.y + this.height - this.radius), aXbX * aXbX + aYbY * aYbY <= radius) {
              return true;
            }
            if ((aXbX = x - (this.x + this.radius)) * aXbX + aYbY * aYbY <= radius) {
              return true;
            }
          }
          return false;
        }, Rect;
      }();
      exports.default = SuggestList;
    }, {
      "../../const" : 46
    }],
    76 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function createElement(data, component) {
        if (!(data instanceof component)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function validateProperty(name, value) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !value || "object" != typeof value && "function" != typeof value ? name : value;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var gotoNewOfflinePage = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var Utils = __webpack_require__("../utils");
      var PIXI = __webpack_require__("../math");
      var CONST = __webpack_require__("../const");
      var _prepareStyleProperties = __webpack_require__("../settings");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("../display/Container");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("../textures/RenderTexture");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _eventemitter3 = __webpack_require__("eventemitter3");
      var _eventemitter32 = _interopRequireDefault(_eventemitter3);
      var matrix = new PIXI.Matrix;
      var SuggestList = function(_Namespace) {
        function SystemRenderer(system, options, height, a) {
          createElement(this, SystemRenderer);
          var config = validateProperty(this, _Namespace.call(this));
          return (0, Utils.sayHello)(system), "number" == typeof options && (options = Object.assign({
            width : options,
            height : height || _prepareStyleProperties2.default.RENDER_OPTIONS.height
          }, a)), options = Object.assign({}, _prepareStyleProperties2.default.RENDER_OPTIONS, options), config.options = options, config.type = CONST.RENDERER_TYPE.UNKNOWN, config.screen = new PIXI.Rectangle(0, 0, options.width, options.height), config.view = options.view || document.createElement("canvas"), config.resolution = options.resolution || _prepareStyleProperties2.default.RESOLUTION, config.transparent = options.transparent, config.autoResize = options.autoResize || false, config.blendModes = 
          null, config.preserveDrawingBuffer = options.preserveDrawingBuffer, config.clearBeforeRender = options.clearBeforeRender, config.roundPixels = options.roundPixels, config._backgroundColor = 0, config._backgroundColorRgba = [0, 0, 0, 0], config._backgroundColorString = "#000000", config.backgroundColor = options.backgroundColor || config._backgroundColor, config._tempDisplayObjectParent = new _normalizeDataUri2.default, config._lastObjectRendered = config._tempDisplayObjectParent, config;
        }
        return _inherits(SystemRenderer, _Namespace), SystemRenderer.prototype.resize = function(screenWidth, screenHeight) {
          this.screen.width = screenWidth;
          this.screen.height = screenHeight;
          this.view.width = screenWidth * this.resolution;
          this.view.height = screenHeight * this.resolution;
          if (this.autoResize) {
            this.view.style.width = screenWidth + "px";
            this.view.style.height = screenHeight + "px";
          }
        }, SystemRenderer.prototype.generateTexture = function(object, index, height, resolution) {
          resolution = resolution || object.getLocalBounds();
          var y = _UiIcon2.default.create(0 | resolution.width, 0 | resolution.height, index, height);
          return matrix.tx = -resolution.x, matrix.ty = -resolution.y, this.render(object, y, false, matrix, !!object.parent), y;
        }, SystemRenderer.prototype.destroy = function(s) {
          if (s && this.view.parentNode) {
            this.view.parentNode.removeChild(this.view);
          }
          this.type = CONST.RENDERER_TYPE.UNKNOWN;
          this.view = null;
          this.screen = null;
          this.resolution = 0;
          this.transparent = false;
          this.autoResize = false;
          this.blendModes = null;
          this.options = null;
          this.preserveDrawingBuffer = false;
          this.clearBeforeRender = false;
          this.roundPixels = false;
          this._backgroundColor = 0;
          this._backgroundColorRgba = null;
          this._backgroundColorString = null;
          this._tempDisplayObjectParent = null;
          this._lastObjectRendered = null;
        }, gotoNewOfflinePage(SystemRenderer, [{
          key : "width",
          get : function() {
            return this.view.width;
          }
        }, {
          key : "height",
          get : function() {
            return this.view.height;
          }
        }, {
          key : "backgroundColor",
          get : function() {
            return this._backgroundColor;
          },
          set : function(value) {
            this._backgroundColor = value;
            this._backgroundColorString = (0, Utils.hex2string)(value);
            (0, Utils.hex2rgb)(value, this._backgroundColorRgba);
          }
        }]), SystemRenderer;
      }(_eventemitter32.default);
      exports.default = SuggestList;
    }, {
      "../const" : 46,
      "../display/Container" : 48,
      "../math" : 70,
      "../settings" : 101,
      "../textures/RenderTexture" : 113,
      "../utils" : 125,
      eventemitter3 : 3
    }],
    77 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function require(name, o) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !o || "object" != typeof o && "function" != typeof o ? name : o;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _normalizeDataUri = __webpack_require__("../SystemRenderer");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("./utils/CanvasMaskManager");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _prepareStyleProperties = __webpack_require__("./utils/CanvasRenderTarget");
      var THREE = _interopRequireDefault(_prepareStyleProperties);
      var _classlist = __webpack_require__("./utils/mapCanvasBlendModesToPixi");
      var _classlist2 = _interopRequireDefault(_classlist);
      var Utils = __webpack_require__("../../utils");
      var CONST = __webpack_require__("../../const");
      var _deepAssign = __webpack_require__("../../settings");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _ = function(self) {
        function CanvasRenderer(zoom, options, params) {
          _classCallCheck(this, CanvasRenderer);
          var renderer = require(this, self.call(this, "Canvas", zoom, options, params));
          return renderer.type = CONST.RENDERER_TYPE.CANVAS, renderer.rootContext = renderer.view.getContext("2d", {
            alpha : renderer.transparent
          }), renderer.context = renderer.rootContext, renderer.refresh = true, renderer.maskManager = new _UiIcon2.default(renderer), renderer.smoothProperty = "imageSmoothingEnabled", renderer.rootContext.imageSmoothingEnabled || (renderer.rootContext.webkitImageSmoothingEnabled ? renderer.smoothProperty = "webkitImageSmoothingEnabled" : renderer.rootContext.mozImageSmoothingEnabled ? renderer.smoothProperty = "mozImageSmoothingEnabled" : renderer.rootContext.oImageSmoothingEnabled ? renderer.smoothProperty = 
          "oImageSmoothingEnabled" : renderer.rootContext.msImageSmoothingEnabled && (renderer.smoothProperty = "msImageSmoothingEnabled")), renderer.initPlugins(), renderer.blendModes = (0, _classlist2.default)(), renderer._activeBlendMode = null, renderer.renderingToScreen = false, renderer.resize(renderer.options.width, renderer.options.height), renderer;
        }
        return _inherits(CanvasRenderer, self), CanvasRenderer.prototype.render = function(object, options, flag, str, includeExt) {
          if (this.view) {
            this.renderingToScreen = !options;
            this.emit("prerender");
            var resolution = this.resolution;
            if (options) {
              options = options.baseTexture || options;
              if (!options._canvasRenderTarget) {
                options._canvasRenderTarget = new THREE.default(options.width, options.height, options.resolution);
                options.source = options._canvasRenderTarget.canvas;
                options.valid = true;
              }
              this.context = options._canvasRenderTarget.context;
              this.resolution = options._canvasRenderTarget.resolution;
            } else {
              this.context = this.rootContext;
            }
            var context = this.context;
            if (options || (this._lastObjectRendered = object), !includeExt) {
              var geometry = object.parent;
              var m = this._tempDisplayObjectParent.transform.worldTransform;
              if (str) {
                str.copy(m);
                this._tempDisplayObjectParent.transform._worldID = -1;
              } else {
                m.identity();
              }
              object.parent = this._tempDisplayObjectParent;
              object.updateTransform();
              object.parent = geometry;
            }
            context.save();
            context.setTransform(1, 0, 0, 1, 0, 0);
            context.globalAlpha = 1;
            this._activeBlendMode = CONST.BLEND_MODES.NORMAL;
            context.globalCompositeOperation = this.blendModes[CONST.BLEND_MODES.NORMAL];
            if (navigator.isCocoonJS && this.view.screencanvas) {
              context.fillStyle = "black";
              context.clear();
            }
            if ((void 0 !== flag ? flag : this.clearBeforeRender) && this.renderingToScreen) {
              if (this.transparent) {
                context.clearRect(0, 0, this.width, this.height);
              } else {
                context.fillStyle = this._backgroundColorString;
                context.fillRect(0, 0, this.width, this.height);
              }
            }
            var ctx = this.context;
            this.context = context;
            object.renderCanvas(this);
            this.context = ctx;
            context.restore();
            this.resolution = resolution;
            this.emit("postrender");
          }
        }, CanvasRenderer.prototype.clear = function(clearColor) {
          var ctx = this.context;
          clearColor = clearColor || this._backgroundColorString;
          if (!this.transparent && clearColor) {
            ctx.fillStyle = clearColor;
            ctx.fillRect(0, 0, this.width, this.height);
          } else {
            ctx.clearRect(0, 0, this.width, this.height);
          }
        }, CanvasRenderer.prototype.setBlendMode = function(blendMode) {
          if (this._activeBlendMode !== blendMode) {
            this._activeBlendMode = blendMode;
            this.context.globalCompositeOperation = this.blendModes[blendMode];
          }
        }, CanvasRenderer.prototype.destroy = function(err) {
          this.destroyPlugins();
          self.prototype.destroy.call(this, err);
          this.context = null;
          this.refresh = true;
          this.maskManager.destroy();
          this.maskManager = null;
          this.smoothProperty = null;
        }, CanvasRenderer.prototype.resize = function(val, key) {
          self.prototype.resize.call(this, val, key);
          if (this.smoothProperty) {
            this.rootContext[this.smoothProperty] = _deepAssign2.default.SCALE_MODE === CONST.SCALE_MODES.LINEAR;
          }
        }, CanvasRenderer.prototype.invalidateBlendMode = function() {
          this._activeBlendMode = this.blendModes.indexOf(this.context.globalCompositeOperation);
        }, CanvasRenderer;
      }(_normalizeDataUri2.default);
      exports.default = _;
      Utils.pluginTarget.mixin(_);
    }, {
      "../../const" : 46,
      "../../settings" : 101,
      "../../utils" : 125,
      "../SystemRenderer" : 76,
      "./utils/CanvasMaskManager" : 78,
      "./utils/CanvasRenderTarget" : 79,
      "./utils/mapCanvasBlendModesToPixi" : 81
    }],
    78 : [function(saveNotifs, canCreateDiscussions, exports) {
      function render(sub, type) {
        if (!(sub instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var CONST = saveNotifs("../../../const");
      var SuggestList = function() {
        function renderer(text) {
          render(this, renderer);
          this.renderer = text;
        }
        return renderer.prototype.pushMask = function(maskData) {
          var renderer = this.renderer;
          renderer.context.save();
          var cacheAlpha = maskData.alpha;
          var transform = maskData.transform.worldTransform;
          var resolution = renderer.resolution;
          renderer.context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
          if (!maskData._texture) {
            this.renderGraphicsShape(maskData);
            renderer.context.clip();
          }
          maskData.worldAlpha = cacheAlpha;
        }, renderer.prototype.renderGraphicsShape = function(graphics) {
          var ctx = this.renderer.context;
          var patchLen = graphics.graphicsData.length;
          if (0 !== patchLen) {
            ctx.beginPath();
            var i = 0;
            for (; i < patchLen; i++) {
              var data = graphics.graphicsData[i];
              var shape = data.shape;
              if (data.type === CONST.SHAPES.POLY) {
                var p = shape.points;
                var series = data.holes;
                var eleWidth = void 0;
                var r = void 0;
                ctx.moveTo(p[0], p[1]);
                var i = 2;
                for (; i < p.length; i = i + 2) {
                  ctx.lineTo(p[i], p[i + 1]);
                }
                if (p[0] === p[p.length - 2] && p[1] === p[p.length - 1] && ctx.closePath(), series.length > 0) {
                  eleWidth = 0;
                  var i = 0;
                  for (; i < p.length; i = i + 2) {
                    eleWidth = eleWidth + (p[i] * p[i + 3] - p[i + 1] * p[i + 2]);
                  }
                  var j = 0;
                  for (; j < series.length; j++) {
                    p = series[j].points;
                    r = 0;
                    var i = 0;
                    for (; i < p.length; i = i + 2) {
                      r = r + (p[i] * p[i + 3] - p[i + 1] * p[i + 2]);
                    }
                    if (ctx.moveTo(p[0], p[1]), r * eleWidth < 0) {
                      var i = 2;
                      for (; i < p.length; i = i + 2) {
                        ctx.lineTo(p[i], p[i + 1]);
                      }
                    } else {
                      var i = p.length - 2;
                      for (; i >= 2; i = i - 2) {
                        ctx.lineTo(p[i], p[i + 1]);
                      }
                    }
                  }
                }
              } else {
                if (data.type === CONST.SHAPES.RECT) {
                  ctx.rect(shape.x, shape.y, shape.width, shape.height);
                  ctx.closePath();
                } else {
                  if (data.type === CONST.SHAPES.CIRC) {
                    ctx.arc(shape.x, shape.y, shape.radius, 0, 2 * Math.PI);
                    ctx.closePath();
                  } else {
                    if (data.type === CONST.SHAPES.ELIP) {
                      var aWidth = 2 * shape.width;
                      var height = 2 * shape.height;
                      var aX = shape.x - aWidth / 2;
                      var y = shape.y - height / 2;
                      var hB = aWidth / 2 * .5522848;
                      var ry = height / 2 * .5522848;
                      var eX = aX + aWidth;
                      var eY = y + height;
                      var mX = aX + aWidth / 2;
                      var cy = y + height / 2;
                      ctx.moveTo(aX, cy);
                      ctx.bezierCurveTo(aX, cy - ry, mX - hB, y, mX, y);
                      ctx.bezierCurveTo(mX + hB, y, eX, cy - ry, eX, cy);
                      ctx.bezierCurveTo(eX, cy + ry, mX + hB, eY, mX, eY);
                      ctx.bezierCurveTo(mX - hB, eY, aX, cy + ry, aX, cy);
                      ctx.closePath();
                    } else {
                      if (data.type === CONST.SHAPES.RREC) {
                        var x = shape.x;
                        var y = shape.y;
                        var width = shape.width;
                        var height = shape.height;
                        var radius = shape.radius;
                        var maxRadius = Math.min(width, height) / 2 | 0;
                        radius = radius > maxRadius ? maxRadius : radius;
                        ctx.moveTo(x, y + radius);
                        ctx.lineTo(x, y + height - radius);
                        ctx.quadraticCurveTo(x, y + height, x + radius, y + height);
                        ctx.lineTo(x + width - radius, y + height);
                        ctx.quadraticCurveTo(x + width, y + height, x + width, y + height - radius);
                        ctx.lineTo(x + width, y + radius);
                        ctx.quadraticCurveTo(x + width, y, x + width - radius, y);
                        ctx.lineTo(x + radius, y);
                        ctx.quadraticCurveTo(x, y, x, y + radius);
                        ctx.closePath();
                      }
                    }
                  }
                }
              }
            }
          }
        }, renderer.prototype.popMask = function(renderer) {
          renderer.context.restore();
          renderer.invalidateBlendMode();
        }, renderer.prototype.destroy = function() {
        }, renderer;
      }();
      exports.default = SuggestList;
    }, {
      "../../../const" : 46
    }],
    79 : [function($, canCreateDiscussions, exports) {
      function test(res, status) {
        if (!(res instanceof status)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var getAndSetData = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var branch = $("../../../settings");
      var left = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(branch);
      var SuggestList = function() {
        function Text(width, height, resolution) {
          test(this, Text);
          this.canvas = document.createElement("canvas");
          this.context = this.canvas.getContext("2d");
          this.resolution = resolution || left.default.RESOLUTION;
          this.resize(width, height);
        }
        return Text.prototype.clear = function() {
          this.context.setTransform(1, 0, 0, 1, 0, 0);
          this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
        }, Text.prototype.resize = function(width, height) {
          this.canvas.width = width * this.resolution;
          this.canvas.height = height * this.resolution;
        }, Text.prototype.destroy = function() {
          this.context = null;
          this.canvas = null;
        }, getAndSetData(Text, [{
          key : "width",
          get : function() {
            return this.canvas.width;
          },
          set : function(value) {
            this.canvas.width = value;
          }
        }, {
          key : "height",
          get : function() {
            return this.canvas.height;
          },
          set : function(value) {
            this.canvas.height = value;
          }
        }]), Text;
      }();
      exports.default = SuggestList;
    }, {
      "../../../settings" : 101
    }],
    80 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function createColoredCanvas(color) {
        var textedCanvas = document.createElement("canvas");
        textedCanvas.width = 6;
        textedCanvas.height = 1;
        var flash = textedCanvas.getContext("2d");
        return flash.fillStyle = color, flash.fillRect(0, 0, 6, 1), textedCanvas;
      }
      function canUseNewCanvasBlendModes() {
        if ("undefined" == typeof document) {
          return false;
        }
        var magenta = createColoredCanvas("#ff00ff");
        var yellow = createColoredCanvas("#ffff00");
        var textedCanvas = document.createElement("canvas");
        textedCanvas.width = 6;
        textedCanvas.height = 1;
        var context = textedCanvas.getContext("2d");
        context.globalCompositeOperation = "multiply";
        context.drawImage(magenta, 0, 0);
        context.drawImage(yellow, 2, 0);
        var action = context.getImageData(2, 0, 1, 1);
        if (!action) {
          return false;
        }
        var uri_schemes = action.data;
        return 255 === uri_schemes[0] && 0 === uri_schemes[1] && 0 === uri_schemes[2];
      }
      exports.__esModule = true;
      exports.default = canUseNewCanvasBlendModes;
    }, {}],
    81 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function getBlendingMode() {
        var array = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        return (0, _deepAssign2.default)() ? (array[CONST.BLEND_MODES.NORMAL] = "source-over", array[CONST.BLEND_MODES.ADD] = "lighter", array[CONST.BLEND_MODES.MULTIPLY] = "multiply", array[CONST.BLEND_MODES.SCREEN] = "screen", array[CONST.BLEND_MODES.OVERLAY] = "overlay", array[CONST.BLEND_MODES.DARKEN] = "darken", array[CONST.BLEND_MODES.LIGHTEN] = "lighten", array[CONST.BLEND_MODES.COLOR_DODGE] = "color-dodge", array[CONST.BLEND_MODES.COLOR_BURN] = "color-burn", array[CONST.BLEND_MODES.HARD_LIGHT] = 
        "hard-light", array[CONST.BLEND_MODES.SOFT_LIGHT] = "soft-light", array[CONST.BLEND_MODES.DIFFERENCE] = "difference", array[CONST.BLEND_MODES.EXCLUSION] = "exclusion", array[CONST.BLEND_MODES.HUE] = "hue", array[CONST.BLEND_MODES.SATURATION] = "saturate", array[CONST.BLEND_MODES.COLOR] = "color", array[CONST.BLEND_MODES.LUMINOSITY] = "luminosity") : (array[CONST.BLEND_MODES.NORMAL] = "source-over", array[CONST.BLEND_MODES.ADD] = "lighter", array[CONST.BLEND_MODES.MULTIPLY] = "source-over", 
        array[CONST.BLEND_MODES.SCREEN] = "source-over", array[CONST.BLEND_MODES.OVERLAY] = "source-over", array[CONST.BLEND_MODES.DARKEN] = "source-over", array[CONST.BLEND_MODES.LIGHTEN] = "source-over", array[CONST.BLEND_MODES.COLOR_DODGE] = "source-over", array[CONST.BLEND_MODES.COLOR_BURN] = "source-over", array[CONST.BLEND_MODES.HARD_LIGHT] = "source-over", array[CONST.BLEND_MODES.SOFT_LIGHT] = "source-over", array[CONST.BLEND_MODES.DIFFERENCE] = "source-over", array[CONST.BLEND_MODES.EXCLUSION] = 
        "source-over", array[CONST.BLEND_MODES.HUE] = "source-over", array[CONST.BLEND_MODES.SATURATION] = "source-over", array[CONST.BLEND_MODES.COLOR] = "source-over", array[CONST.BLEND_MODES.LUMINOSITY] = "source-over"), array[CONST.BLEND_MODES.NORMAL_NPM] = array[CONST.BLEND_MODES.NORMAL], array[CONST.BLEND_MODES.ADD_NPM] = array[CONST.BLEND_MODES.ADD], array[CONST.BLEND_MODES.SCREEN_NPM] = array[CONST.BLEND_MODES.SCREEN], array;
      }
      exports.__esModule = true;
      exports.default = getBlendingMode;
      var CONST = __webpack_require__("../../../const");
      var _deepAssign = __webpack_require__("./canUseNewCanvasBlendModes");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
    }, {
      "../../../const" : 46,
      "./canUseNewCanvasBlendModes" : 80
    }],
    82 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var PIXI = __webpack_require__("../../const");
      var _deepAssign = __webpack_require__("../../settings");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SuggestList = function() {
        function render(renderer) {
          _get(this, render);
          this.renderer = renderer;
          this.count = 0;
          this.checkCount = 0;
          this.maxIdle = _deepAssign2.default.GC_MAX_IDLE;
          this.checkCountMax = _deepAssign2.default.GC_MAX_CHECK_COUNT;
          this.mode = _deepAssign2.default.GC_MODE;
        }
        return render.prototype.update = function() {
          this.count++;
          if (this.mode !== PIXI.GC_MODES.MANUAL && ++this.checkCount > this.checkCountMax) {
            this.checkCount = 0;
            this.run();
          }
        }, render.prototype.run = function() {
          var tm = this.renderer.textureManager;
          var options = tm._managedTextures;
          var r = false;
          var i = 0;
          for (; i < options.length; i++) {
            var texture = options[i];
            if (!texture._glRenderTargets && this.count - texture.touched > this.maxIdle) {
              tm.destroyTexture(texture, true);
              options[i] = null;
              r = true;
            }
          }
          if (r) {
            var i = 0;
            var index = 0;
            for (; index < options.length; index++) {
              if (null !== options[index]) {
                options[i++] = options[index];
              }
            }
            options.length = i;
          }
        }, render.prototype.unload = function(displayObject) {
          var tm = this.renderer.textureManager;
          if (displayObject._texture && displayObject._texture._glRenderTargets) {
            tm.destroyTexture(displayObject._texture, true);
          }
          var i = displayObject.children.length - 1;
          for (; i >= 0; i--) {
            this.unload(displayObject.children[i]);
          }
        }, render;
      }();
      exports.default = SuggestList;
    }, {
      "../../const" : 46,
      "../../settings" : 101
    }],
    83 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var context = __webpack_require__("pixi-gl-core");
      var PIXI = __webpack_require__("../../const");
      var _UiIcon = __webpack_require__("./utils/RenderTarget");
      var Phaser = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_UiIcon);
      var component = __webpack_require__("../../utils");
      var SuggestList = function() {
        function Renderer(renderer) {
          _classCallCheck(this, Renderer);
          this.renderer = renderer;
          this.gl = renderer.gl;
          this._managedTextures = [];
        }
        return Renderer.prototype.bindTexture = function() {
        }, Renderer.prototype.getTexture = function() {
        }, Renderer.prototype.updateTexture = function(texture, location) {
          var gl = this.gl;
          var n = !!texture._glRenderTargets;
          if (!texture.hasLoaded) {
            return null;
          }
          var boundTextures = this.renderer.boundTextures;
          if (void 0 === location) {
            location = 0;
            var i = 0;
            for (; i < boundTextures.length; ++i) {
              if (boundTextures[i] === texture) {
                location = i;
                break;
              }
            }
          }
          boundTextures[location] = texture;
          gl.activeTexture(gl.TEXTURE0 + location);
          var glTexture = texture._glTextures[this.renderer.CONTEXT_UID];
          if (glTexture) {
            if (n) {
              texture._glRenderTargets[this.renderer.CONTEXT_UID].resize(texture.width, texture.height);
            } else {
              glTexture.upload(texture.source);
            }
          } else {
            if (n) {
              var renderTarget = new Phaser.default(this.gl, texture.width, texture.height, texture.scaleMode, texture.resolution);
              renderTarget.resize(texture.width, texture.height);
              texture._glRenderTargets[this.renderer.CONTEXT_UID] = renderTarget;
              glTexture = renderTarget.texture;
              if (!this.renderer._activeRenderTarget.root) {
                this.renderer._activeRenderTarget.frameBuffer.bind();
              }
            } else {
              glTexture = new context.GLTexture(this.gl, null, null, null, null);
              glTexture.bind(location);
              glTexture.premultiplyAlpha = true;
              glTexture.upload(texture.source);
            }
            texture._glTextures[this.renderer.CONTEXT_UID] = glTexture;
            texture.on("update", this.updateTexture, this);
            texture.on("dispose", this.destroyTexture, this);
            this._managedTextures.push(texture);
            if (texture.isPowerOfTwo) {
              if (texture.mipmap) {
                glTexture.enableMipmap();
              }
              if (texture.wrapMode === PIXI.WRAP_MODES.CLAMP) {
                glTexture.enableWrapClamp();
              } else {
                if (texture.wrapMode === PIXI.WRAP_MODES.REPEAT) {
                  glTexture.enableWrapRepeat();
                } else {
                  glTexture.enableWrapMirrorRepeat();
                }
              }
            } else {
              glTexture.enableWrapClamp();
            }
            if (texture.scaleMode === PIXI.SCALE_MODES.NEAREST) {
              glTexture.enableNearestScaling();
            } else {
              glTexture.enableLinearScaling();
            }
          }
          return glTexture;
        }, Renderer.prototype.destroyTexture = function(texture, _skipRemove) {
          if (texture = texture.baseTexture || texture, texture.hasLoaded) {
            var renderer = this.renderer;
            var name = renderer.CONTEXT_UID;
            var data = texture._glTextures;
            var plugins = texture._glRenderTargets;
            if (data[name] && (renderer.unbindTexture(texture), data[name].destroy(), texture.off("update", this.updateTexture, this), texture.off("dispose", this.destroyTexture, this), delete data[name], !_skipRemove)) {
              var textureProperties = this._managedTextures.indexOf(texture);
              if (-1 !== textureProperties) {
                (0, component.removeItems)(this._managedTextures, textureProperties, 1);
              }
            }
            if (plugins && plugins[name]) {
              if (renderer._activeRenderTarget === plugins[name]) {
                renderer.bindRenderTarget(renderer.rootRenderTarget);
              }
              plugins[name].destroy();
              delete plugins[name];
            }
          }
        }, Renderer.prototype.removeAll = function() {
          var i = 0;
          for (; i < this._managedTextures.length; ++i) {
            var texture = this._managedTextures[i];
            if (texture._glTextures[this.renderer.CONTEXT_UID]) {
              delete texture._glTextures[this.renderer.CONTEXT_UID];
            }
          }
        }, Renderer.prototype.destroy = function() {
          var i = 0;
          for (; i < this._managedTextures.length; ++i) {
            var texture = this._managedTextures[i];
            this.destroyTexture(texture, true);
            texture.off("update", this.updateTexture, this);
            texture.off("dispose", this.destroyTexture, this);
          }
          this._managedTextures = null;
        }, Renderer;
      }();
      exports.default = SuggestList;
    }, {
      "../../const" : 46,
      "../../utils" : 125,
      "./utils/RenderTarget" : 96,
      "pixi-gl-core" : 15
    }],
    84 : [function(require, canCreateDiscussions, exports) {
      function $(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function bind(name, o) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !o || "object" != typeof o && "function" != typeof o ? name : o;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var sources = require("../SystemRenderer");
      var header = $(sources);
      var Component = require("./managers/MaskManager");
      var el = $(Component);
      var view = require("./managers/StencilManager");
      var comp = $(view);
      var map = require("./managers/FilterManager");
      var fields = $(map);
      var List = require("./utils/RenderTarget");
      var Grid = $(List);
      var style = require("./utils/ObjectRenderer");
      var ns = $(style);
      var _ = require("./TextureManager");
      var pseudoNames = $(_);
      var target = require("../../textures/BaseTexture");
      var ngEl = $(target);
      var T = require("./TextureGarbageCollector");
      var e = $(T);
      var S = require("./WebGLState");
      var f = $(S);
      var srvc = require("./utils/mapWebGLDrawModesToPixi");
      var item = $(srvc);
      var qrcode = require("./utils/validateContext");
      var option = $(qrcode);
      var Utils = require("../../utils");
      var root = require("pixi-gl-core");
      var Map = $(root);
      var CONST = require("../../const");
      var N = 0;
      var B = function(self) {
        function CanvasRenderer(zoom, options, params) {
          _classCallCheck(this, CanvasRenderer);
          var renderer = bind(this, self.call(this, "WebGL", zoom, options, params));
          return renderer.legacy = renderer.options.legacy, renderer.legacy && (Map.default.VertexArrayObject.FORCE_NATIVE = true), renderer.type = CONST.RENDERER_TYPE.WEBGL, renderer.handleContextLost = renderer.handleContextLost.bind(renderer), renderer.handleContextRestored = renderer.handleContextRestored.bind(renderer), renderer.view.addEventListener("webglcontextlost", renderer.handleContextLost, false), renderer.view.addEventListener("webglcontextrestored", renderer.handleContextRestored, 
          false), renderer._contextOptions = {
            alpha : renderer.transparent,
            antialias : renderer.options.antialias,
            premultipliedAlpha : renderer.transparent && "notMultiplied" !== renderer.transparent,
            stencil : true,
            preserveDrawingBuffer : renderer.options.preserveDrawingBuffer,
            powerPreference : renderer.options.powerPreference
          }, renderer._backgroundColorRgba[3] = renderer.transparent ? 0 : 1, renderer.maskManager = new el.default(renderer), renderer.stencilManager = new comp.default(renderer), renderer.emptyRenderer = new ns.default(renderer), renderer.currentRenderer = renderer.emptyRenderer, renderer.textureManager = null, renderer.filterManager = null, renderer.initPlugins(), renderer.options.context && (0, option.default)(renderer.options.context), renderer.gl = renderer.options.context || Map.default.createContext(renderer.view, 
          renderer._contextOptions), renderer.CONTEXT_UID = N++, renderer.state = new f.default(renderer.gl), renderer.renderingToScreen = true, renderer.boundTextures = null, renderer._activeShader = null, renderer._activeVao = null, renderer._activeRenderTarget = null, renderer._initContext(), renderer.drawModes = (0, item.default)(renderer.gl), renderer._nextTextureLocation = 0, renderer.setBlendMode(0), renderer;
        }
        return _inherits(CanvasRenderer, self), CanvasRenderer.prototype._initContext = function() {
          var ctx = this.gl;
          if (ctx.isContextLost() && ctx.getExtension("WEBGL_lose_context")) {
            ctx.getExtension("WEBGL_lose_context").restoreContext();
          }
          var maxTextures = ctx.getParameter(ctx.MAX_TEXTURE_IMAGE_UNITS);
          this._activeShader = null;
          this._activeVao = null;
          this.boundTextures = new Array(maxTextures);
          this.emptyTextures = new Array(maxTextures);
          this._unknownBoundTextures = false;
          this.textureManager = new pseudoNames.default(this);
          this.filterManager = new fields.default(this);
          this.textureGC = new e.default(this);
          this.state.resetToDefault();
          this.rootRenderTarget = new Grid.default(ctx, this.width, this.height, null, this.resolution, true);
          this.rootRenderTarget.clearColor = this._backgroundColorRgba;
          this.bindRenderTarget(this.rootRenderTarget);
          var wallcandle = new Map.default.GLTexture.fromData(ctx, null, 1, 1);
          var tempObj = {
            _glTextures : {}
          };
          tempObj._glTextures[this.CONTEXT_UID] = {};
          var i = 0;
          for (; i < maxTextures; i++) {
            var empty = new ngEl.default;
            empty._glTextures[this.CONTEXT_UID] = wallcandle;
            this.boundTextures[i] = tempObj;
            this.emptyTextures[i] = empty;
            this.bindTexture(null, i);
          }
          this.emit("context", ctx);
          this.resize(this.screen.width, this.screen.height);
        }, CanvasRenderer.prototype.render = function(object, position, c, t, i) {
          if (this.renderingToScreen = !position, this.emit("prerender"), this.gl && !this.gl.isContextLost()) {
            if (this._nextTextureLocation = 0, position || (this._lastObjectRendered = object), !i) {
              var geometry = object.parent;
              object.parent = this._tempDisplayObjectParent;
              object.updateTransform();
              object.parent = geometry;
            }
            this.bindRenderTexture(position, t);
            this.currentRenderer.start();
            if (void 0 !== c ? c : this.clearBeforeRender) {
              this._activeRenderTarget.clear();
            }
            object.renderWebGL(this);
            this.currentRenderer.flush();
            this.textureGC.update();
            this.emit("postrender");
          }
        }, CanvasRenderer.prototype.setObjectRenderer = function(objectRenderer) {
          if (this.currentRenderer !== objectRenderer) {
            this.currentRenderer.stop();
            this.currentRenderer = objectRenderer;
            this.currentRenderer.start();
          }
        }, CanvasRenderer.prototype.flush = function() {
          this.setObjectRenderer(this.emptyRenderer);
        }, CanvasRenderer.prototype.resize = function(width, height) {
          header.default.prototype.resize.call(this, width, height);
          this.rootRenderTarget.resize(width, height);
          if (this._activeRenderTarget === this.rootRenderTarget) {
            this.rootRenderTarget.activate();
            if (this._activeShader) {
              this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(true);
            }
          }
        }, CanvasRenderer.prototype.setBlendMode = function(blendMode) {
          this.state.setBlendMode(blendMode);
        }, CanvasRenderer.prototype.clear = function(clearColor) {
          this._activeRenderTarget.clear(clearColor);
        }, CanvasRenderer.prototype.setTransform = function(matrix) {
          this._activeRenderTarget.transform = matrix;
        }, CanvasRenderer.prototype.clearRenderTexture = function(renderTexture, clearColor) {
          var baseTexture = renderTexture.baseTexture;
          var gd = baseTexture._glRenderTargets[this.CONTEXT_UID];
          return gd && gd.clear(clearColor), this;
        }, CanvasRenderer.prototype.bindRenderTexture = function(renderTexture, transform) {
          var renderTarget = void 0;
          if (renderTexture) {
            var baseTexture = renderTexture.baseTexture;
            if (!baseTexture._glRenderTargets[this.CONTEXT_UID]) {
              this.textureManager.updateTexture(baseTexture, 0);
            }
            this.unbindTexture(baseTexture);
            renderTarget = baseTexture._glRenderTargets[this.CONTEXT_UID];
            renderTarget.setFrame(renderTexture.frame);
          } else {
            renderTarget = this.rootRenderTarget;
          }
          return renderTarget.transform = transform, this.bindRenderTarget(renderTarget), this;
        }, CanvasRenderer.prototype.bindRenderTarget = function(renderTarget) {
          return renderTarget !== this._activeRenderTarget && (this._activeRenderTarget = renderTarget, renderTarget.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = renderTarget.projectionMatrix.toArray(true)), this.stencilManager.setMaskStack(renderTarget.stencilMaskStack)), this;
        }, CanvasRenderer.prototype.bindShader = function(shader, name) {
          return this._activeShader !== shader && (this._activeShader = shader, shader.bind(), false !== name && (shader.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(true))), this;
        }, CanvasRenderer.prototype.bindTexture = function(texture, location, name) {
          if (texture = texture || this.emptyTextures[location], texture = texture.baseTexture || texture, texture.touched = this.textureGC.count, name) {
            location = location || 0;
          } else {
            var i = 0;
            for (; i < this.boundTextures.length; i++) {
              if (this.boundTextures[i] === texture) {
                return i;
              }
            }
            if (void 0 === location) {
              this._nextTextureLocation++;
              this._nextTextureLocation %= this.boundTextures.length;
              location = this.boundTextures.length - this._nextTextureLocation - 1;
            }
          }
          var gl = this.gl;
          var parentTile = texture._glTextures[this.CONTEXT_UID];
          return parentTile ? (this.boundTextures[location] = texture, gl.activeTexture(gl.TEXTURE0 + location), gl.bindTexture(gl.TEXTURE_2D, parentTile.texture)) : this.textureManager.updateTexture(texture, location), location;
        }, CanvasRenderer.prototype.unbindTexture = function(texture) {
          var gl = this.gl;
          if (texture = texture.baseTexture || texture, this._unknownBoundTextures) {
            this._unknownBoundTextures = false;
            var i = 0;
            for (; i < this.boundTextures.length; i++) {
              if (this.boundTextures[i] === this.emptyTextures[i]) {
                gl.activeTexture(gl.TEXTURE0 + i);
                gl.bindTexture(gl.TEXTURE_2D, this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture);
              }
            }
          }
          var i = 0;
          for (; i < this.boundTextures.length; i++) {
            if (this.boundTextures[i] === texture) {
              this.boundTextures[i] = this.emptyTextures[i];
              gl.activeTexture(gl.TEXTURE0 + i);
              gl.bindTexture(gl.TEXTURE_2D, this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture);
            }
          }
          return this;
        }, CanvasRenderer.prototype.createVao = function() {
          return new Map.default.VertexArrayObject(this.gl, this.state.attribState);
        }, CanvasRenderer.prototype.bindVao = function(t) {
          return this._activeVao === t ? this : (t ? t.bind() : this._activeVao && this._activeVao.unbind(), this._activeVao = t, this);
        }, CanvasRenderer.prototype.reset = function() {
          this.setObjectRenderer(this.emptyRenderer);
          this.bindVao(null);
          this._activeShader = null;
          this._activeRenderTarget = this.rootRenderTarget;
          this._unknownBoundTextures = true;
          var i = 0;
          for (; i < this.boundTextures.length; i++) {
            this.boundTextures[i] = this.emptyTextures[i];
          }
          return this.rootRenderTarget.activate(), this.state.resetToDefault(), this;
        }, CanvasRenderer.prototype.handleContextLost = function(event) {
          event.preventDefault();
        }, CanvasRenderer.prototype.handleContextRestored = function() {
          this.textureManager.removeAll();
          this.filterManager.destroy(true);
          this._initContext();
        }, CanvasRenderer.prototype.destroy = function(err) {
          this.destroyPlugins();
          this.view.removeEventListener("webglcontextlost", this.handleContextLost);
          this.view.removeEventListener("webglcontextrestored", this.handleContextRestored);
          this.textureManager.destroy();
          self.prototype.destroy.call(this, err);
          this.uid = 0;
          this.maskManager.destroy();
          this.stencilManager.destroy();
          this.filterManager.destroy();
          this.maskManager = null;
          this.filterManager = null;
          this.textureManager = null;
          this.currentRenderer = null;
          this.handleContextLost = null;
          this.handleContextRestored = null;
          this._contextOptions = null;
          this.gl.useProgram(null);
          if (this.gl.getExtension("WEBGL_lose_context")) {
            this.gl.getExtension("WEBGL_lose_context").loseContext();
          }
          this.gl = null;
        }, CanvasRenderer;
      }(header.default);
      exports.default = B;
      Utils.pluginTarget.mixin(B);
    }, {
      "../../const" : 46,
      "../../textures/BaseTexture" : 112,
      "../../utils" : 125,
      "../SystemRenderer" : 76,
      "./TextureGarbageCollector" : 82,
      "./TextureManager" : 83,
      "./WebGLState" : 85,
      "./managers/FilterManager" : 90,
      "./managers/MaskManager" : 91,
      "./managers/StencilManager" : 92,
      "./utils/ObjectRenderer" : 94,
      "./utils/RenderTarget" : 96,
      "./utils/mapWebGLDrawModesToPixi" : 99,
      "./utils/validateContext" : 100,
      "pixi-gl-core" : 15
    }],
    85 : [function($, canCreateDiscussions, exports) {
      function register(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var button2 = $("./utils/mapWebGLBlendModesToPixi");
      var button = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(button2);
      var SuggestList = function() {
        function init(gl) {
          register(this, init);
          this.activeState = new Uint8Array(16);
          this.defaultState = new Uint8Array(16);
          this.defaultState[0] = 1;
          this.stackIndex = 0;
          this.stack = [];
          this.gl = gl;
          this.maxAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);
          this.attribState = {
            tempAttribState : new Array(this.maxAttribs),
            attribState : new Array(this.maxAttribs)
          };
          this.blendModes = (0, button.default)(gl);
          this.nativeVaoExtension = gl.getExtension("OES_vertex_array_object") || gl.getExtension("MOZ_OES_vertex_array_object") || gl.getExtension("WEBKIT_OES_vertex_array_object");
        }
        return init.prototype.push = function() {
          var state = this.stack[this.stackIndex];
          if (!state) {
            state = this.stack[this.stackIndex] = new Uint8Array(16);
          }
          ++this.stackIndex;
          var i = 0;
          for (; i < this.activeState.length; i++) {
            state[i] = this.activeState[i];
          }
        }, init.prototype.pop = function() {
          var state = this.stack[--this.stackIndex];
          this.setState(state);
        }, init.prototype.setState = function(state) {
          this.setBlend(state[0]);
          this.setDepthTest(state[1]);
          this.setFrontFace(state[2]);
          this.setCullFace(state[3]);
          this.setBlendMode(state[4]);
        }, init.prototype.setBlend = function(value) {
          value = value ? 1 : 0;
          if (this.activeState[0] !== value) {
            this.activeState[0] = value;
            this.gl[value ? "enable" : "disable"](this.gl.BLEND);
          }
        }, init.prototype.setBlendMode = function(value) {
          if (value !== this.activeState[4]) {
            this.activeState[4] = value;
            var mode = this.blendModes[value];
            if (2 === mode.length) {
              this.gl.blendFunc(mode[0], mode[1]);
            } else {
              this.gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);
            }
          }
        }, init.prototype.setDepthTest = function(value) {
          value = value ? 1 : 0;
          if (this.activeState[1] !== value) {
            this.activeState[1] = value;
            this.gl[value ? "enable" : "disable"](this.gl.DEPTH_TEST);
          }
        }, init.prototype.setCullFace = function(value) {
          value = value ? 1 : 0;
          if (this.activeState[3] !== value) {
            this.activeState[3] = value;
            this.gl[value ? "enable" : "disable"](this.gl.CULL_FACE);
          }
        }, init.prototype.setFrontFace = function(value) {
          value = value ? 1 : 0;
          if (this.activeState[2] !== value) {
            this.activeState[2] = value;
            this.gl.frontFace(this.gl[value ? "CW" : "CCW"]);
          }
        }, init.prototype.resetAttributes = function() {
          var layer_i = 0;
          for (; layer_i < this.attribState.tempAttribState.length; layer_i++) {
            this.attribState.tempAttribState[layer_i] = 0;
          }
          var i = 0;
          for (; i < this.attribState.attribState.length; i++) {
            this.attribState.attribState[i] = 0;
          }
          var loc = 1;
          for (; loc < this.maxAttribs; loc++) {
            this.gl.disableVertexAttribArray(loc);
          }
        }, init.prototype.resetToDefault = function() {
          if (this.nativeVaoExtension) {
            this.nativeVaoExtension.bindVertexArrayOES(null);
          }
          this.resetAttributes();
          var i = 0;
          for (; i < this.activeState.length; ++i) {
            this.activeState[i] = 32;
          }
          this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);
          this.setState(this.defaultState);
        }, init;
      }();
      exports.default = SuggestList;
    }, {
      "./utils/mapWebGLBlendModesToPixi" : 98
    }],
    86 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var childNamed = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _prepareStyleProperties = __webpack_require__("./extractUniformsFromSrc");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var utilCommon = __webpack_require__("../../../utils");
      var core = __webpack_require__("../../../const");
      var _normalizeDataUri = __webpack_require__("../../../settings");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var SOURCE_KEY_MAP = {};
      var SuggestList = function() {
        function Filter(vertexSrc, fragmentSrc, uniforms) {
          _classCallCheck(this, Filter);
          this.vertexSrc = vertexSrc || Filter.defaultVertexSrc;
          this.fragmentSrc = fragmentSrc || Filter.defaultFragmentSrc;
          this._blendMode = core.BLEND_MODES.NORMAL;
          this.uniformData = uniforms || (0, _prepareStyleProperties2.default)(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler");
          this.uniforms = {};
          var i;
          for (i in this.uniformData) {
            this.uniforms[i] = this.uniformData[i].value;
            if (this.uniformData[i].type) {
              this.uniformData[i].type = this.uniformData[i].type.toLowerCase();
            }
          }
          this.glShaders = {};
          if (!SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc]) {
            SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc] = (0, utilCommon.uid)();
          }
          this.glShaderKey = SOURCE_KEY_MAP[this.vertexSrc + this.fragmentSrc];
          this.padding = 4;
          this.resolution = _normalizeDataUri2.default.FILTER_RESOLUTION;
          this.enabled = true;
          this.autoFit = true;
        }
        return Filter.prototype.apply = function(options, input, output, data, state) {
          options.applyFilter(this, input, output, data);
        }, childNamed(Filter, [{
          key : "blendMode",
          get : function() {
            return this._blendMode;
          },
          set : function(target) {
            this._blendMode = target;
          }
        }], [{
          key : "defaultVertexSrc",
          get : function() {
            return ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 projectionMatrix;", "uniform mat3 filterMatrix;", "varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;", "   vTextureCoord = aTextureCoord ;", "}"].join("\n");
          }
        }, {
          key : "defaultFragmentSrc",
          get : function() {
            return ["varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "uniform sampler2D uSampler;", "uniform sampler2D filterSampler;", "void main(void){", "   vec4 masky = texture2D(filterSampler, vFilterCoord);", "   vec4 sample = texture2D(uSampler, vTextureCoord);", "   vec4 color;", "   if(mod(vFilterCoord.x, 1.0) > 0.5)", "   {", "     color = vec4(1.0, 0.0, 0.0, 1.0);", "   }", "   else", "   {", "     color = vec4(0.0, 1.0, 0.0, 1.0);", "   }", "   gl_FragColor = mix(sample, masky, 0.5);", 
            "   gl_FragColor *= sample.a;", "}"].join("\n");
          }
        }]), Filter;
      }();
      exports.default = SuggestList;
    }, {
      "../../../const" : 46,
      "../../../settings" : 101,
      "../../../utils" : 125,
      "./extractUniformsFromSrc" : 87
    }],
    87 : [function(verifier, canCreateDiscussions, exports) {
      function n(name, o, n) {
        var data = test(name);
        var t = test(o);
        return Object.assign(data, t);
      }
      function test(type) {
        var e = new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$");
        var result = {};
        var room = void 0;
        var sibs = type.replace(/\s+/g, " ").split(/\s*;\s*/);
        var sibi = 0;
        for (; sibi < sibs.length; sibi++) {
          var line = sibs[sibi].trim();
          if (line.indexOf("uniform") > -1) {
            var split = line.split(" ");
            var key = split[1];
            var i = split[2];
            var size = 1;
            if (i.indexOf("[") > -1) {
              room = i.split(/\[|]/);
              i = room[0];
              size = size * Number(room[1]);
            }
            if (!i.match(e)) {
              result[i] = {
                value : defaultValue(key, size),
                name : i,
                type : key
              };
            }
          }
        }
        return result;
      }
      exports.__esModule = true;
      exports.default = n;
      var verify = verifier("pixi-gl-core");
      var self = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(verify);
      var defaultValue = self.default.shader.defaultValue;
    }, {
      "pixi-gl-core" : 15
    }],
    88 : [function(declare, canCreateDiscussions, exports) {
      function calculateScreenSpaceMatrix(outputMatrix, filterArea, textureSize) {
        var mappedMatrix = outputMatrix.identity();
        return mappedMatrix.translate(filterArea.x / textureSize.width, filterArea.y / textureSize.height), mappedMatrix.scale(textureSize.width, textureSize.height), mappedMatrix;
      }
      function render(matrix, size, options) {
        var point = matrix.identity();
        point.translate(size.x / options.width, size.y / options.height);
        var x = options.width / size.width;
        var y = options.height / size.height;
        return point.scale(x, y), point;
      }
      function update(ctx, params, data, sprite) {
        var orig = sprite._texture.orig;
        var ctxfx = ctx.set(data.width, 0, 0, data.height, params.x, params.y);
        var m = sprite.worldTransform.copy(M.Matrix.TEMP_MATRIX);
        return m.invert(), ctxfx.prepend(m), ctxfx.scale(1 / orig.width, 1 / orig.height), ctxfx.translate(sprite.anchor.x, sprite.anchor.y), ctxfx;
      }
      exports.__esModule = true;
      exports.calculateScreenSpaceMatrix = calculateScreenSpaceMatrix;
      exports.calculateNormalizedScreenSpaceMatrix = render;
      exports.calculateSpriteMatrix = update;
      var M = declare("../../../math");
    }, {
      "../../../math" : 70
    }],
    89 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _prepareStyleProperties = __webpack_require__("../Filter");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var core = __webpack_require__("../../../../math");
      var _normalizeDataUri = (__webpack_require__("path"), __webpack_require__("../../../../textures/TextureMatrix"));
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var SuggestList = function(_Namespace) {
        function DisplayObject(width) {
          _classCallCheck(this, DisplayObject);
          var edit_device = new core.Matrix;
          var _this = _possibleConstructorReturn(this, _Namespace.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));
          return width.renderable = false, _this.maskSprite = width, _this.maskMatrix = edit_device, _this;
        }
        return _inherits(DisplayObject, _Namespace), DisplayObject.prototype.apply = function(fn, input, output, width) {
          var maskSprite = this.maskSprite;
          var options = this.maskSprite.texture;
          if (options.valid) {
            if (!options.transform) {
              options.transform = new _normalizeDataUri2.default(options, 0);
            }
            options.transform.update();
            this.uniforms.mask = options;
            this.uniforms.otherMatrix = fn.calculateSpriteMatrix(this.maskMatrix, maskSprite).prepend(options.transform.mapCoord);
            this.uniforms.alpha = maskSprite.worldAlpha;
            this.uniforms.maskClamp = options.transform.uClampFrame;
            fn.applyFilter(this, input, output, width);
          }
        }, DisplayObject;
      }(_prepareStyleProperties2.default);
      exports.default = SuggestList;
    }, {
      "../../../../math" : 70,
      "../../../../textures/TextureMatrix" : 116,
      "../Filter" : 86,
      path : 8
    }],
    90 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function extend(dst, a) {
        if (!dst) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? dst : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      function query(view, obj) {
        if (!(view instanceof obj)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _normalizeDataUri = __webpack_require__("./WebGLManager");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("../utils/RenderTarget");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _deepAssign = __webpack_require__("../utils/Quad");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var Chart = __webpack_require__("../../../math");
      var _prepareStyleProperties = __webpack_require__("../../../Shader");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _buildPageNumber = __webpack_require__("../filters/filterTransforms");
      var filterTransforms = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(_buildPageNumber);
      var _classlist = __webpack_require__("bit-twiddle");
      var _classlist2 = _interopRequireDefault(_classlist);
      var FilterState = function() {
        function test() {
          query(this, test);
          this.renderTarget = null;
          this.target = null;
          this.resolution = 1;
          this.sourceFrame = new Chart.Rectangle;
          this.destinationFrame = new Chart.Rectangle;
          this.filters = [];
        }
        return test.prototype.clear = function() {
          this.filters = null;
          this.target = null;
          this.renderTarget = null;
        }, test;
      }();
      var SuggestList = function(_Namespace) {
        function renderer(settings) {
          query(this, renderer);
          var self = extend(this, _Namespace.call(this, settings));
          return self.gl = self.renderer.gl, self.quad = new _deepAssign2.default(self.gl, settings.state.attribState), self.shaderCache = {}, self.pool = {}, self.filterData = null, self.managedFilters = [], self.renderer.on("prerender", self.onPrerender, self), self._screenWidth = settings.view.width, self._screenHeight = settings.view.height, self;
        }
        return _inherits(renderer, _Namespace), renderer.prototype.pushFilter = function(target, filters) {
          var renderer = this.renderer;
          var filterData = this.filterData;
          if (!filterData) {
            filterData = this.renderer._activeRenderTarget.filterStack;
            var filterState = new FilterState;
            filterState.sourceFrame = filterState.destinationFrame = this.renderer._activeRenderTarget.size;
            filterState.renderTarget = renderer._activeRenderTarget;
            this.renderer._activeRenderTarget.filterData = filterData = {
              index : 0,
              stack : [filterState]
            };
            this.filterData = filterData;
          }
          var currentState = filterData.stack[++filterData.index];
          var extent = filterData.stack[0].destinationFrame;
          if (!currentState) {
            currentState = filterData.stack[filterData.index] = new FilterState;
          }
          var search = target.filterArea && 0 === target.filterArea.x && 0 === target.filterArea.y && target.filterArea.width === renderer.screen.width && target.filterArea.height === renderer.screen.height;
          var resolution = filters[0].resolution;
          var padding = 0 | filters[0].padding;
          var light = search ? renderer.screen : target.filterArea || target.getBounds(true);
          var sourceFrame = currentState.sourceFrame;
          var destinationFrame = currentState.destinationFrame;
          sourceFrame.x = (light.x * resolution | 0) / resolution;
          sourceFrame.y = (light.y * resolution | 0) / resolution;
          sourceFrame.width = (light.width * resolution | 0) / resolution;
          sourceFrame.height = (light.height * resolution | 0) / resolution;
          if (!search) {
            if (!filterData.stack[0].renderTarget.transform) {
              if (filters[0].autoFit) {
                sourceFrame.fit(extent);
              }
            }
            sourceFrame.pad(padding);
          }
          destinationFrame.width = sourceFrame.width;
          destinationFrame.height = sourceFrame.height;
          var renderTarget = this.getPotRenderTarget(renderer.gl, sourceFrame.width, sourceFrame.height, resolution);
          currentState.target = target;
          currentState.filters = filters;
          currentState.resolution = resolution;
          currentState.renderTarget = renderTarget;
          renderTarget.setFrame(destinationFrame, sourceFrame);
          renderer.bindRenderTarget(renderTarget);
          renderTarget.clear();
        }, renderer.prototype.popFilter = function() {
          var filterData = this.filterData;
          var lastState = filterData.stack[filterData.index - 1];
          var currentState = filterData.stack[filterData.index];
          this.quad.map(currentState.renderTarget.size, currentState.sourceFrame).upload();
          var filters = currentState.filters;
          if (1 === filters.length) {
            filters[0].apply(this, currentState.renderTarget, lastState.renderTarget, false, currentState);
            this.freePotRenderTarget(currentState.renderTarget);
          } else {
            var flip = currentState.renderTarget;
            var flop = this.getPotRenderTarget(this.renderer.gl, currentState.sourceFrame.width, currentState.sourceFrame.height, currentState.resolution);
            flop.setFrame(currentState.destinationFrame, currentState.sourceFrame);
            flop.clear();
            var i = 0;
            i = 0;
            for (; i < filters.length - 1; ++i) {
              filters[i].apply(this, flip, flop, true, currentState);
              var t = flip;
              flip = flop;
              flop = t;
            }
            filters[i].apply(this, flip, lastState.renderTarget, false, currentState);
            this.freePotRenderTarget(flip);
            this.freePotRenderTarget(flop);
          }
          currentState.clear();
          if (0 === --filterData.index) {
            this.filterData = null;
          }
        }, renderer.prototype.applyFilter = function(filter, input, output, size) {
          var renderer = this.renderer;
          var gl = renderer.gl;
          var shader = filter.glShaders[renderer.CONTEXT_UID];
          if (!shader) {
            if (filter.glShaderKey) {
              if (!(shader = this.shaderCache[filter.glShaderKey])) {
                shader = new _prepareStyleProperties2.default(this.gl, filter.vertexSrc, filter.fragmentSrc);
                filter.glShaders[renderer.CONTEXT_UID] = this.shaderCache[filter.glShaderKey] = shader;
                this.managedFilters.push(filter);
              }
            } else {
              shader = filter.glShaders[renderer.CONTEXT_UID] = new _prepareStyleProperties2.default(this.gl, filter.vertexSrc, filter.fragmentSrc);
              this.managedFilters.push(filter);
            }
            renderer.bindVao(null);
            this.quad.initVao(shader);
          }
          renderer.bindVao(this.quad.vao);
          renderer.bindRenderTarget(output);
          if (size) {
            gl.disable(gl.SCISSOR_TEST);
            renderer.clear();
            gl.enable(gl.SCISSOR_TEST);
          }
          if (output === renderer.maskManager.scissorRenderTarget) {
            renderer.maskManager.pushScissorMask(null, renderer.maskManager.scissorData);
          }
          renderer.bindShader(shader);
          var tex = this.renderer.emptyTextures[0];
          this.renderer.boundTextures[0] = tex;
          this.syncUniforms(shader, filter);
          renderer.state.setBlendMode(filter.blendMode);
          gl.activeTexture(gl.TEXTURE0);
          gl.bindTexture(gl.TEXTURE_2D, input.texture.texture);
          this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0);
          gl.bindTexture(gl.TEXTURE_2D, tex._glTextures[this.renderer.CONTEXT_UID].texture);
        }, renderer.prototype.syncUniforms = function(shader, filter) {
          var uniformData = filter.uniformData;
          var uniforms = filter.uniforms;
          var textureCount = 1;
          var view = void 0;
          if (shader.uniforms.filterArea) {
            view = this.filterData.stack[this.filterData.index];
            var filterArea = shader.uniforms.filterArea;
            filterArea[0] = view.renderTarget.size.width;
            filterArea[1] = view.renderTarget.size.height;
            filterArea[2] = view.sourceFrame.x;
            filterArea[3] = view.sourceFrame.y;
            shader.uniforms.filterArea = filterArea;
          }
          if (shader.uniforms.filterClamp) {
            view = view || this.filterData.stack[this.filterData.index];
            var filterClamp = shader.uniforms.filterClamp;
            filterClamp[0] = 0;
            filterClamp[1] = 0;
            filterClamp[2] = (view.sourceFrame.width - 1) / view.renderTarget.size.width;
            filterClamp[3] = (view.sourceFrame.height - 1) / view.renderTarget.size.height;
            shader.uniforms.filterClamp = filterClamp;
          }
          var i;
          for (i in uniformData) {
            if (shader.uniforms.data[i]) {
              var s = uniformData[i].type;
              if ("sampler2d" === s && 0 !== uniforms[i]) {
                if (uniforms[i].baseTexture) {
                  shader.uniforms[i] = this.renderer.bindTexture(uniforms[i].baseTexture, textureCount);
                } else {
                  shader.uniforms[i] = textureCount;
                  var gl = this.renderer.gl;
                  this.renderer.boundTextures[textureCount] = this.renderer.emptyTextures[textureCount];
                  gl.activeTexture(gl.TEXTURE0 + textureCount);
                  uniforms[i].texture.bind();
                }
                textureCount++;
              } else {
                if ("mat3" === s) {
                  if (void 0 !== uniforms[i].a) {
                    shader.uniforms[i] = uniforms[i].toArray(true);
                  } else {
                    shader.uniforms[i] = uniforms[i];
                  }
                } else {
                  if ("vec2" === s) {
                    if (void 0 !== uniforms[i].x) {
                      var newPoint = shader.uniforms[i] || new Float32Array(2);
                      newPoint[0] = uniforms[i].x;
                      newPoint[1] = uniforms[i].y;
                      shader.uniforms[i] = newPoint;
                    } else {
                      shader.uniforms[i] = uniforms[i];
                    }
                  } else {
                    if ("float" === s) {
                      if (shader.uniforms.data[i].value !== uniformData[i]) {
                        shader.uniforms[i] = uniforms[i];
                      }
                    } else {
                      shader.uniforms[i] = uniforms[i];
                    }
                  }
                }
              }
            }
          }
        }, renderer.prototype.getRenderTarget = function(height, resolution) {
          var currentState = this.filterData.stack[this.filterData.index];
          var flop = this.getPotRenderTarget(this.renderer.gl, currentState.sourceFrame.width, currentState.sourceFrame.height, resolution || currentState.resolution);
          return flop.setFrame(currentState.destinationFrame, currentState.sourceFrame), flop;
        }, renderer.prototype.returnRenderTarget = function(renderTarget) {
          this.freePotRenderTarget(renderTarget);
        }, renderer.prototype.calculateScreenSpaceMatrix = function(outputMatrix) {
          var currentState = this.filterData.stack[this.filterData.index];
          return filterTransforms.calculateScreenSpaceMatrix(outputMatrix, currentState.sourceFrame, currentState.renderTarget.size);
        }, renderer.prototype.calculateNormalizedScreenSpaceMatrix = function(outputMatrix) {
          var currentState = this.filterData.stack[this.filterData.index];
          return filterTransforms.calculateNormalizedScreenSpaceMatrix(outputMatrix, currentState.sourceFrame, currentState.renderTarget.size, currentState.destinationFrame);
        }, renderer.prototype.calculateSpriteMatrix = function(outputMatrix, sprite) {
          var currentState = this.filterData.stack[this.filterData.index];
          return filterTransforms.calculateSpriteMatrix(outputMatrix, currentState.sourceFrame, currentState.renderTarget.size, sprite);
        }, renderer.prototype.destroy = function() {
          var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          var renderer = this.renderer;
          var spheres = this.managedFilters;
          renderer.off("prerender", this.onPrerender, this);
          var iter_sph = 0;
          for (; iter_sph < spheres.length; iter_sph++) {
            if (!t) {
              spheres[iter_sph].glShaders[renderer.CONTEXT_UID].destroy();
            }
            delete spheres[iter_sph].glShaders[renderer.CONTEXT_UID];
          }
          this.shaderCache = {};
          if (t) {
            this.pool = {};
          } else {
            this.emptyPool();
          }
        }, renderer.prototype.getPotRenderTarget = function(gl, minWidth, minHeight, resolution) {
          var id = "screen";
          minWidth = minWidth * resolution;
          minHeight = minHeight * resolution;
          if (!(minWidth === this._screenWidth && minHeight === this._screenHeight)) {
            minWidth = _classlist2.default.nextPow2(minWidth);
            minHeight = _classlist2.default.nextPow2(minHeight);
            id = (65535 & minWidth) << 16 | 65535 & minHeight;
          }
          if (!this.pool[id]) {
            this.pool[id] = [];
          }
          var renderTarget = this.pool[id].pop();
          if (!renderTarget) {
            var tex = this.renderer.boundTextures[0];
            gl.activeTexture(gl.TEXTURE0);
            renderTarget = new _UiIcon2.default(gl, minWidth, minHeight, null, 1);
            gl.bindTexture(gl.TEXTURE_2D, tex._glTextures[this.renderer.CONTEXT_UID].texture);
          }
          return renderTarget.resolution = resolution, renderTarget.defaultFrame.width = renderTarget.size.width = minWidth / resolution, renderTarget.defaultFrame.height = renderTarget.size.height = minHeight / resolution, renderTarget.filterPoolKey = id, renderTarget;
        }, renderer.prototype.emptyPool = function() {
          var i;
          for (i in this.pool) {
            var pool = this.pool[i];
            if (pool) {
              var i = 0;
              for (; i < pool.length; i++) {
                pool[i].destroy(true);
              }
            }
          }
          this.pool = {};
        }, renderer.prototype.freePotRenderTarget = function(renderTarget) {
          this.pool[renderTarget.filterPoolKey].push(renderTarget);
        }, renderer.prototype.onPrerender = function() {
          if (this._screenWidth !== this.renderer.view.width || this._screenHeight !== this.renderer.view.height) {
            this._screenWidth = this.renderer.view.width;
            this._screenHeight = this.renderer.view.height;
            var point = this.pool.screen;
            if (point) {
              var i = 0;
              for (; i < point.length; i++) {
                point[i].destroy(true);
              }
            }
            this.pool.screen = [];
          }
        }, renderer;
      }(_normalizeDataUri2.default);
      exports.default = SuggestList;
    }, {
      "../../../Shader" : 44,
      "../../../math" : 70,
      "../filters/filterTransforms" : 88,
      "../utils/Quad" : 95,
      "../utils/RenderTarget" : 96,
      "./WebGLManager" : 93,
      "bit-twiddle" : 1
    }],
    91 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function getGeoByName(name, Buffer) {
        if (!(name instanceof Buffer)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function call(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _prepareStyleProperties = __webpack_require__("./WebGLManager");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("../filters/spriteMask/SpriteMaskFilter");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var SuggestList = function(_Namespace) {
        function MaskManager(mode) {
          getGeoByName(this, MaskManager);
          var group = call(this, _Namespace.call(this, mode));
          return group.scissor = false, group.scissorData = null, group.scissorRenderTarget = null, group.enableScissor = true, group.alphaMaskPool = [], group.alphaMaskIndex = 0, group;
        }
        return _inherits(MaskManager, _Namespace), MaskManager.prototype.pushMask = function(target, maskData) {
          if (maskData.texture) {
            this.pushSpriteMask(target, maskData);
          } else {
            if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && maskData.isFastRect()) {
              var matrix = maskData.worldTransform;
              var totalContributionAmountSatoshis = Math.atan2(matrix.b, matrix.a);
              totalContributionAmountSatoshis = Math.round(totalContributionAmountSatoshis * (180 / Math.PI));
              if (totalContributionAmountSatoshis % 90) {
                this.pushStencilMask(maskData);
              } else {
                this.pushScissorMask(target, maskData);
              }
            } else {
              this.pushStencilMask(maskData);
            }
          }
        }, MaskManager.prototype.popMask = function(target, maskData) {
          if (maskData.texture) {
            this.popSpriteMask(target, maskData);
          } else {
            if (this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length) {
              this.popScissorMask(target, maskData);
            } else {
              this.popStencilMask(target, maskData);
            }
          }
        }, MaskManager.prototype.pushSpriteMask = function(target, maskData) {
          var alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex];
          if (!alphaMaskFilter) {
            alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex] = [new _normalizeDataUri2.default(maskData)];
          }
          alphaMaskFilter[0].resolution = this.renderer.resolution;
          alphaMaskFilter[0].maskSprite = maskData;
          var filterArea = target.filterArea;
          target.filterArea = maskData.getBounds(true);
          this.renderer.filterManager.pushFilter(target, alphaMaskFilter);
          target.filterArea = filterArea;
          this.alphaMaskIndex++;
        }, MaskManager.prototype.popSpriteMask = function() {
          this.renderer.filterManager.popFilter();
          this.alphaMaskIndex--;
        }, MaskManager.prototype.pushStencilMask = function(maskData) {
          this.renderer.currentRenderer.stop();
          this.renderer.stencilManager.pushStencil(maskData);
        }, MaskManager.prototype.popStencilMask = function() {
          this.renderer.currentRenderer.stop();
          this.renderer.stencilManager.popStencil();
        }, MaskManager.prototype.pushScissorMask = function(target, maskData) {
          maskData.renderable = true;
          var renderTarget = this.renderer._activeRenderTarget;
          var bounds = maskData.getBounds();
          bounds.fit(renderTarget.size);
          maskData.renderable = false;
          this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
          var resolution = this.renderer.resolution;
          this.renderer.gl.scissor(bounds.x * resolution, (renderTarget.root ? renderTarget.size.height - bounds.y - bounds.height : bounds.y) * resolution, bounds.width * resolution, bounds.height * resolution);
          this.scissorRenderTarget = renderTarget;
          this.scissorData = maskData;
          this.scissor = true;
        }, MaskManager.prototype.popScissorMask = function() {
          this.scissorRenderTarget = null;
          this.scissorData = null;
          this.scissor = false;
          var gl = this.renderer.gl;
          gl.disable(gl.SCISSOR_TEST);
        }, MaskManager;
      }(_prepareStyleProperties2.default);
      exports.default = SuggestList;
    }, {
      "../filters/spriteMask/SpriteMaskFilter" : 89,
      "./WebGLManager" : 93
    }],
    92 : [function($, canCreateDiscussions, exports) {
      function render($input, min) {
        if (!($input instanceof min)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function call(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var button2 = $("./WebGLManager");
      var button = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(button2);
      var SuggestList = function(_Namespace) {
        function index(value) {
          render(this, index);
          var group = call(this, _Namespace.call(this, value));
          return group.stencilMaskStack = null, group;
        }
        return _inherits(index, _Namespace), index.prototype.setMaskStack = function(stencilMaskStack) {
          this.stencilMaskStack = stencilMaskStack;
          var gl = this.renderer.gl;
          if (0 === stencilMaskStack.length) {
            gl.disable(gl.STENCIL_TEST);
          } else {
            gl.enable(gl.STENCIL_TEST);
          }
        }, index.prototype.pushStencil = function(o) {
          this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
          this.renderer._activeRenderTarget.attachStencilBuffer();
          var gl = this.renderer.gl;
          var level = this.stencilMaskStack.length;
          if (0 === level) {
            gl.enable(gl.STENCIL_TEST);
          }
          this.stencilMaskStack.push(o);
          gl.colorMask(false, false, false, false);
          gl.stencilFunc(gl.EQUAL, level, this._getBitwiseMask());
          gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
          this.renderer.plugins.graphics.render(o);
          this._useCurrent();
        }, index.prototype.popStencil = function() {
          this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
          var gl = this.renderer.gl;
          var o = this.stencilMaskStack.pop();
          if (0 === this.stencilMaskStack.length) {
            gl.disable(gl.STENCIL_TEST);
            gl.clear(gl.STENCIL_BUFFER_BIT);
            gl.clearStencil(0);
          } else {
            gl.colorMask(false, false, false, false);
            gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
            this.renderer.plugins.graphics.render(o);
            this._useCurrent();
          }
        }, index.prototype._useCurrent = function() {
          var gl = this.renderer.gl;
          gl.colorMask(true, true, true, true);
          gl.stencilFunc(gl.EQUAL, this.stencilMaskStack.length, this._getBitwiseMask());
          gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);
        }, index.prototype._getBitwiseMask = function() {
          return (1 << this.stencilMaskStack.length) - 1;
        }, index.prototype.destroy = function() {
          button.default.prototype.destroy.call(this);
          this.stencilMaskStack.stencilStack = null;
        }, index;
      }(button.default);
      exports.default = SuggestList;
    }, {
      "./WebGLManager" : 93
    }],
    93 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function on(elem, type) {
        if (!(elem instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function WebGLManager(renderer) {
          on(this, WebGLManager);
          this.renderer = renderer;
          this.renderer.on("context", this.onContextChange, this);
        }
        return WebGLManager.prototype.onContextChange = function() {
        }, WebGLManager.prototype.destroy = function() {
          this.renderer.off("context", this.onContextChange, this);
          this.renderer = null;
        }, WebGLManager;
      }();
      exports.default = SuggestList;
    }, {}],
    94 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function log(expr, val) {
        if (!(expr instanceof val)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function merge(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _deepAssign = __webpack_require__("../managers/WebGLManager");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SuggestList = function(_GeneralWorker) {
        function m() {
          return log(this, m), merge(this, _GeneralWorker.apply(this, arguments));
        }
        return _inherits(m, _GeneralWorker), m.prototype.start = function() {
        }, m.prototype.stop = function() {
          this.flush();
        }, m.prototype.flush = function() {
        }, m.prototype.render = function(obj) {
        }, m;
      }(_deepAssign2.default);
      exports.default = SuggestList;
    }, {
      "../managers/WebGLManager" : 93
    }],
    95 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function process(keys, event) {
        if (!(keys instanceof event)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _deepAssign = __webpack_require__("pixi-gl-core");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _prepareStyleProperties = __webpack_require__("../../../utils/createIndicesForQuads");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var SuggestList = function() {
        function create(gl, state) {
          process(this, create);
          this.gl = gl;
          this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]);
          this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
          this.interleaved = new Float32Array(16);
          var n = 0;
          for (; n < 4; n++) {
            this.interleaved[4 * n] = this.vertices[2 * n];
            this.interleaved[4 * n + 1] = this.vertices[2 * n + 1];
            this.interleaved[4 * n + 2] = this.uvs[2 * n];
            this.interleaved[4 * n + 3] = this.uvs[2 * n + 1];
          }
          this.indices = (0, _prepareStyleProperties2.default)(1);
          this.vertexBuffer = _deepAssign2.default.GLBuffer.createVertexBuffer(gl, this.interleaved, gl.STATIC_DRAW);
          this.indexBuffer = _deepAssign2.default.GLBuffer.createIndexBuffer(gl, this.indices, gl.STATIC_DRAW);
          this.vao = new _deepAssign2.default.VertexArrayObject(gl, state);
        }
        return create.prototype.initVao = function(shader) {
          this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, shader.attributes.aVertexPosition, this.gl.FLOAT, false, 16, 0).addAttribute(this.vertexBuffer, shader.attributes.aTextureCoord, this.gl.FLOAT, false, 16, 8);
        }, create.prototype.map = function(obj, size) {
          var x = 0;
          var y = 0;
          return this.uvs[0] = x, this.uvs[1] = y, this.uvs[2] = x + size.width / obj.width, this.uvs[3] = y, this.uvs[4] = x + size.width / obj.width, this.uvs[5] = y + size.height / obj.height, this.uvs[6] = x, this.uvs[7] = y + size.height / obj.height, x = size.x, y = size.y, this.vertices[0] = x, this.vertices[1] = y, this.vertices[2] = x + size.width, this.vertices[3] = y, this.vertices[4] = x + size.width, this.vertices[5] = y + size.height, this.vertices[6] = x, this.vertices[7] = y + size.height, 
          this;
        }, create.prototype.upload = function() {
          var t = 0;
          for (; t < 4; t++) {
            this.interleaved[4 * t] = this.vertices[2 * t];
            this.interleaved[4 * t + 1] = this.vertices[2 * t + 1];
            this.interleaved[4 * t + 2] = this.uvs[2 * t];
            this.interleaved[4 * t + 3] = this.uvs[2 * t + 1];
          }
          return this.vertexBuffer.upload(this.interleaved), this;
        }, create.prototype.destroy = function() {
          var gl = this.gl;
          gl.deleteBuffer(this.vertexBuffer);
          gl.deleteBuffer(this.indexBuffer);
        }, create;
      }();
      exports.default = SuggestList;
    }, {
      "../../../utils/createIndicesForQuads" : 123,
      "pixi-gl-core" : 15
    }],
    96 : [function(Tilemap, canCreateDiscussions, exports) {
      function resize(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var ns = Tilemap("../../../math");
      var CONST = Tilemap("../../../const");
      var event = Tilemap("../../../settings");
      var left = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(event);
      var tilemap = Tilemap("pixi-gl-core");
      var SuggestList = function() {
        function RenderTarget(gl, width, height, scaleMode, resolution, root) {
          resize(this, RenderTarget);
          this.gl = gl;
          this.frameBuffer = null;
          this.texture = null;
          this.clearColor = [0, 0, 0, 0];
          this.size = new ns.Rectangle(0, 0, 1, 1);
          this.resolution = resolution || left.default.RESOLUTION;
          this.projectionMatrix = new ns.Matrix;
          this.transform = null;
          this.frame = null;
          this.defaultFrame = new ns.Rectangle;
          this.destinationFrame = null;
          this.sourceFrame = null;
          this.stencilBuffer = null;
          this.stencilMaskStack = [];
          this.filterData = null;
          this.filterPoolKey = "";
          this.scaleMode = void 0 !== scaleMode ? scaleMode : left.default.SCALE_MODE;
          this.root = root || false;
          if (this.root) {
            this.frameBuffer = new tilemap.GLFramebuffer(gl, 100, 100);
            this.frameBuffer.framebuffer = null;
          } else {
            this.frameBuffer = tilemap.GLFramebuffer.createRGBA(gl, 100, 100);
            if (this.scaleMode === CONST.SCALE_MODES.NEAREST) {
              this.frameBuffer.texture.enableNearestScaling();
            } else {
              this.frameBuffer.texture.enableLinearScaling();
            }
            this.texture = this.frameBuffer.texture;
          }
          this.setFrame();
          this.resize(width, height);
        }
        return RenderTarget.prototype.clear = function(clearColor) {
          var cc = clearColor || this.clearColor;
          this.frameBuffer.clear(cc[0], cc[1], cc[2], cc[3]);
        }, RenderTarget.prototype.attachStencilBuffer = function() {
          if (!this.root) {
            this.frameBuffer.enableStencil();
          }
        }, RenderTarget.prototype.setFrame = function(destinationFrame, sourceFrame) {
          this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;
          this.sourceFrame = sourceFrame || this.sourceFrame || this.destinationFrame;
        }, RenderTarget.prototype.activate = function() {
          var gl = this.gl;
          this.frameBuffer.bind();
          this.calculateProjection(this.destinationFrame, this.sourceFrame);
          if (this.transform) {
            this.projectionMatrix.append(this.transform);
          }
          if (this.destinationFrame !== this.sourceFrame) {
            gl.enable(gl.SCISSOR_TEST);
            gl.scissor(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0);
          } else {
            gl.disable(gl.SCISSOR_TEST);
          }
          gl.viewport(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0);
        }, RenderTarget.prototype.calculateProjection = function(destinationFrame, sourceFrame) {
          var pm = this.projectionMatrix;
          sourceFrame = sourceFrame || destinationFrame;
          pm.identity();
          if (this.root) {
            pm.a = 1 / destinationFrame.width * 2;
            pm.d = -1 / destinationFrame.height * 2;
            pm.tx = -1 - sourceFrame.x * pm.a;
            pm.ty = 1 - sourceFrame.y * pm.d;
          } else {
            pm.a = 1 / destinationFrame.width * 2;
            pm.d = 1 / destinationFrame.height * 2;
            pm.tx = -1 - sourceFrame.x * pm.a;
            pm.ty = -1 - sourceFrame.y * pm.d;
          }
        }, RenderTarget.prototype.resize = function(width, height) {
          if (width = width | 0, height = height | 0, this.size.width !== width || this.size.height !== height) {
            this.size.width = width;
            this.size.height = height;
            this.defaultFrame.width = width;
            this.defaultFrame.height = height;
            this.frameBuffer.resize(width * this.resolution, height * this.resolution);
            var projectionFrame = this.frame || this.size;
            this.calculateProjection(projectionFrame);
          }
        }, RenderTarget.prototype.destroy = function() {
          if (this.frameBuffer.stencil) {
            this.gl.deleteRenderbuffer(this.frameBuffer.stencil);
          }
          this.frameBuffer.destroy();
          this.frameBuffer = null;
          this.texture = null;
        }, RenderTarget;
      }();
      exports.default = SuggestList;
    }, {
      "../../../const" : 46,
      "../../../math" : 70,
      "../../../settings" : 101,
      "pixi-gl-core" : 15
    }],
    97 : [function(require, canCreateDiscussions, exports) {
      function init(name, context) {
        var isNewInstance = !context;
        if (isNewInstance) {
          var canvas = document.createElement("canvas");
          canvas.width = 1;
          canvas.height = 1;
          context = Map.default.createContext(canvas);
        }
        var vs = context.createShader(context.FRAGMENT_SHADER);
        for (;;) {
          var fragmentShaderSource = m.replace(/%forloop%/gi, replace(name));
          if (context.shaderSource(vs, fragmentShaderSource), context.compileShader(vs), context.getShaderParameter(vs, context.COMPILE_STATUS)) {
            break;
          }
          name = name / 2 | 0;
        }
        return isNewInstance && context.getExtension("WEBGL_lose_context") && context.getExtension("WEBGL_lose_context").loseContext(), name;
      }
      function replace(t) {
        var unroll = "";
        var i = 0;
        for (; i < t; ++i) {
          if (i > 0) {
            unroll = unroll + "\nelse ";
          }
          if (i < t - 1) {
            unroll = unroll + ("if(test == " + i + ".0){}");
          }
        }
        return unroll;
      }
      exports.__esModule = true;
      exports.default = init;
      var Sprite = require("pixi-gl-core");
      var Map = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(Sprite);
      var m = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n");
    }, {
      "pixi-gl-core" : 15
    }],
    98 : [function(saveNotifs, canCreateDiscussions, exports) {
      function getBlendingMode(type) {
        var array = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
        return array[CONST.BLEND_MODES.NORMAL] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.ADD] = [type.ONE, type.DST_ALPHA], array[CONST.BLEND_MODES.MULTIPLY] = [type.DST_COLOR, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.SCREEN] = [type.ONE, type.ONE_MINUS_SRC_COLOR], array[CONST.BLEND_MODES.OVERLAY] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.DARKEN] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.LIGHTEN] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], 
        array[CONST.BLEND_MODES.COLOR_DODGE] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.COLOR_BURN] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.HARD_LIGHT] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.SOFT_LIGHT] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.DIFFERENCE] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.EXCLUSION] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.HUE] = [type.ONE, 
        type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.SATURATION] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.COLOR] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.LUMINOSITY] = [type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.NORMAL_NPM] = [type.SRC_ALPHA, type.ONE_MINUS_SRC_ALPHA, type.ONE, type.ONE_MINUS_SRC_ALPHA], array[CONST.BLEND_MODES.ADD_NPM] = [type.SRC_ALPHA, type.DST_ALPHA, type.ONE, type.DST_ALPHA], array[CONST.BLEND_MODES.SCREEN_NPM] = 
        [type.SRC_ALPHA, type.ONE_MINUS_SRC_COLOR, type.ONE, type.ONE_MINUS_SRC_COLOR], array;
      }
      exports.__esModule = true;
      exports.default = getBlendingMode;
      var CONST = saveNotifs("../../../const");
    }, {
      "../../../const" : 46
    }],
    99 : [function(saveNotifs, canCreateDiscussions, exports) {
      function VS(context) {
        var object = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        return object[CONST.DRAW_MODES.POINTS] = context.POINTS, object[CONST.DRAW_MODES.LINES] = context.LINES, object[CONST.DRAW_MODES.LINE_LOOP] = context.LINE_LOOP, object[CONST.DRAW_MODES.LINE_STRIP] = context.LINE_STRIP, object[CONST.DRAW_MODES.TRIANGLES] = context.TRIANGLES, object[CONST.DRAW_MODES.TRIANGLE_STRIP] = context.TRIANGLE_STRIP, object[CONST.DRAW_MODES.TRIANGLE_FAN] = context.TRIANGLE_FAN, object;
      }
      exports.__esModule = true;
      exports.default = VS;
      var CONST = saveNotifs("../../../const");
    }, {
      "../../../const" : 46
    }],
    100 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function Frame(name) {
        if (!name.getContextAttributes().stencil) {
          console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
        }
      }
      exports.__esModule = true;
      exports.default = Frame;
    }, {}],
    101 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _prepareStyleProperties = __webpack_require__("./utils/maxRecommendedTextures");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("./utils/canUploadSameBuffer");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      exports.default = {
        TARGET_FPMS : .06,
        MIPMAP_TEXTURES : true,
        RESOLUTION : 1,
        FILTER_RESOLUTION : 1,
        SPRITE_MAX_TEXTURES : (0, _prepareStyleProperties2.default)(32),
        SPRITE_BATCH_SIZE : 4096,
        RETINA_PREFIX : /@([0-9\.]+)x/,
        RENDER_OPTIONS : {
          view : null,
          antialias : false,
          forceFXAA : false,
          autoResize : false,
          transparent : false,
          backgroundColor : 0,
          clearBeforeRender : true,
          preserveDrawingBuffer : false,
          roundPixels : false,
          width : 800,
          height : 600,
          legacy : false
        },
        TRANSFORM_MODE : 0,
        GC_MODE : 0,
        GC_MAX_IDLE : 3600,
        GC_MAX_CHECK_COUNT : 600,
        WRAP_MODE : 0,
        SCALE_MODE : 0,
        PRECISION_VERTEX : "highp",
        PRECISION_FRAGMENT : "mediump",
        CAN_UPLOAD_SAME_BUFFER : (0, _normalizeDataUri2.default)(),
        MESH_CANVAS_PADDING : 0
      };
    }, {
      "./utils/canUploadSameBuffer" : 122,
      "./utils/maxRecommendedTextures" : 127
    }],
    102 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var core = __webpack_require__("../math");
      var Utils = __webpack_require__("../utils");
      var PIXI = __webpack_require__("../const");
      var _prepareStyleProperties = __webpack_require__("../textures/Texture");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("../display/Container");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var point = new core.Point;
      var SuggestList = function(Container) {
        function Sprite(frame) {
          _classCallCheck(this, Sprite);
          var self = _possibleConstructorReturn(this, Container.call(this));
          return self._anchor = new core.ObservablePoint(self._onAnchorUpdate, self, frame ? frame.defaultAnchor.x : 0, frame ? frame.defaultAnchor.y : 0), self._texture = null, self._width = 0, self._height = 0, self._tint = null, self._tintRGB = null, self.tint = 16777215, self.blendMode = PIXI.BLEND_MODES.NORMAL, self.shader = null, self.cachedTint = 16777215, self.texture = frame || _prepareStyleProperties2.default.EMPTY, self.vertexData = new Float32Array(8), self.vertexTrimmedData = null, self._transformID = 
          -1, self._textureID = -1, self._transformTrimmedID = -1, self._textureTrimmedID = -1, self.pluginName = "sprite", self;
        }
        return inherits(Sprite, Container), Sprite.prototype._onTextureUpdate = function() {
          this._textureID = -1;
          this._textureTrimmedID = -1;
          this.cachedTint = 16777215;
          if (this._width) {
            this.scale.x = (0, Utils.sign)(this.scale.x) * this._width / this._texture.orig.width;
          }
          if (this._height) {
            this.scale.y = (0, Utils.sign)(this.scale.y) * this._height / this._texture.orig.height;
          }
        }, Sprite.prototype._onAnchorUpdate = function() {
          this._transformID = -1;
          this._transformTrimmedID = -1;
        }, Sprite.prototype.calculateVertices = function() {
          if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) {
            this._transformID = this.transform._worldID;
            this._textureID = this._texture._updateID;
            var texture = this._texture;
            var wt = this.transform.worldTransform;
            var a = wt.a;
            var b = wt.b;
            var c = wt.c;
            var d = wt.d;
            var tx = wt.tx;
            var ty = wt.ty;
            var vertexData = this.vertexData;
            var trim = texture.trim;
            var orig = texture.orig;
            var anchor = this._anchor;
            var w0 = 0;
            var w1 = 0;
            var h0 = 0;
            var h1 = 0;
            if (trim) {
              w1 = trim.x - anchor._x * orig.width;
              w0 = w1 + trim.width;
              h1 = trim.y - anchor._y * orig.height;
              h0 = h1 + trim.height;
            } else {
              w1 = -anchor._x * orig.width;
              w0 = w1 + orig.width;
              h1 = -anchor._y * orig.height;
              h0 = h1 + orig.height;
            }
            vertexData[0] = a * w1 + c * h1 + tx;
            vertexData[1] = d * h1 + b * w1 + ty;
            vertexData[2] = a * w0 + c * h1 + tx;
            vertexData[3] = d * h1 + b * w0 + ty;
            vertexData[4] = a * w0 + c * h0 + tx;
            vertexData[5] = d * h0 + b * w0 + ty;
            vertexData[6] = a * w1 + c * h0 + tx;
            vertexData[7] = d * h0 + b * w1 + ty;
          }
        }, Sprite.prototype.calculateTrimmedVertices = function() {
          if (this.vertexTrimmedData) {
            if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) {
              return;
            }
          } else {
            this.vertexTrimmedData = new Float32Array(8);
          }
          this._transformTrimmedID = this.transform._worldID;
          this._textureTrimmedID = this._texture._updateID;
          var texture = this._texture;
          var vertexData = this.vertexTrimmedData;
          var orig = texture.orig;
          var anchor = this._anchor;
          var wt = this.transform.worldTransform;
          var a = wt.a;
          var b = wt.b;
          var c = wt.c;
          var d = wt.d;
          var tx = wt.tx;
          var ty = wt.ty;
          var w1 = -anchor._x * orig.width;
          var w0 = w1 + orig.width;
          var h1 = -anchor._y * orig.height;
          var h0 = h1 + orig.height;
          vertexData[0] = a * w1 + c * h1 + tx;
          vertexData[1] = d * h1 + b * w1 + ty;
          vertexData[2] = a * w0 + c * h1 + tx;
          vertexData[3] = d * h1 + b * w0 + ty;
          vertexData[4] = a * w0 + c * h0 + tx;
          vertexData[5] = d * h0 + b * w0 + ty;
          vertexData[6] = a * w1 + c * h0 + tx;
          vertexData[7] = d * h0 + b * w1 + ty;
        }, Sprite.prototype._renderWebGL = function(renderer) {
          this.calculateVertices();
          renderer.setObjectRenderer(renderer.plugins[this.pluginName]);
          renderer.plugins[this.pluginName].render(this);
        }, Sprite.prototype._renderCanvas = function(renderer) {
          renderer.plugins[this.pluginName].render(this);
        }, Sprite.prototype._calculateBounds = function() {
          var trim = this._texture.trim;
          var orig = this._texture.orig;
          if (!trim || trim.width === orig.width && trim.height === orig.height) {
            this.calculateVertices();
            this._bounds.addQuad(this.vertexData);
          } else {
            this.calculateTrimmedVertices();
            this._bounds.addQuad(this.vertexTrimmedData);
          }
        }, Sprite.prototype.getLocalBounds = function(rect) {
          return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._y), rect || (this._localBoundsRect || (this._localBoundsRect = new core.Rectangle), rect = this._localBoundsRect), this._bounds.getRectangle(rect)) : Container.prototype.getLocalBounds.call(this, 
          rect);
        }, Sprite.prototype.containsPoint = function(type) {
          this.worldTransform.applyInverse(type, point);
          var width = this._texture.orig.width;
          var height = this._texture.orig.height;
          var x = -width * this.anchor.x;
          var y = 0;
          return point.x >= x && point.x < x + width && (y = -height * this.anchor.y, point.y >= y && point.y < y + height);
        }, Sprite.prototype.destroy = function(options) {
          if (Container.prototype.destroy.call(this, options), this._texture.off("update", this._onTextureUpdate, this), this._anchor = null, "boolean" == typeof options ? options : options && options.texture) {
            var destroyBaseTexture = "boolean" == typeof options ? options : options && options.baseTexture;
            this._texture.destroy(!!destroyBaseTexture);
          }
          this._texture = null;
          this.shader = null;
        }, Sprite.from = function(source) {
          return new Sprite(_prepareStyleProperties2.default.from(source));
        }, Sprite.fromFrame = function(frameId) {
          var texture = Utils.TextureCache[frameId];
          if (!texture) {
            throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
          }
          return new Sprite(texture);
        }, Sprite.fromImage = function(imageUrl, crossorigin, scaleMode) {
          return new Sprite(_prepareStyleProperties2.default.fromImage(imageUrl, crossorigin, scaleMode));
        }, _createClass(Sprite, [{
          key : "width",
          get : function() {
            return Math.abs(this.scale.x) * this._texture.orig.width;
          },
          set : function(value) {
            var s = (0, Utils.sign)(this.scale.x) || 1;
            this.scale.x = s * value / this._texture.orig.width;
            this._width = value;
          }
        }, {
          key : "height",
          get : function() {
            return Math.abs(this.scale.y) * this._texture.orig.height;
          },
          set : function(value) {
            var s = (0, Utils.sign)(this.scale.y) || 1;
            this.scale.y = s * value / this._texture.orig.height;
            this._height = value;
          }
        }, {
          key : "anchor",
          get : function() {
            return this._anchor;
          },
          set : function(value) {
            this._anchor.copy(value);
          }
        }, {
          key : "tint",
          get : function() {
            return this._tint;
          },
          set : function(value) {
            this._tint = value;
            this._tintRGB = (value >> 16) + (65280 & value) + ((255 & value) << 16);
          }
        }, {
          key : "texture",
          get : function() {
            return this._texture;
          },
          set : function(value) {
            if (this._texture !== value) {
              this._texture = value || _prepareStyleProperties2.default.EMPTY;
              this.cachedTint = 16777215;
              this._textureID = -1;
              this._textureTrimmedID = -1;
              if (value) {
                if (value.baseTexture.hasLoaded) {
                  this._onTextureUpdate();
                } else {
                  value.once("update", this._onTextureUpdate, this);
                }
              }
            }
          }
        }]), Sprite;
      }(_normalizeDataUri2.default);
      exports.default = SuggestList;
    }, {
      "../const" : 46,
      "../display/Container" : 48,
      "../math" : 70,
      "../textures/Texture" : 115,
      "../utils" : 125
    }],
    103 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function callService$1(e, t) {
        if (!(e instanceof t)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _prepareStyleProperties = __webpack_require__("../../renderers/canvas/CanvasRenderer");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var PIXI = __webpack_require__("../../const");
      var core = __webpack_require__("../../math");
      var _normalizeDataUri = __webpack_require__("./CanvasTinter");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var matrix = new core.Matrix;
      var StarRatingComponent = function() {
        function t(opts) {
          callService$1(this, t);
          this.renderer = opts;
        }
        return t.prototype.render = function(sprite) {
          var texture = sprite._texture;
          var renderer = this.renderer;
          var width = texture._frame.width;
          var height = texture._frame.height;
          var wt = sprite.transform.worldTransform;
          var dx = 0;
          var dy = 0;
          if (!(texture.orig.width <= 0 || texture.orig.height <= 0) && texture.baseTexture.source && (renderer.setBlendMode(sprite.blendMode), texture.valid)) {
            renderer.context.globalAlpha = sprite.worldAlpha;
            var smoothingEnabled = texture.baseTexture.scaleMode === PIXI.SCALE_MODES.LINEAR;
            if (renderer.smoothProperty && renderer.context[renderer.smoothProperty] !== smoothingEnabled) {
              renderer.context[renderer.smoothProperty] = smoothingEnabled;
            }
            if (texture.trim) {
              dx = texture.trim.width / 2 + texture.trim.x - sprite.anchor.x * texture.orig.width;
              dy = texture.trim.height / 2 + texture.trim.y - sprite.anchor.y * texture.orig.height;
            } else {
              dx = (.5 - sprite.anchor.x) * texture.orig.width;
              dy = (.5 - sprite.anchor.y) * texture.orig.height;
            }
            if (texture.rotate) {
              wt.copy(matrix);
              wt = matrix;
              core.GroupD8.matrixAppendRotationInv(wt, texture.rotate, dx, dy);
              dx = 0;
              dy = 0;
            }
            dx = dx - width / 2;
            dy = dy - height / 2;
            if (renderer.roundPixels) {
              renderer.context.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution | 0, wt.ty * renderer.resolution | 0);
              dx = dx | 0;
              dy = dy | 0;
            } else {
              renderer.context.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution, wt.ty * renderer.resolution);
            }
            var resolution = texture.baseTexture.resolution;
            if (16777215 !== sprite.tint) {
              if (!(sprite.cachedTint === sprite.tint && sprite.tintedTexture.tintId === sprite._texture._updateID)) {
                sprite.cachedTint = sprite.tint;
                sprite.tintedTexture = _normalizeDataUri2.default.getTintedTexture(sprite, sprite.tint);
              }
              renderer.context.drawImage(sprite.tintedTexture, 0, 0, width * resolution, height * resolution, dx * renderer.resolution, dy * renderer.resolution, width * renderer.resolution, height * renderer.resolution);
            } else {
              renderer.context.drawImage(texture.baseTexture.source, texture._frame.x * resolution, texture._frame.y * resolution, width * resolution, height * resolution, dx * renderer.resolution, dy * renderer.resolution, width * renderer.resolution, height * renderer.resolution);
            }
          }
        }, t.prototype.destroy = function() {
          this.renderer = null;
        }, t;
      }();
      exports.default = StarRatingComponent;
      _prepareStyleProperties2.default.registerPlugin("sprite", StarRatingComponent);
    }, {
      "../../const" : 46,
      "../../math" : 70,
      "../../renderers/canvas/CanvasRenderer" : 77,
      "./CanvasTinter" : 104
    }],
    104 : [function(require, canCreateDiscussions, exports) {
      exports.__esModule = true;
      var Color = require("../../utils");
      var mixer = require("../../renderers/canvas/utils/canUseNewCanvasBlendModes");
      var o = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(mixer);
      var CanvasTinter = {
        getTintedTexture : function(sprite, color) {
          var texture = sprite._texture;
          color = CanvasTinter.roundColor(color);
          var stringColor = "#" + ("00000" + (0 | color).toString(16)).substr(-6);
          texture.tintCache = texture.tintCache || {};
          var cachedTexture = texture.tintCache[stringColor];
          var canvas = void 0;
          if (cachedTexture) {
            if (cachedTexture.tintId === texture._updateID) {
              return texture.tintCache[stringColor];
            }
            canvas = texture.tintCache[stringColor];
          } else {
            canvas = CanvasTinter.canvas || document.createElement("canvas");
          }
          if (CanvasTinter.tintMethod(texture, color, canvas), canvas.tintId = texture._updateID, CanvasTinter.convertTintToImage) {
            var tintImage = new Image;
            tintImage.src = canvas.toDataURL();
            texture.tintCache[stringColor] = tintImage;
          } else {
            texture.tintCache[stringColor] = canvas;
            CanvasTinter.canvas = null;
          }
          return canvas;
        },
        tintWithMultiply : function(texture, color, canvas) {
          var context = canvas.getContext("2d");
          var crop = texture._frame.clone();
          var resolution = texture.baseTexture.resolution;
          crop.x *= resolution;
          crop.y *= resolution;
          crop.width *= resolution;
          crop.height *= resolution;
          canvas.width = Math.ceil(crop.width);
          canvas.height = Math.ceil(crop.height);
          context.save();
          context.fillStyle = "#" + ("00000" + (0 | color).toString(16)).substr(-6);
          context.fillRect(0, 0, crop.width, crop.height);
          context.globalCompositeOperation = "multiply";
          context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
          context.globalCompositeOperation = "destination-atop";
          context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
          context.restore();
        },
        tintWithOverlay : function(texture, color, canvas) {
          var context = canvas.getContext("2d");
          var crop = texture._frame.clone();
          var resolution = texture.baseTexture.resolution;
          crop.x *= resolution;
          crop.y *= resolution;
          crop.width *= resolution;
          crop.height *= resolution;
          canvas.width = Math.ceil(crop.width);
          canvas.height = Math.ceil(crop.height);
          context.save();
          context.globalCompositeOperation = "copy";
          context.fillStyle = "#" + ("00000" + (0 | color).toString(16)).substr(-6);
          context.fillRect(0, 0, crop.width, crop.height);
          context.globalCompositeOperation = "destination-atop";
          context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
          context.restore();
        },
        tintWithPerPixel : function(texture, color, canvas) {
          var context = canvas.getContext("2d");
          var crop = texture._frame.clone();
          var resolution = texture.baseTexture.resolution;
          crop.x *= resolution;
          crop.y *= resolution;
          crop.width *= resolution;
          crop.height *= resolution;
          canvas.width = Math.ceil(crop.width);
          canvas.height = Math.ceil(crop.height);
          context.save();
          context.globalCompositeOperation = "copy";
          context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
          context.restore();
          var arr = (0, Color.hex2rgb)(color);
          var b = arr[0];
          var a = arr[1];
          var r = arr[2];
          var img_data = context.getImageData(0, 0, crop.width, crop.height);
          var pixels = img_data.data;
          var i = 0;
          for (; i < pixels.length; i = i + 4) {
            pixels[i + 0] *= b;
            pixels[i + 1] *= a;
            pixels[i + 2] *= r;
          }
          context.putImageData(img_data, 0, 0);
        },
        roundColor : function(color) {
          var step = CanvasTinter.cacheStepsPerColorChannel;
          var rgbValues = (0, Color.hex2rgb)(color);
          return rgbValues[0] = Math.min(255, rgbValues[0] / step * step), rgbValues[1] = Math.min(255, rgbValues[1] / step * step), rgbValues[2] = Math.min(255, rgbValues[2] / step * step), (0, Color.rgb2hex)(rgbValues);
        },
        cacheStepsPerColorChannel : 8,
        convertTintToImage : false,
        canUseMultiply : (0, o.default)(),
        tintMethod : 0
      };
      CanvasTinter.tintMethod = CanvasTinter.canUseMultiply ? CanvasTinter.tintWithMultiply : CanvasTinter.tintWithPerPixel;
      exports.default = CanvasTinter;
    }, {
      "../../renderers/canvas/utils/canUseNewCanvasBlendModes" : 80,
      "../../utils" : 125
    }],
    105 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function C(e, t) {
        if (!(e instanceof t)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function x(data) {
          C(this, x);
          this.vertices = new ArrayBuffer(data);
          this.float32View = new Float32Array(this.vertices);
          this.uint32View = new Uint32Array(this.vertices);
        }
        return x.prototype.destroy = function() {
          this.vertices = null;
          this.positions = null;
          this.uvs = null;
          this.colors = null;
        }, x;
      }();
      exports.default = SuggestList;
    }, {}],
    106 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function get(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _normalizeDataUri = __webpack_require__("../../renderers/webgl/utils/ObjectRenderer");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("../../renderers/webgl/WebGLRenderer");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _classlist = __webpack_require__("../../utils/createIndicesForQuads");
      var _classlist2 = _interopRequireDefault(_classlist);
      var _UiRippleInk = __webpack_require__("./generateMultiTextureShader");
      var _UiRippleInk2 = _interopRequireDefault(_UiRippleInk);
      var _AboutPage = __webpack_require__("../../renderers/webgl/utils/checkMaxIfStatmentsInShader");
      var _AboutPage2 = _interopRequireDefault(_AboutPage);
      var _AppDownload = __webpack_require__("./BatchBuffer");
      var _AppDownload2 = _interopRequireDefault(_AppDownload);
      var _buildPageNumber = __webpack_require__("../../settings");
      var _buildPageNumber2 = _interopRequireDefault(_buildPageNumber);
      var config = __webpack_require__("../../utils");
      var _prepareStyleProperties = __webpack_require__("pixi-gl-core");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _deepAssign = __webpack_require__("bit-twiddle");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var TICK = 0;
      var TEXTURE_TICK = 0;
      var StarRatingComponent = function(parent) {
        function Application(name) {
          _classCallCheck(this, Application);
          var data = get(this, parent.call(this, name));
          data.vertSize = 5;
          data.vertByteSize = 4 * data.vertSize;
          data.size = _buildPageNumber2.default.SPRITE_BATCH_SIZE;
          data.buffers = [];
          var amount = 1;
          for (; amount <= _deepAssign2.default.nextPow2(data.size); amount = amount * 2) {
            data.buffers.push(new _AppDownload2.default(4 * amount * data.vertByteSize));
          }
          data.indices = (0, _classlist2.default)(data.size);
          data.shader = null;
          data.currentIndex = 0;
          data.groups = [];
          var k = 0;
          for (; k < data.size; k++) {
            data.groups[k] = {
              textures : [],
              textureCount : 0,
              ids : [],
              size : 0,
              start : 0,
              blend : 0
            };
          }
          return data.sprites = [], data.vertexBuffers = [], data.vaos = [], data.vaoMax = 2, data.vertexCount = 0, data.renderer.on("prerender", data.onPrerender, data), data;
        }
        return _inherits(Application, parent), Application.prototype.onContextChange = function() {
          var gl = this.renderer.gl;
          if (this.renderer.legacy) {
            this.MAX_TEXTURES = 1;
          } else {
            this.MAX_TEXTURES = Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), _buildPageNumber2.default.SPRITE_MAX_TEXTURES);
            this.MAX_TEXTURES = (0, _AboutPage2.default)(this.MAX_TEXTURES, gl);
          }
          this.shader = (0, _UiRippleInk2.default)(gl, this.MAX_TEXTURES);
          this.indexBuffer = _prepareStyleProperties2.default.GLBuffer.createIndexBuffer(gl, this.indices, gl.STATIC_DRAW);
          this.renderer.bindVao(null);
          var attrs = this.shader.attributes;
          var i = 0;
          for (; i < this.vaoMax; i++) {
            var vertexBuffer = this.vertexBuffers[i] = _prepareStyleProperties2.default.GLBuffer.createVertexBuffer(gl, null, gl.STREAM_DRAW);
            var vao = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(vertexBuffer, attrs.aVertexPosition, gl.FLOAT, false, this.vertByteSize, 0).addAttribute(vertexBuffer, attrs.aTextureCoord, gl.UNSIGNED_SHORT, true, this.vertByteSize, 8).addAttribute(vertexBuffer, attrs.aColor, gl.UNSIGNED_BYTE, true, this.vertByteSize, 12);
            if (attrs.aTextureId) {
              vao.addAttribute(vertexBuffer, attrs.aTextureId, gl.FLOAT, false, this.vertByteSize, 16);
            }
            this.vaos[i] = vao;
          }
          this.vao = this.vaos[0];
          this.currentBlendMode = 99999;
          this.boundTextures = new Array(this.MAX_TEXTURES);
        }, Application.prototype.onPrerender = function() {
          this.vertexCount = 0;
        }, Application.prototype.render = function(sprite) {
          if (this.currentIndex >= this.size) {
            this.flush();
          }
          if (sprite._texture._uvs) {
            this.sprites[this.currentIndex++] = sprite;
          }
        }, Application.prototype.flush = function() {
          if (0 !== this.currentIndex) {
            var gl = this.renderer.gl;
            var MAX_TEXTURES = this.MAX_TEXTURES;
            var np2 = _deepAssign2.default.nextPow2(this.currentIndex);
            var log2 = _deepAssign2.default.log2(np2);
            var buffer = this.buffers[log2];
            var sprites = this.sprites;
            var groups = this.groups;
            var float32View = buffer.float32View;
            var uint32View = buffer.uint32View;
            var all = this.boundTextures;
            var s = this.renderer.boundTextures;
            var touch = this.renderer.textureGC.count;
            var index = 0;
            var nextTexture = void 0;
            var currentTexture = void 0;
            var groupCount = 1;
            var textureCount = 0;
            var currentGroup = groups[0];
            var vertexData = void 0;
            var uvs = void 0;
            var blendMode = config.premultiplyBlendMode[sprites[0]._texture.baseTexture.premultipliedAlpha ? 1 : 0][sprites[0].blendMode];
            currentGroup.textureCount = 0;
            currentGroup.start = 0;
            currentGroup.blend = blendMode;
            TICK++;
            var i = void 0;
            i = 0;
            for (; i < MAX_TEXTURES; ++i) {
              var t = s[i];
              if (t._enabled !== TICK) {
                all[i] = t;
                t._virtalBoundId = i;
                t._enabled = TICK;
              } else {
                all[i] = this.renderer.emptyTextures[i];
              }
            }
            TICK++;
            i = 0;
            for (; i < this.currentIndex; ++i) {
              var sprite = sprites[i];
              sprites[i] = null;
              nextTexture = sprite._texture.baseTexture;
              var spriteBlendMode = config.premultiplyBlendMode[Number(nextTexture.premultipliedAlpha)][sprite.blendMode];
              if (blendMode !== spriteBlendMode && (blendMode = spriteBlendMode, currentTexture = null, textureCount = MAX_TEXTURES, TICK++), currentTexture !== nextTexture && (currentTexture = nextTexture, nextTexture._enabled !== TICK)) {
                if (textureCount === MAX_TEXTURES && (TICK++, currentGroup.size = i - currentGroup.start, textureCount = 0, currentGroup = groups[groupCount++], currentGroup.blend = blendMode, currentGroup.textureCount = 0, currentGroup.start = i), nextTexture.touched = touch, -1 === nextTexture._virtalBoundId) {
                  var j = 0;
                  for (; j < MAX_TEXTURES; ++j) {
                    var tIndex = (j + TEXTURE_TICK) % MAX_TEXTURES;
                    var t = all[tIndex];
                    if (t._enabled !== TICK) {
                      TEXTURE_TICK++;
                      t._virtalBoundId = -1;
                      nextTexture._virtalBoundId = tIndex;
                      all[tIndex] = nextTexture;
                      break;
                    }
                  }
                }
                nextTexture._enabled = TICK;
                currentGroup.textureCount++;
                currentGroup.ids[textureCount] = nextTexture._virtalBoundId;
                currentGroup.textures[textureCount++] = nextTexture;
              }
              if (vertexData = sprite.vertexData, uvs = sprite._texture._uvs.uvsUint32, this.renderer.roundPixels) {
                var resolution = this.renderer.resolution;
                float32View[index] = (vertexData[0] * resolution | 0) / resolution;
                float32View[index + 1] = (vertexData[1] * resolution | 0) / resolution;
                float32View[index + 5] = (vertexData[2] * resolution | 0) / resolution;
                float32View[index + 6] = (vertexData[3] * resolution | 0) / resolution;
                float32View[index + 10] = (vertexData[4] * resolution | 0) / resolution;
                float32View[index + 11] = (vertexData[5] * resolution | 0) / resolution;
                float32View[index + 15] = (vertexData[6] * resolution | 0) / resolution;
                float32View[index + 16] = (vertexData[7] * resolution | 0) / resolution;
              } else {
                float32View[index] = vertexData[0];
                float32View[index + 1] = vertexData[1];
                float32View[index + 5] = vertexData[2];
                float32View[index + 6] = vertexData[3];
                float32View[index + 10] = vertexData[4];
                float32View[index + 11] = vertexData[5];
                float32View[index + 15] = vertexData[6];
                float32View[index + 16] = vertexData[7];
              }
              uint32View[index + 2] = uvs[0];
              uint32View[index + 7] = uvs[1];
              uint32View[index + 12] = uvs[2];
              uint32View[index + 17] = uvs[3];
              var alpha = Math.min(sprite.worldAlpha, 1);
              var argb = alpha < 1 && nextTexture.premultipliedAlpha ? (0, config.premultiplyTint)(sprite._tintRGB, alpha) : sprite._tintRGB + (255 * alpha << 24);
              uint32View[index + 3] = uint32View[index + 8] = uint32View[index + 13] = uint32View[index + 18] = argb;
              float32View[index + 4] = float32View[index + 9] = float32View[index + 14] = float32View[index + 19] = nextTexture._virtalBoundId;
              index = index + 20;
            }
            if (currentGroup.size = i - currentGroup.start, _buildPageNumber2.default.CAN_UPLOAD_SAME_BUFFER) {
              this.vertexBuffers[this.vertexCount].upload(buffer.vertices, 0, true);
            } else {
              if (this.vaoMax <= this.vertexCount) {
                this.vaoMax++;
                var attrs = this.shader.attributes;
                var vertexBuffer = this.vertexBuffers[this.vertexCount] = _prepareStyleProperties2.default.GLBuffer.createVertexBuffer(gl, null, gl.STREAM_DRAW);
                var vao = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(vertexBuffer, attrs.aVertexPosition, gl.FLOAT, false, this.vertByteSize, 0).addAttribute(vertexBuffer, attrs.aTextureCoord, gl.UNSIGNED_SHORT, true, this.vertByteSize, 8).addAttribute(vertexBuffer, attrs.aColor, gl.UNSIGNED_BYTE, true, this.vertByteSize, 12);
                if (attrs.aTextureId) {
                  vao.addAttribute(vertexBuffer, attrs.aTextureId, gl.FLOAT, false, this.vertByteSize, 16);
                }
                this.vaos[this.vertexCount] = vao;
              }
              this.renderer.bindVao(this.vaos[this.vertexCount]);
              this.vertexBuffers[this.vertexCount].upload(buffer.vertices, 0, false);
              this.vertexCount++;
            }
            i = 0;
            for (; i < MAX_TEXTURES; ++i) {
              s[i]._virtalBoundId = -1;
            }
            i = 0;
            for (; i < groupCount; ++i) {
              var group = groups[i];
              var groupTextureCount = group.textureCount;
              var j = 0;
              for (; j < groupTextureCount; j++) {
                currentTexture = group.textures[j];
                if (s[group.ids[j]] !== currentTexture) {
                  this.renderer.bindTexture(currentTexture, group.ids[j], true);
                }
                currentTexture._virtalBoundId = -1;
              }
              this.renderer.state.setBlendMode(group.blend);
              gl.drawElements(gl.TRIANGLES, 6 * group.size, gl.UNSIGNED_SHORT, 6 * group.start * 2);
            }
            this.currentIndex = 0;
          }
        }, Application.prototype.start = function() {
          this.renderer.bindShader(this.shader);
          if (_buildPageNumber2.default.CAN_UPLOAD_SAME_BUFFER) {
            this.renderer.bindVao(this.vaos[this.vertexCount]);
            this.vertexBuffers[this.vertexCount].bind();
          }
        }, Application.prototype.stop = function() {
          this.flush();
        }, Application.prototype.destroy = function() {
          var i = 0;
          for (; i < this.vaoMax; i++) {
            if (this.vertexBuffers[i]) {
              this.vertexBuffers[i].destroy();
            }
            if (this.vaos[i]) {
              this.vaos[i].destroy();
            }
          }
          if (this.indexBuffer) {
            this.indexBuffer.destroy();
          }
          this.renderer.off("prerender", this.onPrerender, this);
          parent.prototype.destroy.call(this);
          if (this.shader) {
            this.shader.destroy();
            this.shader = null;
          }
          this.vertexBuffers = null;
          this.vaos = null;
          this.indexBuffer = null;
          this.indices = null;
          this.sprites = null;
          var j = 0;
          for (; j < this.buffers.length; ++j) {
            this.buffers[j].destroy();
          }
        }, Application;
      }(_normalizeDataUri2.default);
      exports.default = StarRatingComponent;
      _UiIcon2.default.registerPlugin("sprite", StarRatingComponent);
    }, {
      "../../renderers/webgl/WebGLRenderer" : 84,
      "../../renderers/webgl/utils/ObjectRenderer" : 94,
      "../../renderers/webgl/utils/checkMaxIfStatmentsInShader" : 97,
      "../../settings" : 101,
      "../../utils" : 125,
      "../../utils/createIndicesForQuads" : 123,
      "./BatchBuffer" : 105,
      "./generateMultiTextureShader" : 107,
      "bit-twiddle" : 1,
      "pixi-gl-core" : 15
    }],
    107 : [function($, canCreateDiscussions, exports) {
      function render(name, e) {
        var m = matrixUtil;
        m = m.replace(/%count%/gi, e);
        m = m.replace(/%forloop%/gi, replace(e));
        var node = new tag.default(name, "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n", m);
        var sampleValues = [];
        var i = 0;
        for (; i < e; i++) {
          sampleValues[i] = i;
        }
        return node.bind(), node.uniforms.uSamplers = sampleValues, node;
      }
      function replace(width) {
        var s = "";
        s = s + "\n";
        s = s + "\n";
        var x = 0;
        for (; x < width; x++) {
          if (x > 0) {
            s = s + "\nelse ";
          }
          if (x < width - 1) {
            s = s + ("if(textureId == " + x + ".0)");
          }
          s = s + "\n{";
          s = s + ("\n\tcolor = texture2D(uSamplers[" + x + "], vTextureCoord);");
          s = s + "\n}";
        }
        return s = s + "\n", s = s + "\n";
      }
      exports.__esModule = true;
      exports.default = render;
      var todo = $("../../Shader");
      var tag = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(todo);
      var matrixUtil = ($("path"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureId;", "uniform sampler2D uSamplers[%count%];", "void main(void){", "vec4 color;", "float textureId = floor(vTextureId+0.5);", "%forloop%", "gl_FragColor = color * vColor;", "}"].join("\n"));
    }, {
      "../../Shader" : 44,
      path : 8
    }],
    108 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function test(res, status) {
        if (!(res instanceof status)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function $(fn, t) {
        if (!fn) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? fn : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var getAndSetData = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _UiIcon = __webpack_require__("../sprites/Sprite");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _prepareStyleProperties = __webpack_require__("../textures/Texture");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var Chart = __webpack_require__("../math");
      var signaturePacket = __webpack_require__("../utils");
      var _UiRippleInk = __webpack_require__("../const");
      var _normalizeDataUri = __webpack_require__("../settings");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _Collection = __webpack_require__("./TextStyle");
      var _Collection2 = _interopRequireDefault(_Collection);
      var _deepAssign = __webpack_require__("./TextMetrics");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _AboutPage = __webpack_require__("../utils/trimCanvas");
      var _AboutPage2 = _interopRequireDefault(_AboutPage);
      var data = {
        texture : true,
        children : false,
        baseTexture : true
      };
      var SuggestList = function(Sprite) {
        function Text(val, style, canvas) {
          test(this, Text);
          canvas = canvas || document.createElement("canvas");
          canvas.width = 3;
          canvas.height = 3;
          var el = _prepareStyleProperties2.default.fromCanvas(canvas, _normalizeDataUri2.default.SCALE_MODE, "text");
          el.orig = new Chart.Rectangle;
          el.trim = new Chart.Rectangle;
          var self = $(this, Sprite.call(this, el));
          return _prepareStyleProperties2.default.addToCache(self._texture, self._texture.baseTexture.textureCacheIds[0]), self.canvas = canvas, self.context = self.canvas.getContext("2d"), self.resolution = _normalizeDataUri2.default.RESOLUTION, self._text = null, self._style = null, self._styleListener = null, self._font = "", self.text = val, self.style = style, self.localStyleID = -1, self;
        }
        return _inherits(Text, Sprite), Text.prototype.updateText = function(respectDirty) {
          var style = this._style;
          if (this.localStyleID !== style.styleID && (this.dirty = true, this.localStyleID = style.styleID), this.dirty || !respectDirty) {
            this._font = this._style.toFontString();
            var context = this.context;
            var me = _deepAssign2.default.measureText(this._text, this._style, this._style.wordWrap, this.canvas);
            var line = me.width;
            var o = me.height;
            var lines = me.lines;
            var height = me.lineHeight;
            var lineWidths = me.lineWidths;
            var maxLineWidth = me.maxLineWidth;
            var fontProps = me.fontProperties;
            this.canvas.width = Math.ceil((Math.max(1, line) + 2 * style.padding) * this.resolution);
            this.canvas.height = Math.ceil((Math.max(1, o) + 2 * style.padding) * this.resolution);
            context.scale(this.resolution, this.resolution);
            context.clearRect(0, 0, this.canvas.width, this.canvas.height);
            context.font = this._font;
            context.strokeStyle = style.stroke;
            context.lineWidth = style.strokeThickness;
            context.textBaseline = style.textBaseline;
            context.lineJoin = style.lineJoin;
            context.miterLimit = style.miterLimit;
            var linePositionX = void 0;
            var linePositionY = void 0;
            if (style.dropShadow) {
              context.fillStyle = style.dropShadowColor;
              context.globalAlpha = style.dropShadowAlpha;
              context.shadowBlur = style.dropShadowBlur;
              if (style.dropShadowBlur > 0) {
                context.shadowColor = style.dropShadowColor;
              }
              var xShadowOffset = Math.cos(style.dropShadowAngle) * style.dropShadowDistance;
              var yShadowOffset = Math.sin(style.dropShadowAngle) * style.dropShadowDistance;
              var i = 0;
              for (; i < lines.length; i++) {
                linePositionX = style.strokeThickness / 2;
                linePositionY = style.strokeThickness / 2 + i * height + fontProps.ascent;
                if ("right" === style.align) {
                  linePositionX = linePositionX + (maxLineWidth - lineWidths[i]);
                } else {
                  if ("center" === style.align) {
                    linePositionX = linePositionX + (maxLineWidth - lineWidths[i]) / 2;
                  }
                }
                if (style.fill) {
                  this.drawLetterSpacing(lines[i], linePositionX + xShadowOffset + style.padding, linePositionY + yShadowOffset + style.padding);
                  if (style.stroke && style.strokeThickness) {
                    context.strokeStyle = style.dropShadowColor;
                    this.drawLetterSpacing(lines[i], linePositionX + xShadowOffset + style.padding, linePositionY + yShadowOffset + style.padding, true);
                    context.strokeStyle = style.stroke;
                  }
                }
              }
            }
            context.shadowBlur = 0;
            context.globalAlpha = 1;
            context.fillStyle = this._generateFillStyle(style, lines);
            var i = 0;
            for (; i < lines.length; i++) {
              linePositionX = style.strokeThickness / 2;
              linePositionY = style.strokeThickness / 2 + i * height + fontProps.ascent;
              if ("right" === style.align) {
                linePositionX = linePositionX + (maxLineWidth - lineWidths[i]);
              } else {
                if ("center" === style.align) {
                  linePositionX = linePositionX + (maxLineWidth - lineWidths[i]) / 2;
                }
              }
              if (style.stroke && style.strokeThickness) {
                this.drawLetterSpacing(lines[i], linePositionX + style.padding, linePositionY + style.padding, true);
              }
              if (style.fill) {
                this.drawLetterSpacing(lines[i], linePositionX + style.padding, linePositionY + style.padding);
              }
            }
            this.updateTexture();
          }
        }, Text.prototype.drawLetterSpacing = function(value, x, y) {
          var forceExit = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
          var style = this._style;
          var letterSpacing = style.letterSpacing;
          if (0 === letterSpacing) {
            return void(forceExit ? this.context.strokeText(value, x, y) : this.context.fillText(value, x, y));
          }
          var result = String.prototype.split.call(value, "");
          var currentPosition = x;
          var i = 0;
          var text = "";
          for (; i < value.length;) {
            text = result[i++];
            if (forceExit) {
              this.context.strokeText(text, currentPosition, y);
            } else {
              this.context.fillText(text, currentPosition, y);
            }
            currentPosition = currentPosition + (this.context.measureText(text).width + letterSpacing);
          }
        }, Text.prototype.updateTexture = function() {
          var canvas = this.canvas;
          if (this._style.trim) {
            var d = (0, _AboutPage2.default)(canvas);
            if (d.data) {
              canvas.width = d.width;
              canvas.height = d.height;
              this.context.putImageData(d.data, 0, 0);
            }
          }
          var texture = this._texture;
          var style = this._style;
          var margin = style.trim ? 0 : style.padding;
          var _this = texture.baseTexture;
          _this.hasLoaded = true;
          _this.resolution = this.resolution;
          _this.realWidth = canvas.width;
          _this.realHeight = canvas.height;
          _this.width = canvas.width / this.resolution;
          _this.height = canvas.height / this.resolution;
          texture.trim.width = texture._frame.width = canvas.width / this.resolution;
          texture.trim.height = texture._frame.height = canvas.height / this.resolution;
          texture.trim.x = -margin;
          texture.trim.y = -margin;
          texture.orig.width = texture._frame.width - 2 * margin;
          texture.orig.height = texture._frame.height - 2 * margin;
          this._onTextureUpdate();
          _this.emit("update", _this);
          this.dirty = false;
        }, Text.prototype.renderWebGL = function(renderer) {
          if (this.resolution !== renderer.resolution) {
            this.resolution = renderer.resolution;
            this.dirty = true;
          }
          this.updateText(true);
          Sprite.prototype.renderWebGL.call(this, renderer);
        }, Text.prototype._renderCanvas = function(renderer) {
          if (this.resolution !== renderer.resolution) {
            this.resolution = renderer.resolution;
            this.dirty = true;
          }
          this.updateText(true);
          Sprite.prototype._renderCanvas.call(this, renderer);
        }, Text.prototype.getLocalBounds = function(rect) {
          return this.updateText(true), Sprite.prototype.getLocalBounds.call(this, rect);
        }, Text.prototype._calculateBounds = function() {
          this.updateText(true);
          this.calculateVertices();
          this._bounds.addQuad(this.vertexData);
        }, Text.prototype._onStyleChange = function() {
          this.dirty = true;
        }, Text.prototype._generateFillStyle = function(style, lines) {
          if (!Array.isArray(style.fill)) {
            return style.fill;
          }
          if (navigator.isCocoonJS) {
            return style.fill[0];
          }
          var gradient = void 0;
          var articleArea = void 0;
          var childFloatArea = void 0;
          var i = void 0;
          var width = this.canvas.width / this.resolution;
          var height = this.canvas.height / this.resolution;
          var palette = style.fill.slice();
          var fillGradientStops = style.fillGradientStops.slice();
          if (!fillGradientStops.length) {
            var lengthPlus1 = palette.length + 1;
            var i = 1;
            for (; i < lengthPlus1; ++i) {
              fillGradientStops.push(i / lengthPlus1);
            }
          }
          if (palette.unshift(style.fill[0]), fillGradientStops.unshift(0), palette.push(style.fill[style.fill.length - 1]), fillGradientStops.push(1), style.fillGradientType === _UiRippleInk.TEXT_GRADIENT.LINEAR_VERTICAL) {
            gradient = this.context.createLinearGradient(width / 2, 0, width / 2, height);
            articleArea = (palette.length + 1) * lines.length;
            childFloatArea = 0;
            var lineno = 0;
            for (; lineno < lines.length; lineno++) {
              childFloatArea = childFloatArea + 1;
              var j = 0;
              for (; j < palette.length; j++) {
                i = "number" == typeof fillGradientStops[j] ? fillGradientStops[j] / lines.length + lineno / lines.length : childFloatArea / articleArea;
                gradient.addColorStop(i, palette[j]);
                childFloatArea++;
              }
            }
          } else {
            gradient = this.context.createLinearGradient(0, height / 2, width, height / 2);
            articleArea = palette.length + 1;
            childFloatArea = 1;
            var j = 0;
            for (; j < palette.length; j++) {
              i = "number" == typeof fillGradientStops[j] ? fillGradientStops[j] : childFloatArea / articleArea;
              gradient.addColorStop(i, palette[j]);
              childFloatArea++;
            }
          }
          return gradient;
        }, Text.prototype.destroy = function(obj) {
          if ("boolean" == typeof obj) {
            obj = {
              children : obj
            };
          }
          obj = Object.assign({}, data, obj);
          Sprite.prototype.destroy.call(this, obj);
          this.context = null;
          this.canvas = null;
          this._style = null;
        }, getAndSetData(Text, [{
          key : "width",
          get : function() {
            return this.updateText(true), Math.abs(this.scale.x) * this._texture.orig.width;
          },
          set : function(value) {
            this.updateText(true);
            var s = (0, signaturePacket.sign)(this.scale.x) || 1;
            this.scale.x = s * value / this._texture.orig.width;
            this._width = value;
          }
        }, {
          key : "height",
          get : function() {
            return this.updateText(true), Math.abs(this.scale.y) * this._texture.orig.height;
          },
          set : function(value) {
            this.updateText(true);
            var s = (0, signaturePacket.sign)(this.scale.y) || 1;
            this.scale.y = s * value / this._texture.orig.height;
            this._height = value;
          }
        }, {
          key : "style",
          get : function() {
            return this._style;
          },
          set : function(value) {
            value = value || {};
            if (value instanceof _Collection2.default) {
              this._style = value;
            } else {
              this._style = new _Collection2.default(value);
            }
            this.localStyleID = -1;
            this.dirty = true;
          }
        }, {
          key : "text",
          get : function() {
            return this._text;
          },
          set : function(value) {
            value = String("" === value || null === value || void 0 === value ? " " : value);
            if (this._text !== value) {
              this._text = value;
              this.dirty = true;
            }
          }
        }]), Text;
      }(_UiIcon2.default);
      exports.default = SuggestList;
    }, {
      "../const" : 46,
      "../math" : 70,
      "../settings" : 101,
      "../sprites/Sprite" : 102,
      "../textures/Texture" : 115,
      "../utils" : 125,
      "../utils/trimCanvas" : 130,
      "./TextMetrics" : 109,
      "./TextStyle" : 110
    }],
    109 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function assert(expr, val) {
        if (!(expr instanceof val)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var content = function() {
        function text(value, style, size, height, lines, ctx, lineHeight, maxLineWidth, fontProperties) {
          assert(this, text);
          this.text = value;
          this.style = style;
          this.width = size;
          this.height = height;
          this.lines = lines;
          this.lineWidths = ctx;
          this.lineHeight = lineHeight;
          this.maxLineWidth = maxLineWidth;
          this.fontProperties = fontProperties;
        }
        return text.measureText = function(str, style, val) {
          var canvas = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : text._canvas;
          val = void 0 === val || null === val ? style.wordWrap : val;
          var font = style.toFontString();
          var fontProperties = text.measureFont(font);
          var ctx = canvas.getContext("2d");
          ctx.font = font;
          var date = val ? text.wordWrap(str, style, canvas) : str;
          var lines = date.split(/(?:\r\n|\r|\n)/);
          var colorArray = new Array(lines.length);
          var h = 0;
          var i = 0;
          for (; i < lines.length; i++) {
            var b = ctx.measureText(lines[i]).width + (lines[i].length - 1) * style.letterSpacing;
            colorArray[i] = b;
            h = Math.max(h, b);
          }
          var height = h + style.strokeThickness;
          if (style.dropShadow) {
            height = height + style.dropShadowDistance;
          }
          var y = style.lineHeight || fontProperties.fontSize + style.strokeThickness;
          var width = Math.max(y, fontProperties.fontSize + style.strokeThickness) + (lines.length - 1) * (y + style.leading);
          return style.dropShadow && (width = width + style.dropShadowDistance), new text(str, style, height, width, lines, colorArray, y + style.leading, h, fontProperties);
        }, text.wordWrap = function(input, style) {
          var canvasWorker = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : text._canvas;
          var settings = canvasWorker.getContext("2d");
          var str = 0;
          var s = "";
          var score = "";
          var result = {};
          var r = style.letterSpacing;
          var string = style.whiteSpace;
          var a = text.collapseSpaces(string);
          var packetID = text.collapseNewlines(string);
          var booA = !a;
          var footerId = style.wordWrapWidth + r;
          var current = text.tokenize(input);
          var b = 0;
          for (; b < current.length; b++) {
            var y = current[b];
            if (text.isNewline(y)) {
              if (!packetID) {
                score = score + text.addLine(s);
                booA = !a;
                s = "";
                str = 0;
                continue;
              }
              y = " ";
            }
            if (a) {
              var reverseIsSingle = text.isBreakingSpace(y);
              var reverseValue = text.isBreakingSpace(s[s.length - 1]);
              if (reverseIsSingle && reverseValue) {
                continue;
              }
            }
            var c = text.getFromCache(y, r, result, settings);
            if (c > footerId) {
              if ("" !== s && (score = score + text.addLine(s), s = "", str = 0), text.canBreakWords(y, style.breakWords)) {
                var a = y.split("");
                var i = 0;
                for (; i < a.length; i++) {
                  var url = a[i];
                  var j = 1;
                  for (; a[i + j];) {
                    var start = a[i + j];
                    var part = url[url.length - 1];
                    if (text.canBreakChars(part, start, y, i, style.breakWords)) {
                      break;
                    }
                    url = url + start;
                    j++;
                  }
                  i = i + (url.length - 1);
                  var m = text.getFromCache(url, r, result, settings);
                  if (m + str > footerId) {
                    score = score + text.addLine(s);
                    booA = false;
                    s = "";
                    str = 0;
                  }
                  s = s + url;
                  str = str + m;
                }
              } else {
                if (s.length > 0) {
                  score = score + text.addLine(s);
                  s = "";
                  str = 0;
                }
                var explicitDepth = b === current.length - 1;
                score = score + text.addLine(y, !explicitDepth);
                booA = false;
                s = "";
                str = 0;
              }
            } else {
              if (c + str > footerId) {
                booA = false;
                score = score + text.addLine(s);
                s = "";
                str = 0;
              }
              if (s.length > 0 || !text.isBreakingSpace(y) || booA) {
                s = s + y;
                str = str + c;
              }
            }
          }
          return score = score + text.addLine(s, false);
        }, text.addLine = function(s) {
          var tooLong = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
          return s = text.trimRight(s), s = tooLong ? s + "\n" : s;
        }, text.getFromCache = function(name, width, ids, parent) {
          var m = ids[name];
          if (void 0 === m) {
            var offset = name.length * width;
            m = parent.measureText(name).width + offset;
            ids[name] = m;
          }
          return m;
        }, text.collapseSpaces = function(type) {
          return "normal" === type || "pre-line" === type;
        }, text.collapseNewlines = function(type) {
          return "normal" === type;
        }, text.trimRight = function(s) {
          if ("string" != typeof s) {
            return "";
          }
          var i = s.length - 1;
          for (; i >= 0; i--) {
            var letter = s[i];
            if (!text.isBreakingSpace(letter)) {
              break;
            }
            s = s.slice(0, -1);
          }
          return s;
        }, text.isNewline = function(str) {
          return "string" == typeof str && text._newlines.indexOf(str.charCodeAt(0)) >= 0;
        }, text.isBreakingSpace = function(str) {
          return "string" == typeof str && text._breakingSpaces.indexOf(str.charCodeAt(0)) >= 0;
        }, text.tokenize = function(token) {
          var results = [];
          var value = "";
          if ("string" != typeof token) {
            return results;
          }
          var index = 0;
          for (; index < token.length; index++) {
            var key = token[index];
            if (text.isBreakingSpace(key) || text.isNewline(key)) {
              if ("" !== value) {
                results.push(value);
                value = "";
              }
              results.push(key);
            } else {
              value = value + key;
            }
          }
          return "" !== value && results.push(value), results;
        }, text.canBreakWords = function(t, xgh2) {
          return xgh2;
        }, text.canBreakChars = function(range, mark, label, id, highlightAssociated) {
          return true;
        }, text.measureFont = function(font) {
          if (text._fonts[font]) {
            return text._fonts[font];
          }
          var properties = {};
          var c = text._canvas;
          var ctx = text._context;
          ctx.font = font;
          var theChar = text.METRICS_STRING + text.BASELINE_SYMBOL;
          var width = Math.ceil(ctx.measureText(theChar).width);
          var baseline = Math.ceil(ctx.measureText(text.BASELINE_SYMBOL).width);
          var height = 2 * baseline;
          baseline = baseline * text.BASELINE_MULTIPLIER | 0;
          c.width = width;
          c.height = height;
          ctx.fillStyle = "#f00";
          ctx.fillRect(0, 0, width, height);
          ctx.font = font;
          ctx.textBaseline = "alphabetic";
          ctx.fillStyle = "#000";
          ctx.fillText(theChar, 0, baseline);
          var data = ctx.getImageData(0, 0, width, height).data;
          var l = data.length;
          var offset = 4 * width;
          var i = 0;
          var y = 0;
          var p = false;
          i = 0;
          for (; i < baseline; ++i) {
            var k = 0;
            for (; k < offset; k = k + 4) {
              if (255 !== data[y + k]) {
                p = true;
                break;
              }
            }
            if (p) {
              break;
            }
            y = y + offset;
          }
          properties.ascent = baseline - i;
          y = l - offset;
          p = false;
          i = height;
          for (; i > baseline; --i) {
            var k = 0;
            for (; k < offset; k = k + 4) {
              if (255 !== data[y + k]) {
                p = true;
                break;
              }
            }
            if (p) {
              break;
            }
            y = y - offset;
          }
          return properties.descent = i - baseline, properties.fontSize = properties.ascent + properties.descent, text._fonts[font] = properties, properties;
        }, text.clearMetrics = function() {
          var font = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
          if (font) {
            delete text._fonts[font];
          } else {
            text._fonts = {};
          }
        }, text;
      }();
      exports.default = content;
      var c = document.createElement("canvas");
      c.width = c.height = 10;
      content._canvas = c;
      content._context = c.getContext("2d");
      content._fonts = {};
      content.METRICS_STRING = "|\u00c3\u2030q";
      content.BASELINE_SYMBOL = "M";
      content.BASELINE_MULTIPLIER = 1.4;
      content._newlines = [10, 13];
      content._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288];
    }, {}],
    110 : [function(require, canCreateDiscussions, exports) {
      function _get(r, f) {
        if (!(r instanceof f)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function getValue(value) {
        return "number" == typeof value ? (0, Utils.hex2string)(value) : ("string" == typeof value && 0 === value.indexOf("0x") && (value = value.replace("0x", "#")), value);
      }
      function getColor(data) {
        if (Array.isArray(data)) {
          var i = 0;
          for (; i < data.length; ++i) {
            data[i] = getValue(data[i]);
          }
          return data;
        }
        return getValue(data);
      }
      function areArraysEqual(b, a) {
        if (!Array.isArray(b) || !Array.isArray(a)) {
          return false;
        }
        if (b.length !== a.length) {
          return false;
        }
        var i = 0;
        for (; i < b.length; ++i) {
          if (b[i] !== a[i]) {
            return false;
          }
        }
        return true;
      }
      function extend(a, b, options) {
        var prop;
        for (prop in options) {
          if (Array.isArray(b[prop])) {
            a[prop] = b[prop].slice();
          } else {
            a[prop] = b[prop];
          }
        }
      }
      exports.__esModule = true;
      var isSourcedFromRequire = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var TagHourlyStat = require("../const");
      var Utils = require("../utils");
      var options = {
        align : "left",
        breakWords : false,
        dropShadow : false,
        dropShadowAlpha : 1,
        dropShadowAngle : Math.PI / 6,
        dropShadowBlur : 0,
        dropShadowColor : "black",
        dropShadowDistance : 5,
        fill : "black",
        fillGradientType : TagHourlyStat.TEXT_GRADIENT.LINEAR_VERTICAL,
        fillGradientStops : [],
        fontFamily : "Arial",
        fontSize : 26,
        fontStyle : "normal",
        fontVariant : "normal",
        fontWeight : "normal",
        letterSpacing : 0,
        lineHeight : 0,
        lineJoin : "miter",
        miterLimit : 10,
        padding : 0,
        stroke : "black",
        strokeThickness : 0,
        textBaseline : "alphabetic",
        trim : false,
        whiteSpace : "pre",
        wordWrap : false,
        wordWrapWidth : 100,
        leading : 0
      };
      var _aFallbackFonts = ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui"];
      var SuggestList = function() {
        function init(properties) {
          _get(this, init);
          this.styleID = 0;
          this.reset();
          extend(this, properties, properties);
        }
        return init.prototype.clone = function() {
          var params = {};
          return extend(params, this, options), new init(params);
        }, init.prototype.reset = function() {
          extend(this, options, options);
        }, init.prototype.toFontString = function() {
          var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize;
          var groups = this.fontFamily;
          if (!Array.isArray(this.fontFamily)) {
            groups = this.fontFamily.split(",");
          }
          var i = groups.length - 1;
          for (; i >= 0; i--) {
            var key = groups[i].trim();
            if (!/(["'])[^'"]+\1/.test(key) && _aFallbackFonts.indexOf(key) < 0) {
              key = '"' + key + '"';
            }
            groups[i] = key;
          }
          return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + groups.join(",");
        }, isSourcedFromRequire(init, [{
          key : "align",
          get : function() {
            return this._align;
          },
          set : function(value) {
            if (this._align !== value) {
              this._align = value;
              this.styleID++;
            }
          }
        }, {
          key : "breakWords",
          get : function() {
            return this._breakWords;
          },
          set : function(target) {
            if (this._breakWords !== target) {
              this._breakWords = target;
              this.styleID++;
            }
          }
        }, {
          key : "dropShadow",
          get : function() {
            return this._dropShadow;
          },
          set : function(value) {
            if (this._dropShadow !== value) {
              this._dropShadow = value;
              this.styleID++;
            }
          }
        }, {
          key : "dropShadowAlpha",
          get : function() {
            return this._dropShadowAlpha;
          },
          set : function(target) {
            if (this._dropShadowAlpha !== target) {
              this._dropShadowAlpha = target;
              this.styleID++;
            }
          }
        }, {
          key : "dropShadowAngle",
          get : function() {
            return this._dropShadowAngle;
          },
          set : function(target) {
            if (this._dropShadowAngle !== target) {
              this._dropShadowAngle = target;
              this.styleID++;
            }
          }
        }, {
          key : "dropShadowBlur",
          get : function() {
            return this._dropShadowBlur;
          },
          set : function(target) {
            if (this._dropShadowBlur !== target) {
              this._dropShadowBlur = target;
              this.styleID++;
            }
          }
        }, {
          key : "dropShadowColor",
          get : function() {
            return this._dropShadowColor;
          },
          set : function(type) {
            var outputColor = getColor(type);
            if (this._dropShadowColor !== outputColor) {
              this._dropShadowColor = outputColor;
              this.styleID++;
            }
          }
        }, {
          key : "dropShadowDistance",
          get : function() {
            return this._dropShadowDistance;
          },
          set : function(target) {
            if (this._dropShadowDistance !== target) {
              this._dropShadowDistance = target;
              this.styleID++;
            }
          }
        }, {
          key : "fill",
          get : function() {
            return this._fill;
          },
          set : function(type) {
            var fill = getColor(type);
            if (this._fill !== fill) {
              this._fill = fill;
              this.styleID++;
            }
          }
        }, {
          key : "fillGradientType",
          get : function() {
            return this._fillGradientType;
          },
          set : function(target) {
            if (this._fillGradientType !== target) {
              this._fillGradientType = target;
              this.styleID++;
            }
          }
        }, {
          key : "fillGradientStops",
          get : function() {
            return this._fillGradientStops;
          },
          set : function(target) {
            if (!areArraysEqual(this._fillGradientStops, target)) {
              this._fillGradientStops = target;
              this.styleID++;
            }
          }
        }, {
          key : "fontFamily",
          get : function() {
            return this._fontFamily;
          },
          set : function(value) {
            if (this.fontFamily !== value) {
              this._fontFamily = value;
              this.styleID++;
            }
          }
        }, {
          key : "fontSize",
          get : function() {
            return this._fontSize;
          },
          set : function(value) {
            if (this._fontSize !== value) {
              this._fontSize = value;
              this.styleID++;
            }
          }
        }, {
          key : "fontStyle",
          get : function() {
            return this._fontStyle;
          },
          set : function(value) {
            if (this._fontStyle !== value) {
              this._fontStyle = value;
              this.styleID++;
            }
          }
        }, {
          key : "fontVariant",
          get : function() {
            return this._fontVariant;
          },
          set : function(value) {
            if (this._fontVariant !== value) {
              this._fontVariant = value;
              this.styleID++;
            }
          }
        }, {
          key : "fontWeight",
          get : function() {
            return this._fontWeight;
          },
          set : function(target) {
            if (this._fontWeight !== target) {
              this._fontWeight = target;
              this.styleID++;
            }
          }
        }, {
          key : "letterSpacing",
          get : function() {
            return this._letterSpacing;
          },
          set : function(target) {
            if (this._letterSpacing !== target) {
              this._letterSpacing = target;
              this.styleID++;
            }
          }
        }, {
          key : "lineHeight",
          get : function() {
            return this._lineHeight;
          },
          set : function(value) {
            if (this._lineHeight !== value) {
              this._lineHeight = value;
              this.styleID++;
            }
          }
        }, {
          key : "leading",
          get : function() {
            return this._leading;
          },
          set : function(value) {
            if (this._leading !== value) {
              this._leading = value;
              this.styleID++;
            }
          }
        }, {
          key : "lineJoin",
          get : function() {
            return this._lineJoin;
          },
          set : function(target) {
            if (this._lineJoin !== target) {
              this._lineJoin = target;
              this.styleID++;
            }
          }
        }, {
          key : "miterLimit",
          get : function() {
            return this._miterLimit;
          },
          set : function(target) {
            if (this._miterLimit !== target) {
              this._miterLimit = target;
              this.styleID++;
            }
          }
        }, {
          key : "padding",
          get : function() {
            return this._padding;
          },
          set : function(value) {
            if (this._padding !== value) {
              this._padding = value;
              this.styleID++;
            }
          }
        }, {
          key : "stroke",
          get : function() {
            return this._stroke;
          },
          set : function(type) {
            var outputColor = getColor(type);
            if (this._stroke !== outputColor) {
              this._stroke = outputColor;
              this.styleID++;
            }
          }
        }, {
          key : "strokeThickness",
          get : function() {
            return this._strokeThickness;
          },
          set : function(target) {
            if (this._strokeThickness !== target) {
              this._strokeThickness = target;
              this.styleID++;
            }
          }
        }, {
          key : "textBaseline",
          get : function() {
            return this._textBaseline;
          },
          set : function(target) {
            if (this._textBaseline !== target) {
              this._textBaseline = target;
              this.styleID++;
            }
          }
        }, {
          key : "trim",
          get : function() {
            return this._trim;
          },
          set : function(target) {
            if (this._trim !== target) {
              this._trim = target;
              this.styleID++;
            }
          }
        }, {
          key : "whiteSpace",
          get : function() {
            return this._whiteSpace;
          },
          set : function(value) {
            if (this._whiteSpace !== value) {
              this._whiteSpace = value;
              this.styleID++;
            }
          }
        }, {
          key : "wordWrap",
          get : function() {
            return this._wordWrap;
          },
          set : function(value) {
            if (this._wordWrap !== value) {
              this._wordWrap = value;
              this.styleID++;
            }
          }
        }, {
          key : "wordWrapWidth",
          get : function() {
            return this._wordWrapWidth;
          },
          set : function(target) {
            if (this._wordWrapWidth !== target) {
              this._wordWrapWidth = target;
              this.styleID++;
            }
          }
        }]), init;
      }();
      exports.default = SuggestList;
    }, {
      "../const" : 46,
      "../utils" : 125
    }],
    111 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function extend(s, t) {
        if (!s) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? s : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _prepareStyleProperties = __webpack_require__("./BaseTexture");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _deepAssign = __webpack_require__("../settings");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var SuggestList = function(_Store) {
        function Text() {
          var width = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100;
          var height = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100;
          var value = arguments[2];
          var cb = arguments[3];
          _classCallCheck(this, Text);
          var params = extend(this, _Store.call(this, null, value));
          return params.resolution = cb || _deepAssign2.default.RESOLUTION, params.width = Math.ceil(width), params.height = Math.ceil(height), params.realWidth = params.width * params.resolution, params.realHeight = params.height * params.resolution, params.scaleMode = void 0 !== value ? value : _deepAssign2.default.SCALE_MODE, params.hasLoaded = true, params._glRenderTargets = {}, params._canvasRenderTarget = null, params.valid = false, params;
        }
        return _inherits(Text, _Store), Text.prototype.resize = function(width, height) {
          width = Math.ceil(width);
          height = Math.ceil(height);
          if (!(width === this.width && height === this.height)) {
            this.valid = width > 0 && height > 0;
            this.width = width;
            this.height = height;
            this.realWidth = this.width * this.resolution;
            this.realHeight = this.height * this.resolution;
            if (this.valid) {
              this.emit("update", this);
            }
          }
        }, Text.prototype.destroy = function() {
          _Store.prototype.destroy.call(this, true);
          this.renderer = null;
        }, Text;
      }(_prepareStyleProperties2.default);
      exports.default = SuggestList;
    }, {
      "../settings" : 101,
      "./BaseTexture" : 112
    }],
    112 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function uid(prefix, name) {
        if (!(prefix instanceof name)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function call(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var Utils = __webpack_require__("../utils");
      var _prepareStyleProperties = __webpack_require__("../settings");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _eventemitter3 = __webpack_require__("eventemitter3");
      var _eventemitter32 = _interopRequireDefault(_eventemitter3);
      var _UiIcon = __webpack_require__("../utils/determineCrossOrigin");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _normalizeDataUri = __webpack_require__("bit-twiddle");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var SuggestList = function(_Namespace) {
        function BaseTexture(source, scaleMode, resolution) {
          uid(this, BaseTexture);
          var texture = call(this, _Namespace.call(this));
          return texture.uid = (0, Utils.uid)(), texture.touched = 0, texture.resolution = resolution || _prepareStyleProperties2.default.RESOLUTION, texture.width = 100, texture.height = 100, texture.realWidth = 100, texture.realHeight = 100, texture.scaleMode = void 0 !== scaleMode ? scaleMode : _prepareStyleProperties2.default.SCALE_MODE, texture.hasLoaded = false, texture.isLoading = false, texture.source = null, texture.origSource = null, texture.imageType = null, texture.sourceScale = 1, texture.premultipliedAlpha = 
          true, texture.imageUrl = null, texture.isPowerOfTwo = false, texture.mipmap = _prepareStyleProperties2.default.MIPMAP_TEXTURES, texture.wrapMode = _prepareStyleProperties2.default.WRAP_MODE, texture._glTextures = {}, texture._enabled = 0, texture._virtalBoundId = -1, texture._destroyed = false, texture.textureCacheIds = [], source && texture.loadSource(source), texture;
        }
        return _inherits(BaseTexture, _Namespace), BaseTexture.prototype.update = function() {
          if ("svg" !== this.imageType) {
            this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width;
            this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height;
            this._updateDimensions();
          }
          this.emit("update", this);
        }, BaseTexture.prototype._updateDimensions = function() {
          this.width = this.realWidth / this.resolution;
          this.height = this.realHeight / this.resolution;
          this.isPowerOfTwo = _normalizeDataUri2.default.isPow2(this.realWidth) && _normalizeDataUri2.default.isPow2(this.realHeight);
        }, BaseTexture.prototype.loadSource = function(source) {
          var wasLoading = this.isLoading;
          this.hasLoaded = false;
          this.isLoading = false;
          if (wasLoading && this.source) {
            this.source.onload = null;
            this.source.onerror = null;
          }
          var r = !this.source;
          if (this.source = source, (source.src && source.complete || source.getContext) && source.width && source.height) {
            this._updateImageType();
            if ("svg" === this.imageType) {
              this._loadSvgSource();
            } else {
              this._sourceLoaded();
            }
            if (r) {
              this.emit("loaded", this);
            }
          } else {
            if (!source.getContext) {
              this.isLoading = true;
              var scope = this;
              if (source.onload = function() {
                if (scope._updateImageType(), source.onload = null, source.onerror = null, scope.isLoading) {
                  if (scope.isLoading = false, scope._sourceLoaded(), "svg" === scope.imageType) {
                    return void scope._loadSvgSource();
                  }
                  scope.emit("loaded", scope);
                }
              }, source.onerror = function() {
                source.onload = null;
                source.onerror = null;
                if (scope.isLoading) {
                  scope.isLoading = false;
                  scope.emit("error", scope);
                }
              }, source.complete && source.src) {
                if (source.onload = null, source.onerror = null, "svg" === scope.imageType) {
                  return void scope._loadSvgSource();
                }
                this.isLoading = false;
                if (source.width && source.height) {
                  this._sourceLoaded();
                  if (wasLoading) {
                    this.emit("loaded", this);
                  }
                } else {
                  if (wasLoading) {
                    this.emit("error", this);
                  }
                }
              }
            }
          }
        }, BaseTexture.prototype._updateImageType = function() {
          if (this.imageUrl) {
            var options = (0, Utils.decomposeDataUri)(this.imageUrl);
            var imageType = void 0;
            if (options && "image" === options.mediaType) {
              var r = options.subType.split("+")[0];
              if (!(imageType = (0, Utils.getUrlFileExtension)("." + r))) {
                throw new Error("Invalid image type in data URI.");
              }
            } else {
              if (!(imageType = (0, Utils.getUrlFileExtension)(this.imageUrl))) {
                imageType = "png";
              }
            }
            this.imageType = imageType;
          }
        }, BaseTexture.prototype._loadSvgSource = function() {
          if ("svg" === this.imageType) {
            var dataUri = (0, Utils.decomposeDataUri)(this.imageUrl);
            if (dataUri) {
              this._loadSvgSourceUsingDataUri(dataUri);
            } else {
              this._loadSvgSourceUsingXhr();
            }
          }
        }, BaseTexture.prototype._loadSvgSourceUsingDataUri = function(dataUri) {
          var svgString = void 0;
          if ("base64" === dataUri.encoding) {
            if (!atob) {
              throw new Error("Your browser doesn't support base64 conversions.");
            }
            svgString = atob(dataUri.data);
          } else {
            svgString = dataUri.data;
          }
          this._loadSvgSourceUsingString(svgString);
        }, BaseTexture.prototype._loadSvgSourceUsingXhr = function() {
          var self = this;
          var xhr = new XMLHttpRequest;
          xhr.onload = function() {
            if (xhr.readyState !== xhr.DONE || 200 !== xhr.status) {
              throw new Error("Failed to load SVG using XHR.");
            }
            self._loadSvgSourceUsingString(xhr.response);
          };
          xhr.onerror = function() {
            return self.emit("error", self);
          };
          xhr.open("GET", this.imageUrl, true);
          xhr.send();
        }, BaseTexture.prototype._loadSvgSourceUsingString = function(svgString) {
          var file = (0, Utils.getSvgSize)(svgString);
          var svgWidth = file.width;
          var svgHeight = file.height;
          if (!svgWidth || !svgHeight) {
            throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
          }
          this.realWidth = Math.round(svgWidth * this.sourceScale);
          this.realHeight = Math.round(svgHeight * this.sourceScale);
          this._updateDimensions();
          var canvas = document.createElement("canvas");
          canvas.width = this.realWidth;
          canvas.height = this.realHeight;
          canvas._pixiId = "canvas_" + (0, Utils.uid)();
          canvas.getContext("2d").drawImage(this.source, 0, 0, svgWidth, svgHeight, 0, 0, this.realWidth, this.realHeight);
          this.origSource = this.source;
          this.source = canvas;
          BaseTexture.addToCache(this, canvas._pixiId);
          this.isLoading = false;
          this._sourceLoaded();
          this.emit("loaded", this);
        }, BaseTexture.prototype._sourceLoaded = function() {
          this.hasLoaded = true;
          this.update();
        }, BaseTexture.prototype.destroy = function() {
          if (this.imageUrl) {
            delete Utils.TextureCache[this.imageUrl];
            this.imageUrl = null;
            if (!navigator.isCocoonJS) {
              this.source.src = "";
            }
          }
          this.source = null;
          this.dispose();
          BaseTexture.removeFromCache(this);
          this.textureCacheIds = null;
          this._destroyed = true;
        }, BaseTexture.prototype.dispose = function() {
          this.emit("dispose", this);
        }, BaseTexture.prototype.updateSourceImage = function(newSrc) {
          this.source.src = newSrc;
          this.loadSource(this.source);
        }, BaseTexture.fromImage = function(imageUrl, crossorigin, scaleMode, sourceScale) {
          var baseTexture = Utils.BaseTextureCache[imageUrl];
          if (!baseTexture) {
            var image = new Image;
            if (void 0 === crossorigin && 0 !== imageUrl.indexOf("data:")) {
              image.crossOrigin = (0, _UiIcon2.default)(imageUrl);
            } else {
              if (crossorigin) {
                image.crossOrigin = "string" == typeof crossorigin ? crossorigin : "anonymous";
              }
            }
            baseTexture = new BaseTexture(image, scaleMode);
            baseTexture.imageUrl = imageUrl;
            if (sourceScale) {
              baseTexture.sourceScale = sourceScale;
            }
            baseTexture.resolution = (0, Utils.getResolutionOfUrl)(imageUrl);
            image.src = imageUrl;
            BaseTexture.addToCache(baseTexture, imageUrl);
          }
          return baseTexture;
        }, BaseTexture.fromCanvas = function(canvas, scaleMode) {
          var doc = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
          if (!canvas._pixiId) {
            canvas._pixiId = doc + "_" + (0, Utils.uid)();
          }
          var baseTexture = Utils.BaseTextureCache[canvas._pixiId];
          return baseTexture || (baseTexture = new BaseTexture(canvas, scaleMode), BaseTexture.addToCache(baseTexture, canvas._pixiId)), baseTexture;
        }, BaseTexture.from = function(source, scaleMode, sourceScale) {
          if ("string" == typeof source) {
            return BaseTexture.fromImage(source, void 0, scaleMode, sourceScale);
          }
          if (source instanceof HTMLImageElement) {
            var imageUrl = source.src;
            var baseTexture = Utils.BaseTextureCache[imageUrl];
            return baseTexture || (baseTexture = new BaseTexture(source, scaleMode), baseTexture.imageUrl = imageUrl, sourceScale && (baseTexture.sourceScale = sourceScale), baseTexture.resolution = (0, Utils.getResolutionOfUrl)(imageUrl), BaseTexture.addToCache(baseTexture, imageUrl)), baseTexture;
          }
          return source instanceof HTMLCanvasElement ? BaseTexture.fromCanvas(source, scaleMode) : source;
        }, BaseTexture.addToCache = function(texture, key) {
          if (key) {
            if (-1 === texture.textureCacheIds.indexOf(key)) {
              texture.textureCacheIds.push(key);
            }
            Utils.BaseTextureCache[key] = texture;
          }
        }, BaseTexture.removeFromCache = function(id) {
          if ("string" == typeof id) {
            var inode = Utils.BaseTextureCache[id];
            if (inode) {
              var p1 = inode.textureCacheIds.indexOf(id);
              return p1 > -1 && inode.textureCacheIds.splice(p1, 1), delete Utils.BaseTextureCache[id], inode;
            }
          } else {
            if (id && id.textureCacheIds) {
              var i = 0;
              for (; i < id.textureCacheIds.length; ++i) {
                delete Utils.BaseTextureCache[id.textureCacheIds[i]];
              }
              return id.textureCacheIds.length = 0, id;
            }
          }
          return null;
        }, BaseTexture;
      }(_eventemitter32.default);
      exports.default = SuggestList;
    }, {
      "../settings" : 101,
      "../utils" : 125,
      "../utils/determineCrossOrigin" : 124,
      "bit-twiddle" : 1,
      eventemitter3 : 3
    }],
    113 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _get(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function apply(name, a) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? name : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _prepareStyleProperties = __webpack_require__("./BaseRenderTexture");
      var THREE = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("./Texture");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var SuggestList = function(e) {
        function render(o, n) {
          _get(this, render);
          var s = null;
          if (!(o instanceof THREE.default)) {
            var a = arguments[1];
            var b = arguments[2];
            var c = arguments[3];
            var id = arguments[4];
            console.warn("Please use RenderTexture.create(" + a + ", " + b + ") instead of the ctor directly.");
            s = arguments[0];
            n = null;
            o = new THREE.default(a, b, c, id);
          }
          var res = apply(this, e.call(this, o, n));
          return res.legacyRenderer = s, res.valid = true, res._updateUvs(), res;
        }
        return _inherits(render, e), render.prototype.resize = function(width, height, isContentHeight) {
          width = Math.ceil(width);
          height = Math.ceil(height);
          this.valid = width > 0 && height > 0;
          this._frame.width = this.orig.width = width;
          this._frame.height = this.orig.height = height;
          if (!isContentHeight) {
            this.baseTexture.resize(width, height);
          }
          this._updateUvs();
        }, render.create = function(a, i, s, id) {
          return new render(new THREE.default(a, i, s, id));
        }, render;
      }(_normalizeDataUri2.default);
      exports.default = SuggestList;
    }, {
      "./BaseRenderTexture" : 111,
      "./Texture" : 115
    }],
    114 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var core = __webpack_require__("../");
      var Utils = __webpack_require__("../utils");
      var SuggestList = function() {
        function Sprite(texture, data) {
          var resolutionFilename = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
          _classCallCheck(this, Sprite);
          this.baseTexture = texture;
          this.textures = {};
          this.animations = {};
          this.data = data;
          this.resolution = this._updateResolution(resolutionFilename || this.baseTexture.imageUrl);
          this._frames = this.data.frames;
          this._frameKeys = Object.keys(this._frames);
          this._batchIndex = 0;
          this._callback = null;
        }
        return _createClass(Sprite, null, [{
          key : "BATCH_SIZE",
          get : function() {
            return 1e3;
          }
        }]), Sprite.prototype._updateResolution = function(resolutionFilename) {
          var s = this.data.meta.scale;
          var resolution = (0, Utils.getResolutionOfUrl)(resolutionFilename, null);
          return null === resolution && (resolution = void 0 !== s ? parseFloat(s) : 1), 1 !== resolution && (this.baseTexture.resolution = resolution, this.baseTexture.update()), resolution;
        }, Sprite.prototype.parse = function(type) {
          this._batchIndex = 0;
          this._callback = type;
          if (this._frameKeys.length <= Sprite.BATCH_SIZE) {
            this._processFrames(0);
            this._processAnimations();
            this._parseComplete();
          } else {
            this._nextBatch();
          }
        }, Sprite.prototype._processFrames = function(initialFrameIndex) {
          var frameIndex = initialFrameIndex;
          var maxFrames = Sprite.BATCH_SIZE;
          var scale = this.baseTexture.sourceScale;
          for (; frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length;) {
            var i = this._frameKeys[frameIndex];
            var frame = this._frames[i];
            var rect = frame.frame;
            if (rect) {
              var name = null;
              var trim = null;
              var viewportRect = false !== frame.trimmed && frame.sourceSize ? frame.sourceSize : frame.frame;
              var orig = new core.Rectangle(0, 0, Math.floor(viewportRect.w * scale) / this.resolution, Math.floor(viewportRect.h * scale) / this.resolution);
              name = frame.rotated ? new core.Rectangle(Math.floor(rect.x * scale) / this.resolution, Math.floor(rect.y * scale) / this.resolution, Math.floor(rect.h * scale) / this.resolution, Math.floor(rect.w * scale) / this.resolution) : new core.Rectangle(Math.floor(rect.x * scale) / this.resolution, Math.floor(rect.y * scale) / this.resolution, Math.floor(rect.w * scale) / this.resolution, Math.floor(rect.h * scale) / this.resolution);
              if (false !== frame.trimmed && frame.spriteSourceSize) {
                trim = new core.Rectangle(Math.floor(frame.spriteSourceSize.x * scale) / this.resolution, Math.floor(frame.spriteSourceSize.y * scale) / this.resolution, Math.floor(rect.w * scale) / this.resolution, Math.floor(rect.h * scale) / this.resolution);
              }
              this.textures[i] = new core.Texture(this.baseTexture, name, orig, trim, frame.rotated ? 2 : 0, frame.anchor);
              core.Texture.addToCache(this.textures[i], i);
            }
            frameIndex++;
          }
        }, Sprite.prototype._processAnimations = function() {
          var active_targets = this.data.animations || {};
          var index;
          for (index in active_targets) {
            this.animations[index] = [];
            var target = active_targets[index];
            var inside = Array.isArray(target);
            var i = 0;
            target = inside ? target : target[Symbol.iterator]();
            for (;;) {
              var src;
              if (inside) {
                if (i >= target.length) {
                  break;
                }
                src = target[i++];
              } else {
                if (i = target.next(), i.done) {
                  break;
                }
                src = i.value;
              }
              var j = src;
              this.animations[index].push(this.textures[j]);
            }
          }
        }, Sprite.prototype._parseComplete = function() {
          var callback = this._callback;
          this._callback = null;
          this._batchIndex = 0;
          callback.call(this, this.textures);
        }, Sprite.prototype._nextBatch = function() {
          var doc = this;
          this._processFrames(this._batchIndex * Sprite.BATCH_SIZE);
          this._batchIndex++;
          setTimeout(function() {
            if (doc._batchIndex * Sprite.BATCH_SIZE < doc._frameKeys.length) {
              doc._nextBatch();
            } else {
              doc._processAnimations();
              doc._parseComplete();
            }
          }, 0);
        }, Sprite.prototype.destroy = function() {
          var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          var i;
          for (i in this.textures) {
            this.textures[i].destroy();
          }
          this._frames = null;
          this._frameKeys = null;
          this.data = null;
          this.textures = null;
          if (t) {
            this.baseTexture.destroy();
          }
          this.baseTexture = null;
        }, Sprite;
      }();
      exports.default = SuggestList;
    }, {
      "../" : 65,
      "../utils" : 125
    }],
    115 : [function(__webpack_require__, canCreateDiscussions, module) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function create(context, attribute) {
        if (!(context instanceof attribute)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function bind(bindingContext, value) {
        if (!bindingContext) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !value || "object" != typeof value && "function" != typeof value ? bindingContext : value;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      function removeAllHandlers(tex) {
        tex.destroy = function() {
        };
        tex.on = function() {
        };
        tex.once = function() {
        };
        tex.emit = function() {
        };
      }
      module.__esModule = true;
      var captureCreateDelete = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _prepareStyleProperties = __webpack_require__("./BaseTexture");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _deepAssign = __webpack_require__("./VideoBaseTexture");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _classlist = __webpack_require__("./TextureUvs");
      var _classlist2 = _interopRequireDefault(_classlist);
      var _normalizeDataUri = __webpack_require__("eventemitter3");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var PIXI = __webpack_require__("../math");
      var Utils = __webpack_require__("../utils");
      var _UiIcon = __webpack_require__("../settings");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var Texture = function(_Namespace) {
        function Texture(baseTexture, frame, type, data, index, options) {
          create(this, Texture);
          var self = bind(this, _Namespace.call(this));
          if (self.noFrame = false, frame || (self.noFrame = true, frame = new PIXI.Rectangle(0, 0, 1, 1)), baseTexture instanceof Texture && (baseTexture = baseTexture.baseTexture), self.baseTexture = baseTexture, self._frame = frame, self.trim = data, self.valid = false, self.requiresUpdate = false, self._uvs = null, self.orig = type || frame, self._rotate = Number(index || 0), true === index) {
            self._rotate = 2;
          } else {
            if (self._rotate % 2 != 0) {
              throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
            }
          }
          return baseTexture.hasLoaded ? (self.noFrame && (frame = new PIXI.Rectangle(0, 0, baseTexture.width, baseTexture.height), baseTexture.on("update", self.onBaseTextureUpdated, self)), self.frame = frame) : baseTexture.once("loaded", self.onBaseTextureLoaded, self), self.defaultAnchor = options ? new PIXI.Point(options.x, options.y) : new PIXI.Point(0, 0), self._updateID = 0, self.transform = null, self.textureCacheIds = [], self;
        }
        return _inherits(Texture, _Namespace), Texture.prototype.update = function() {
          this.baseTexture.update();
        }, Texture.prototype.onBaseTextureLoaded = function(baseTexture) {
          this._updateID++;
          if (this.noFrame) {
            this.frame = new PIXI.Rectangle(0, 0, baseTexture.width, baseTexture.height);
          } else {
            this.frame = this._frame;
          }
          this.baseTexture.on("update", this.onBaseTextureUpdated, this);
          this.emit("update", this);
        }, Texture.prototype.onBaseTextureUpdated = function(baseTexture) {
          this._updateID++;
          this._frame.width = baseTexture.width;
          this._frame.height = baseTexture.height;
          this.emit("update", this);
        }, Texture.prototype.destroy = function(err) {
          if (this.baseTexture) {
            if (err) {
              if (Utils.TextureCache[this.baseTexture.imageUrl]) {
                Texture.removeFromCache(this.baseTexture.imageUrl);
              }
              this.baseTexture.destroy();
            }
            this.baseTexture.off("update", this.onBaseTextureUpdated, this);
            this.baseTexture.off("loaded", this.onBaseTextureLoaded, this);
            this.baseTexture = null;
          }
          this._frame = null;
          this._uvs = null;
          this.trim = null;
          this.orig = null;
          this.valid = false;
          Texture.removeFromCache(this);
          this.textureCacheIds = null;
        }, Texture.prototype.clone = function() {
          return new Texture(this.baseTexture, this.frame, this.orig, this.trim, this.rotate, this.defaultAnchor);
        }, Texture.prototype._updateUvs = function() {
          if (!this._uvs) {
            this._uvs = new _classlist2.default;
          }
          this._uvs.set(this._frame, this.baseTexture, this.rotate);
          this._updateID++;
        }, Texture.fromImage = function(imageUrl, crossorigin, scaleMode, sourceScale) {
          var texture = Utils.TextureCache[imageUrl];
          return texture || (texture = new Texture(_prepareStyleProperties2.default.fromImage(imageUrl, crossorigin, scaleMode, sourceScale)), Texture.addToCache(texture, imageUrl)), texture;
        }, Texture.fromFrame = function(frameId) {
          var texture = Utils.TextureCache[frameId];
          if (!texture) {
            throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
          }
          return texture;
        }, Texture.fromCanvas = function(canvas, scaleMode) {
          var origin = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
          return new Texture(_prepareStyleProperties2.default.fromCanvas(canvas, scaleMode, origin));
        }, Texture.fromVideo = function(video, scaleMode, v, h) {
          return "string" == typeof video ? Texture.fromVideoUrl(video, scaleMode, v, h) : new Texture(_deepAssign2.default.fromVideo(video, scaleMode, h));
        }, Texture.fromVideoUrl = function(videoUrl, scaleMode, resolution, component) {
          return new Texture(_deepAssign2.default.fromUrl(videoUrl, scaleMode, resolution, component));
        }, Texture.from = function(source) {
          if ("string" == typeof source) {
            var map = Utils.TextureCache[source];
            if (!map) {
              return null !== source.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) ? Texture.fromVideoUrl(source) : Texture.fromImage(source);
            }
            return map;
          }
          return source instanceof HTMLImageElement ? new Texture(_prepareStyleProperties2.default.from(source)) : source instanceof HTMLCanvasElement ? Texture.fromCanvas(source, _UiIcon2.default.SCALE_MODE, "HTMLCanvasElement") : source instanceof HTMLVideoElement ? Texture.fromVideo(source) : source instanceof _prepareStyleProperties2.default ? new Texture(source) : source;
        }, Texture.fromLoader = function(rows, imageUrl, name) {
          var image = new _prepareStyleProperties2.default(rows, void 0, (0, Utils.getResolutionOfUrl)(imageUrl));
          var texture = new Texture(image);
          return image.imageUrl = imageUrl, name || (name = imageUrl), _prepareStyleProperties2.default.addToCache(texture.baseTexture, name), Texture.addToCache(texture, name), name !== imageUrl && (_prepareStyleProperties2.default.addToCache(texture.baseTexture, imageUrl), Texture.addToCache(texture, imageUrl)), texture;
        }, Texture.addToCache = function(texture, key) {
          if (key) {
            if (-1 === texture.textureCacheIds.indexOf(key)) {
              texture.textureCacheIds.push(key);
            }
            Utils.TextureCache[key] = texture;
          }
        }, Texture.removeFromCache = function(id) {
          if ("string" == typeof id) {
            var inode = Utils.TextureCache[id];
            if (inode) {
              var p1 = inode.textureCacheIds.indexOf(id);
              return p1 > -1 && inode.textureCacheIds.splice(p1, 1), delete Utils.TextureCache[id], inode;
            }
          } else {
            if (id && id.textureCacheIds) {
              var i = 0;
              for (; i < id.textureCacheIds.length; ++i) {
                if (Utils.TextureCache[id.textureCacheIds[i]] === id) {
                  delete Utils.TextureCache[id.textureCacheIds[i]];
                }
              }
              return id.textureCacheIds.length = 0, id;
            }
          }
          return null;
        }, captureCreateDelete(Texture, [{
          key : "frame",
          get : function() {
            return this._frame;
          },
          set : function(input) {
            this._frame = input;
            this.noFrame = false;
            var x = input.x;
            var y = input.y;
            var w = input.width;
            var h = input.height;
            var excludeSynced = x + w > this.baseTexture.width;
            var excludeNotSynced = y + h > this.baseTexture.height;
            if (excludeSynced || excludeNotSynced) {
              var operator = excludeSynced && excludeNotSynced ? "and" : "or";
              var u = "X: " + x + " + " + w + " = " + (x + w) + " > " + this.baseTexture.width;
              var to3 = "Y: " + y + " + " + h + " = " + (y + h) + " > " + this.baseTexture.height;
              throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + u + " " + operator + " " + to3);
            }
            this.valid = w && h && this.baseTexture.hasLoaded;
            if (!(this.trim || this.rotate)) {
              this.orig = input;
            }
            if (this.valid) {
              this._updateUvs();
            }
          }
        }, {
          key : "rotate",
          get : function() {
            return this._rotate;
          },
          set : function(target) {
            this._rotate = target;
            if (this.valid) {
              this._updateUvs();
            }
          }
        }, {
          key : "width",
          get : function() {
            return this.orig.width;
          }
        }, {
          key : "height",
          get : function() {
            return this.orig.height;
          }
        }]), Texture;
      }(_normalizeDataUri2.default);
      module.default = Texture;
      Texture.EMPTY = new Texture(new _prepareStyleProperties2.default);
      removeAllHandlers(Texture.EMPTY);
      removeAllHandlers(Texture.EMPTY.baseTexture);
      Texture.WHITE = function() {
        var canvas = document.createElement("canvas");
        canvas.width = 10;
        canvas.height = 10;
        var progressTexture = canvas.getContext("2d");
        return progressTexture.fillStyle = "white", progressTexture.fillRect(0, 0, 10, 10), new Texture(new _prepareStyleProperties2.default(canvas));
      }();
      removeAllHandlers(Texture.WHITE);
      removeAllHandlers(Texture.WHITE.baseTexture);
    }, {
      "../math" : 70,
      "../settings" : 101,
      "../utils" : 125,
      "./BaseTexture" : 112,
      "./TextureUvs" : 117,
      "./VideoBaseTexture" : 118,
      eventemitter3 : 3
    }],
    116 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function reduce(v, node) {
        if (!(v instanceof node)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var loadHelperScript = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _deepAssign = __webpack_require__("../math/Matrix");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var matrix = new _deepAssign2.default;
      var SuggestList = function() {
        function callback(url, num) {
          reduce(this, callback);
          this._texture = url;
          this.mapCoord = new _deepAssign2.default;
          this.uClampFrame = new Float32Array(4);
          this.uClampOffset = new Float32Array(2);
          this._lastTextureID = -1;
          this.clampOffset = 0;
          this.clampMargin = void 0 === num ? .5 : num;
        }
        return callback.prototype.multiplyUvs = function(s, out) {
          if (void 0 === out) {
            out = s;
          }
          var matrix = this.mapCoord;
          var i = 0;
          for (; i < s.length; i = i + 2) {
            var x = s[i];
            var y = s[i + 1];
            out[i] = x * matrix.a + y * matrix.c + matrix.tx;
            out[i + 1] = x * matrix.b + y * matrix.d + matrix.ty;
          }
          return out;
        }, callback.prototype.update = function(val) {
          var texture = this._texture;
          if (!texture || !texture.valid) {
            return false;
          }
          if (!val && this._lastTextureID === texture._updateID) {
            return false;
          }
          this._lastTextureID = texture._updateID;
          var uvs = texture._uvs;
          this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);
          var orig = texture.orig;
          var trim = texture.trim;
          if (trim) {
            matrix.set(orig.width / trim.width, 0, 0, orig.height / trim.height, -trim.x / trim.width, -trim.y / trim.height);
            this.mapCoord.append(matrix);
          }
          var texBase = texture.baseTexture;
          var s = this.uClampFrame;
          var margin = this.clampMargin / texBase.resolution;
          var offset = this.clampOffset;
          return s[0] = (texture._frame.x + margin + offset) / texBase.width, s[1] = (texture._frame.y + margin + offset) / texBase.height, s[2] = (texture._frame.x + texture._frame.width - margin + offset) / texBase.width, s[3] = (texture._frame.y + texture._frame.height - margin + offset) / texBase.height, this.uClampOffset[0] = offset / texBase.realWidth, this.uClampOffset[1] = offset / texBase.realHeight, true;
        }, loadHelperScript(callback, [{
          key : "texture",
          get : function() {
            return this._texture;
          },
          set : function(value) {
            this._texture = value;
            this._lastTextureID = -1;
          }
        }]), callback;
      }();
      exports.default = SuggestList;
    }, {
      "../math/Matrix" : 67
    }],
    117 : [function(addVertex, canCreateDiscussions, exports) {
      function _get(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var i = addVertex("../math/GroupD8");
      var o = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(i);
      var SuggestList = function() {
        function init() {
          _get(this, init);
          this.x0 = 0;
          this.y0 = 0;
          this.x1 = 1;
          this.y1 = 0;
          this.x2 = 1;
          this.y2 = 1;
          this.x3 = 0;
          this.y3 = 1;
          this.uvsUint32 = new Uint32Array(4);
        }
        return init.prototype.set = function(target, source, key) {
          var tw = source.width;
          var th = source.height;
          if (key) {
            var w2 = target.width / 2 / tw;
            var h2 = target.height / 2 / th;
            var cX = target.x / tw + w2;
            var cY = target.y / th + h2;
            key = o.default.add(key, o.default.NW);
            this.x0 = cX + w2 * o.default.uX(key);
            this.y0 = cY + h2 * o.default.uY(key);
            key = o.default.add(key, 2);
            this.x1 = cX + w2 * o.default.uX(key);
            this.y1 = cY + h2 * o.default.uY(key);
            key = o.default.add(key, 2);
            this.x2 = cX + w2 * o.default.uX(key);
            this.y2 = cY + h2 * o.default.uY(key);
            key = o.default.add(key, 2);
            this.x3 = cX + w2 * o.default.uX(key);
            this.y3 = cY + h2 * o.default.uY(key);
          } else {
            this.x0 = target.x / tw;
            this.y0 = target.y / th;
            this.x1 = (target.x + target.width) / tw;
            this.y1 = target.y / th;
            this.x2 = (target.x + target.width) / tw;
            this.y2 = (target.y + target.height) / th;
            this.x3 = target.x / tw;
            this.y3 = (target.y + target.height) / th;
          }
          this.uvsUint32[0] = (65535 & Math.round(65535 * this.y0)) << 16 | 65535 & Math.round(65535 * this.x0);
          this.uvsUint32[1] = (65535 & Math.round(65535 * this.y1)) << 16 | 65535 & Math.round(65535 * this.x1);
          this.uvsUint32[2] = (65535 & Math.round(65535 * this.y2)) << 16 | 65535 & Math.round(65535 * this.x2);
          this.uvsUint32[3] = (65535 & Math.round(65535 * this.y3)) << 16 | 65535 & Math.round(65535 * this.x3);
        }, init;
      }();
      exports.default = SuggestList;
    }, {
      "../math/GroupD8" : 66
    }],
    118 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function custom(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _(name, a) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? name : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      function callback(key, value) {
        if (!value) {
          var fileDestination = key.split("?").shift().toLowerCase();
          value = "video/" + fileDestination.substr(fileDestination.lastIndexOf(".") + 1);
        }
        var desc = document.createElement("source");
        return desc.src = key, desc.type = value, desc;
      }
      exports.__esModule = true;
      var calculateFloatContainerPos = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _prepareStyleProperties = __webpack_require__("./BaseTexture");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var Utils = __webpack_require__("../utils");
      var actions = __webpack_require__("../ticker");
      var core = __webpack_require__("../const");
      var _normalizeDataUri = __webpack_require__("../utils/determineCrossOrigin");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var VideoBaseTexture = function(t) {
        function init(source, category) {
          var autoPlay = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
          if (custom(this, init), !source) {
            throw new Error("No video source element specified.");
          }
          if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height) {
            source.complete = true;
          }
          var _this = _(this, t.call(this, source, category));
          return _this.width = source.videoWidth, _this.height = source.videoHeight, _this._autoUpdate = true, _this._isAutoUpdating = false, _this.autoPlay = autoPlay, _this.update = _this.update.bind(_this), _this._onCanPlay = _this._onCanPlay.bind(_this), source.addEventListener("play", _this._onPlayStart.bind(_this)), source.addEventListener("pause", _this._onPlayStop.bind(_this)), _this.hasLoaded = false, _this.__loaded = false, _this._isSourceReady() ? _this._onCanPlay() : (source.addEventListener("canplay", 
          _this._onCanPlay), source.addEventListener("canplaythrough", _this._onCanPlay)), _this;
        }
        return _inherits(init, t), init.prototype._isSourcePlaying = function() {
          var video = this.source;
          return video.currentTime > 0 && false === video.paused && false === video.ended && video.readyState > 2;
        }, init.prototype._isSourceReady = function() {
          return 3 === this.source.readyState || 4 === this.source.readyState;
        }, init.prototype._onPlayStart = function() {
          if (!this.hasLoaded) {
            this._onCanPlay();
          }
          if (!this._isAutoUpdating && this.autoUpdate) {
            actions.shared.add(this.update, this, core.UPDATE_PRIORITY.HIGH);
            this._isAutoUpdating = true;
          }
        }, init.prototype._onPlayStop = function() {
          if (this._isAutoUpdating) {
            actions.shared.remove(this.update, this);
            this._isAutoUpdating = false;
          }
        }, init.prototype._onCanPlay = function() {
          this.hasLoaded = true;
          if (this.source) {
            this.source.removeEventListener("canplay", this._onCanPlay);
            this.source.removeEventListener("canplaythrough", this._onCanPlay);
            this.width = this.source.videoWidth;
            this.height = this.source.videoHeight;
            if (!this.__loaded) {
              this.__loaded = true;
              this.emit("loaded", this);
            }
            if (this._isSourcePlaying()) {
              this._onPlayStart();
            } else {
              if (this.autoPlay) {
                this.source.play();
              }
            }
          }
        }, init.prototype.destroy = function() {
          if (this._isAutoUpdating) {
            actions.shared.remove(this.update, this);
          }
          if (this.source && this.source._pixiId) {
            _prepareStyleProperties2.default.removeFromCache(this.source._pixiId);
            delete this.source._pixiId;
            this.source.pause();
            this.source.src = "";
            this.source.load();
          }
          t.prototype.destroy.call(this);
        }, init.fromVideo = function(video, scaleMode, x) {
          if (!video._pixiId) {
            video._pixiId = "video_" + (0, Utils.uid)();
          }
          var texture = Utils.BaseTextureCache[video._pixiId];
          return texture || (texture = new init(video, scaleMode, x), _prepareStyleProperties2.default.addToCache(texture, video._pixiId)), texture;
        }, init.fromUrl = function(videoSrc, scaleMode, type, options) {
          var video = document.createElement("video");
          video.setAttribute("webkit-playsinline", "");
          video.setAttribute("playsinline", "");
          var file = Array.isArray(videoSrc) ? videoSrc[0].src || videoSrc[0] : videoSrc.src || videoSrc;
          if (void 0 === type && 0 !== file.indexOf("data:") ? video.crossOrigin = (0, _normalizeDataUri2.default)(file) : type && (video.crossOrigin = "string" == typeof type ? type : "anonymous"), Array.isArray(videoSrc)) {
            var i = 0;
            for (; i < videoSrc.length; ++i) {
              video.appendChild(callback(videoSrc[i].src || videoSrc[i], videoSrc[i].mime));
            }
          } else {
            video.appendChild(callback(file, videoSrc.mime));
          }
          return video.load(), init.fromVideo(video, scaleMode, options);
        }, calculateFloatContainerPos(init, [{
          key : "autoUpdate",
          get : function() {
            return this._autoUpdate;
          },
          set : function(value) {
            if (value !== this._autoUpdate) {
              this._autoUpdate = value;
              if (!this._autoUpdate && this._isAutoUpdating) {
                actions.shared.remove(this.update, this);
                this._isAutoUpdating = false;
              } else {
                if (this._autoUpdate && !this._isAutoUpdating) {
                  actions.shared.add(this.update, this, core.UPDATE_PRIORITY.HIGH);
                  this._isAutoUpdating = true;
                }
              }
            }
          }
        }]), init;
      }(_prepareStyleProperties2.default);
      exports.default = VideoBaseTexture;
      VideoBaseTexture.fromUrls = VideoBaseTexture.fromUrl;
    }, {
      "../const" : 46,
      "../ticker" : 121,
      "../utils" : 125,
      "../utils/determineCrossOrigin" : 124,
      "./BaseTexture" : 112
    }],
    119 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function process(elem, type) {
        if (!(elem instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var send_to_history = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _prepareStyleProperties = __webpack_require__("../settings");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var core = __webpack_require__("../const");
      var _channel = __webpack_require__("./TickerListener");
      var _channel2 = _interopRequireDefault(_channel);
      var SuggestList = function() {
        function update() {
          var self = this;
          process(this, update);
          this._head = new _channel2.default(null, null, 1 / 0);
          this._requestId = null;
          this._maxElapsedMS = 100;
          this.autoStart = false;
          this.deltaTime = 1;
          this.elapsedMS = 1 / _prepareStyleProperties2.default.TARGET_FPMS;
          this.lastTime = -1;
          this.speed = 1;
          this.started = false;
          this._tick = function(value) {
            self._requestId = null;
            if (self.started) {
              self.update(value);
              if (self.started && null === self._requestId && self._head.next) {
                self._requestId = requestAnimationFrame(self._tick);
              }
            }
          };
        }
        return update.prototype._requestIfNeeded = function() {
          if (null === this._requestId && this._head.next) {
            this.lastTime = performance.now();
            this._requestId = requestAnimationFrame(this._tick);
          }
        }, update.prototype._cancelIfNeeded = function() {
          if (null !== this._requestId) {
            cancelAnimationFrame(this._requestId);
            this._requestId = null;
          }
        }, update.prototype._startIfPossible = function() {
          if (this.started) {
            this._requestIfNeeded();
          } else {
            if (this.autoStart) {
              this.start();
            }
          }
        }, update.prototype.add = function(type, data) {
          var cb = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : core.UPDATE_PRIORITY.NORMAL;
          return this._addListener(new _channel2.default(type, data, cb));
        }, update.prototype.addOnce = function(fn, scope) {
          var cb = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : core.UPDATE_PRIORITY.NORMAL;
          return this._addListener(new _channel2.default(fn, scope, cb, true));
        }, update.prototype._addListener = function(a) {
          var b = this._head.next;
          var parent = this._head;
          if (b) {
            for (; b;) {
              if (a.priority > b.priority) {
                a.connect(parent);
                break;
              }
              parent = b;
              b = b.next;
            }
            if (!a.previous) {
              a.connect(parent);
            }
          } else {
            a.connect(parent);
          }
          return this._startIfPossible(), this;
        }, update.prototype.remove = function(type, data) {
          var target = this._head.next;
          for (; target;) {
            target = target.match(type, data) ? target.destroy() : target.next;
          }
          return this._head.next || this._cancelIfNeeded(), this;
        }, update.prototype.start = function() {
          if (!this.started) {
            this.started = true;
            this._requestIfNeeded();
          }
        }, update.prototype.stop = function() {
          if (this.started) {
            this.started = false;
            this._cancelIfNeeded();
          }
        }, update.prototype.destroy = function() {
          this.stop();
          var iter = this._head.next;
          for (; iter;) {
            iter = iter.destroy(true);
          }
          this._head.destroy();
          this._head = null;
        }, update.prototype.update = function() {
          var currentTime = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : performance.now();
          var elapsedMS = void 0;
          if (currentTime > this.lastTime) {
            elapsedMS = this.elapsedMS = currentTime - this.lastTime;
            if (elapsedMS > this._maxElapsedMS) {
              elapsedMS = this._maxElapsedMS;
            }
            this.deltaTime = elapsedMS * _prepareStyleProperties2.default.TARGET_FPMS * this.speed;
            var node = this._head;
            var listener = node.next;
            for (; listener;) {
              listener = listener.emit(this.deltaTime);
            }
            if (!node.next) {
              this._cancelIfNeeded();
            }
          } else {
            this.deltaTime = this.elapsedMS = 0;
          }
          this.lastTime = currentTime;
        }, send_to_history(update, [{
          key : "FPS",
          get : function() {
            return 1E3 / this.elapsedMS;
          }
        }, {
          key : "minFPS",
          get : function() {
            return 1E3 / this._maxElapsedMS;
          },
          set : function(key) {
            var minFPMS = Math.min(Math.max(0, key) / 1E3, _prepareStyleProperties2.default.TARGET_FPMS);
            this._maxElapsedMS = 1 / minFPMS;
          }
        }]), update;
      }();
      exports.default = SuggestList;
    }, {
      "../const" : 46,
      "../settings" : 101,
      "./TickerListener" : 120
    }],
    120 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function n(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function t(fn) {
          var selector = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
          var priority = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
          var once = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
          n(this, t);
          this.fn = fn;
          this.context = selector;
          this.priority = priority;
          this.once = once;
          this.next = null;
          this.previous = null;
          this._destroyed = false;
        }
        return t.prototype.match = function(fn, context) {
          return context = context || null, this.fn === fn && this.context === context;
        }, t.prototype.emit = function(type) {
          if (this.fn) {
            if (this.context) {
              this.fn.call(this.context, type);
            } else {
              this.fn(type);
            }
          }
          var next = this.next;
          return this.once && this.destroy(true), this._destroyed && (this.next = null), next;
        }, t.prototype.connect = function(node) {
          this.previous = node;
          if (node.next) {
            node.next.previous = this;
          }
          this.next = node.next;
          node.next = this;
        }, t.prototype.destroy = function() {
          var left = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          this._destroyed = true;
          this.fn = null;
          this.context = null;
          if (this.previous) {
            this.previous.next = this.next;
          }
          if (this.next) {
            this.next.previous = this.previous;
          }
          var next = this.next;
          return this.next = left ? null : next, this.previous = null, next;
        }, t;
      }();
      exports.default = SuggestList;
    }, {}],
    121 : [function(require, canCreateDiscussions, exports) {
      exports.__esModule = true;
      exports.Ticker = exports.shared = void 0;
      var _aliapp = require("./Ticker");
      var _aliapp2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_aliapp);
      var that = new _aliapp2.default;
      that.autoStart = true;
      that.destroy = function() {
      };
      exports.shared = that;
      exports.Ticker = _aliapp2.default;
    }, {
      "./Ticker" : 119
    }],
    122 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function SuggestList() {
        return !(!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform));
      }
      exports.__esModule = true;
      exports.default = SuggestList;
    }, {}],
    123 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function merge(name) {
        var indexCount = 6 * name;
        var indices = new Uint16Array(indexCount);
        var i = 0;
        var j = 0;
        for (; i < indexCount; i = i + 6, j = j + 4) {
          indices[i + 0] = j + 0;
          indices[i + 1] = j + 1;
          indices[i + 2] = j + 2;
          indices[i + 3] = j + 0;
          indices[i + 4] = j + 2;
          indices[i + 5] = j + 3;
        }
        return indices;
      }
      exports.__esModule = true;
      exports.default = merge;
    }, {}],
    124 : [function(FindFeedItemIndex, canCreateDiscussions, exports) {
      function render(a) {
        var loc = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location;
        if (0 === a.indexOf("data:")) {
          return "";
        }
        loc = loc || window.location;
        if (!b) {
          b = document.createElement("a");
        }
        b.href = a;
        a = o.default.parse(b.href);
        var r = !a.port && "" === loc.port || a.port === loc.port;
        return a.hostname === loc.hostname && r && a.protocol === loc.protocol ? "" : "anonymous";
      }
      exports.__esModule = true;
      exports.default = render;
      var i = FindFeedItemIndex("url");
      var o = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(i);
      var b = void 0;
    }, {
      url : 38
    }],
    125 : [function(__webpack_require__, canCreateDiscussions, Utils) {
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function uid() {
        return ++U;
      }
      function Set(key, options) {
        return options = options || [], options[0] = (key >> 16 & 255) / 255, options[1] = (key >> 8 & 255) / 255, options[2] = (255 & key) / 255, options;
      }
      function create(end) {
        return end = end.toString(16), "#" + (end = "000000".substr(0, 6 - end.length) + end);
      }
      function rgb2hex(b) {
        return (255 * b[0] << 16) + (255 * b[1] << 8) + (255 * b[2] | 0);
      }
      function clone(url, c) {
        var m = _prepareStyleProperties2.default.RETINA_PREFIX.exec(url);
        return m ? parseFloat(m[1]) : void 0 !== c ? c : 1;
      }
      function client(uri) {
        var term = CONST.DATA_URI.exec(uri);
        if (term) {
          return {
            mediaType : term[1] ? term[1].toLowerCase() : void 0,
            subType : term[2] ? term[2].toLowerCase() : void 0,
            charset : term[3] ? term[3].toLowerCase() : void 0,
            encoding : term[4] ? term[4].toLowerCase() : void 0,
            data : term[5]
          };
        }
      }
      function getUrlFileExtension(url) {
        var hostnameMatch = CONST.URL_FILE_EXTENSION.exec(url);
        if (hostnameMatch) {
          return hostnameMatch[1].toLowerCase();
        }
      }
      function getFadeColor(s) {
        var n = CONST.SVG_SIZE.exec(s);
        var r = {};
        return n && (r[n[1]] = Math.round(parseFloat(n[3])), r[n[5]] = Math.round(parseFloat(n[7]))), r;
      }
      function makeRequestToPrivilegedScript() {
        X = true;
      }
      function log(showConsole) {
        if (!X) {
          if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
            var e = ["\n %c %c %c PixiJS " + CONST.VERSION + " - \u00e2\u0153\u00b0 " + showConsole + " \u00e2\u0153\u00b0  %c  %c  http://www.pixijs.com/  %c %c \u00e2\u2122\u00a5%c\u00e2\u2122\u00a5%c\u00e2\u2122\u00a5 \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", 
            "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
            window.console.log.apply(console, e);
          } else {
            if (window.console) {
              window.console.log("PixiJS " + CONST.VERSION + " - " + showConsole + " - http://www.pixijs.com/");
            }
          }
          X = true;
        }
      }
      function isWebGLSupported() {
        var args = {
          stencil : true,
          failIfMajorPerformanceCaveat : true
        };
        try {
          if (!window.WebGLRenderingContext) {
            return false;
          }
          var canvas = document.createElement("canvas");
          var gl = canvas.getContext("webgl", args) || canvas.getContext("experimental-webgl", args);
          var n = !(!gl || !gl.getContextAttributes().stencil);
          if (gl) {
            var loseContext = gl.getExtension("WEBGL_lose_context");
            if (loseContext) {
              loseContext.loseContext();
            }
          }
          return gl = null, n;
        } catch (t) {
          return false;
        }
      }
      function registerStringBundleLoadListener(callback) {
        return 0 === callback ? 0 : callback < 0 ? -1 : 1;
      }
      function onDataFunc() {
        var i = void 0;
        for (i in notifs) {
          notifs[i].destroy();
        }
        for (i in editors) {
          editors[i].destroy();
        }
      }
      function getLocalURL() {
        var i = void 0;
        for (i in notifs) {
          delete notifs[i];
        }
        for (i in editors) {
          delete editors[i];
        }
      }
      function getMessage(host, code) {
        return monaca[code ? 1 : 0][host];
      }
      function nextTick(task, f) {
        if (1 === f) {
          return (255 * f << 24) + task;
        }
        if (0 === f) {
          return 0;
        }
        var o = task >> 16 & 255;
        var r = task >> 8 & 255;
        var n2 = 255 & task;
        return o = o * f + .5 | 0, r = r * f + .5 | 0, n2 = n2 * f + .5 | 0, (255 * f << 24) + (o << 16) + (r << 8) + n2;
      }
      function ids(arr, val, result, value) {
        return result = result || new Float32Array(4), value || void 0 === value ? (result[0] = arr[0] * val, result[1] = arr[1] * val, result[2] = arr[2] * val) : (result[0] = arr[0], result[1] = arr[1], result[2] = arr[2]), result[3] = val, result;
      }
      function numericLinearTicks(a, b, pixels, num) {
        return pixels = pixels || new Float32Array(4), pixels[0] = (a >> 16 & 255) / 255, pixels[1] = (a >> 8 & 255) / 255, pixels[2] = (255 & a) / 255, (num || void 0 === num) && (pixels[0] *= b, pixels[1] *= b, pixels[2] *= b), pixels[3] = b, pixels;
      }
      Utils.__esModule = true;
      Utils.premultiplyBlendMode = Utils.BaseTextureCache = Utils.TextureCache = Utils.earcut = Utils.mixins = Utils.pluginTarget = Utils.EventEmitter = Utils.removeItems = Utils.isMobile = void 0;
      Utils.uid = uid;
      Utils.hex2rgb = Set;
      Utils.hex2string = create;
      Utils.rgb2hex = rgb2hex;
      Utils.getResolutionOfUrl = clone;
      Utils.decomposeDataUri = client;
      Utils.getUrlFileExtension = getUrlFileExtension;
      Utils.getSvgSize = getFadeColor;
      Utils.skipHello = makeRequestToPrivilegedScript;
      Utils.sayHello = log;
      Utils.isWebGLSupported = isWebGLSupported;
      Utils.sign = registerStringBundleLoadListener;
      Utils.destroyTextureCache = onDataFunc;
      Utils.clearTextureCache = getLocalURL;
      Utils.correctBlendMode = getMessage;
      Utils.premultiplyTint = nextTick;
      Utils.premultiplyRgba = ids;
      Utils.premultiplyTintToRgba = numericLinearTicks;
      var CONST = __webpack_require__("../const");
      var _prepareStyleProperties = __webpack_require__("../settings");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _eventemitter3 = __webpack_require__("eventemitter3");
      var _eventemitter32 = _interopRequireDefault(_eventemitter3);
      var _UiIcon = __webpack_require__("./pluginTarget");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _domHtml = __webpack_require__("./mixin");
      var html = _interopRequireWildcard(_domHtml);
      var _selectorExtra = __webpack_require__("ismobilejs");
      var selector_extra = _interopRequireWildcard(_selectorExtra);
      var _classlist = __webpack_require__("remove-array-items");
      var _classlist2 = _interopRequireDefault(_classlist);
      var _deepAssign = __webpack_require__("./mapPremultipliedBlendModes");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _normalizeDataUri = __webpack_require__("earcut");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var U = 0;
      var X = false;
      Utils.isMobile = selector_extra;
      Utils.removeItems = _classlist2.default;
      Utils.EventEmitter = _eventemitter32.default;
      Utils.pluginTarget = _UiIcon2.default;
      Utils.mixins = html;
      Utils.earcut = _normalizeDataUri2.default;
      var notifs = Utils.TextureCache = Object.create(null);
      var editors = Utils.BaseTextureCache = Object.create(null);
      var monaca = Utils.premultiplyBlendMode = (0, _deepAssign2.default)();
    }, {
      "../const" : 46,
      "../settings" : 101,
      "./mapPremultipliedBlendModes" : 126,
      "./mixin" : 128,
      "./pluginTarget" : 129,
      earcut : 2,
      eventemitter3 : 3,
      ismobilejs : 4,
      "remove-array-items" : 31
    }],
    126 : [function(saveNotifs, canCreateDiscussions, exports) {
      function Sprite() {
        var arr = [];
        var array = [];
        var i = 0;
        for (; i < 32; i++) {
          arr[i] = i;
          array[i] = i;
        }
        arr[CONST.BLEND_MODES.NORMAL_NPM] = CONST.BLEND_MODES.NORMAL;
        arr[CONST.BLEND_MODES.ADD_NPM] = CONST.BLEND_MODES.ADD;
        arr[CONST.BLEND_MODES.SCREEN_NPM] = CONST.BLEND_MODES.SCREEN;
        array[CONST.BLEND_MODES.NORMAL] = CONST.BLEND_MODES.NORMAL_NPM;
        array[CONST.BLEND_MODES.ADD] = CONST.BLEND_MODES.ADD_NPM;
        array[CONST.BLEND_MODES.SCREEN] = CONST.BLEND_MODES.SCREEN_NPM;
        var ws = [];
        return ws.push(array), ws.push(arr), ws;
      }
      exports.__esModule = true;
      exports.default = Sprite;
      var CONST = saveNotifs("../const");
    }, {
      "../const" : 46
    }],
    127 : [function(d3_bisect, canCreateDiscussions, exports) {
      function Editor(name) {
        return self.default.tablet || self.default.phone ? 4 : name;
      }
      exports.__esModule = true;
      exports.default = Editor;
      var index = d3_bisect("ismobilejs");
      var self = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(index);
    }, {
      ismobilejs : 4
    }],
    128 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function mixin(target, source) {
        if (target && source) {
          var r = Object.keys(source);
          var i = 0;
          for (; i < r.length; ++i) {
            var name = r[i];
            Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
          }
        }
      }
      function i(e, s) {
        map.push(e, s);
      }
      function GetFlashVars() {
        var i = 0;
        for (; i < map.length; i = i + 2) {
          mixin(map[i], map[i + 1]);
        }
        map.length = 0;
      }
      exports.__esModule = true;
      exports.mixin = mixin;
      exports.delayMixin = i;
      exports.performMixins = GetFlashVars;
      var map = [];
    }, {}],
    129 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function pluginTarget(obj) {
        obj.__plugins = {};
        obj.registerPlugin = function(name, Constructor) {
          obj.__plugins[name] = Constructor;
        };
        obj.prototype.initPlugins = function() {
          this.plugins = this.plugins || {};
          var o;
          for (o in obj.__plugins) {
            this.plugins[o] = new obj.__plugins[o](this);
          }
        };
        obj.prototype.destroyPlugins = function() {
          var i;
          for (i in this.plugins) {
            this.plugins[i].destroy();
            this.plugins[i] = null;
          }
          this.plugins = null;
        };
      }
      exports.__esModule = true;
      exports.default = {
        mixin : function(obj) {
          pluginTarget(obj);
        }
      };
    }, {}],
    130 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function render(obj) {
        var w = obj.width;
        var h = obj.height;
        var ctx = obj.getContext("2d");
        var vb = ctx.getImageData(0, 0, w, h);
        var alt_list = vb.data;
        var len = alt_list.length;
        var rect = {
          top : null,
          left : null,
          right : null,
          bottom : null
        };
        var data = null;
        var i = void 0;
        var x = void 0;
        var top = void 0;
        i = 0;
        for (; i < len; i = i + 4) {
          if (0 !== alt_list[i + 3]) {
            x = i / 4 % w;
            top = ~~(i / 4 / w);
            if (null === rect.top) {
              rect.top = top;
            }
            if (null === rect.left) {
              rect.left = x;
            } else {
              if (x < rect.left) {
                rect.left = x;
              }
            }
            if (null === rect.right) {
              rect.right = x + 1;
            } else {
              if (rect.right < x) {
                rect.right = x + 1;
              }
            }
            if (null === rect.bottom) {
              rect.bottom = top;
            } else {
              if (rect.bottom < top) {
                rect.bottom = top;
              }
            }
          }
        }
        return null !== rect.top && (w = rect.right - rect.left, h = rect.bottom - rect.top + 1, data = ctx.getImageData(rect.left, rect.top, w, h)), {
          height : h,
          width : w,
          data : data
        };
      }
      exports.__esModule = true;
      exports.default = render;
    }, {}],
    131 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function warn(msg) {
        if (!PL$58[msg]) {
          var stack = (new Error).stack;
          if (void 0 === stack) {
            console.warn("Deprecation Warning: ", msg);
          } else {
            stack = stack.split("\n").splice(3).join("\n");
            if (console.groupCollapsed) {
              console.groupCollapsed("%cDeprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", msg);
              console.warn(stack);
              console.groupEnd();
            } else {
              console.warn("Deprecation Warning: ", msg);
              console.warn(stack);
            }
          }
          PL$58[msg] = true;
        }
      }
      function deprecation(core) {
        var mesh = core.mesh;
        var particles = core.particles;
        var extras = core.extras;
        var filters = core.filters;
        var prepare = core.prepare;
        var loaders = core.loaders;
        var interaction = core.interaction;
        Object.defineProperties(core, {
          SpriteBatch : {
            get : function() {
              throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");
            }
          },
          AssetLoader : {
            get : function() {
              throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.");
            }
          },
          Stage : {
            get : function() {
              return warn("You do not need to use a PIXI Stage any more, you can simply render any container."), core.Container;
            }
          },
          DisplayObjectContainer : {
            get : function() {
              return warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."), core.Container;
            }
          },
          Strip : {
            get : function() {
              return warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."), mesh.Mesh;
            }
          },
          Rope : {
            get : function() {
              return warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."), mesh.Rope;
            }
          },
          ParticleContainer : {
            get : function() {
              return warn("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."), particles.ParticleContainer;
            }
          },
          MovieClip : {
            get : function() {
              return warn("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."), extras.AnimatedSprite;
            }
          },
          TilingSprite : {
            get : function() {
              return warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."), extras.TilingSprite;
            }
          },
          BitmapText : {
            get : function() {
              return warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."), extras.BitmapText;
            }
          },
          blendModes : {
            get : function() {
              return warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."), core.BLEND_MODES;
            }
          },
          scaleModes : {
            get : function() {
              return warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."), core.SCALE_MODES;
            }
          },
          BaseTextureCache : {
            get : function() {
              return warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."), core.utils.BaseTextureCache;
            }
          },
          TextureCache : {
            get : function() {
              return warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."), core.utils.TextureCache;
            }
          },
          math : {
            get : function() {
              return warn("The math namespace is deprecated, please access members already accessible on PIXI."), core;
            }
          },
          AbstractFilter : {
            get : function() {
              return warn("AstractFilter has been renamed to Filter, please use PIXI.Filter"), core.Filter;
            }
          },
          TransformManual : {
            get : function() {
              return warn("TransformManual has been renamed to TransformBase, please update your pixi-spine"), core.TransformBase;
            }
          },
          TARGET_FPMS : {
            get : function() {
              return warn("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), core.settings.TARGET_FPMS;
            },
            set : function(value) {
              warn("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");
              core.settings.TARGET_FPMS = value;
            }
          },
          FILTER_RESOLUTION : {
            get : function() {
              return warn("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), core.settings.FILTER_RESOLUTION;
            },
            set : function(value) {
              warn("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");
              core.settings.FILTER_RESOLUTION = value;
            }
          },
          RESOLUTION : {
            get : function() {
              return warn("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), core.settings.RESOLUTION;
            },
            set : function(value) {
              warn("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");
              core.settings.RESOLUTION = value;
            }
          },
          MIPMAP_TEXTURES : {
            get : function() {
              return warn("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), core.settings.MIPMAP_TEXTURES;
            },
            set : function(value) {
              warn("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");
              core.settings.MIPMAP_TEXTURES = value;
            }
          },
          SPRITE_BATCH_SIZE : {
            get : function() {
              return warn("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), core.settings.SPRITE_BATCH_SIZE;
            },
            set : function(value) {
              warn("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");
              core.settings.SPRITE_BATCH_SIZE = value;
            }
          },
          SPRITE_MAX_TEXTURES : {
            get : function() {
              return warn("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), core.settings.SPRITE_MAX_TEXTURES;
            },
            set : function(value) {
              warn("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");
              core.settings.SPRITE_MAX_TEXTURES = value;
            }
          },
          RETINA_PREFIX : {
            get : function() {
              return warn("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), core.settings.RETINA_PREFIX;
            },
            set : function(value) {
              warn("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");
              core.settings.RETINA_PREFIX = value;
            }
          },
          DEFAULT_RENDER_OPTIONS : {
            get : function() {
              return warn("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"), core.settings.RENDER_OPTIONS;
            }
          }
        });
        var keywordResults = [{
          parent : "TRANSFORM_MODE",
          target : "TRANSFORM_MODE"
        }, {
          parent : "GC_MODES",
          target : "GC_MODE"
        }, {
          parent : "WRAP_MODES",
          target : "WRAP_MODE"
        }, {
          parent : "SCALE_MODES",
          target : "SCALE_MODE"
        }, {
          parent : "PRECISION",
          target : "PRECISION_FRAGMENT"
        }];
        var i = 0;
        for (; i < keywordResults.length; i++) {
          !function(i) {
            var deprecation = keywordResults[i];
            Object.defineProperty(core[deprecation.parent], "DEFAULT", {
              get : function() {
                return warn("PIXI." + deprecation.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + deprecation.target), core.settings[deprecation.target];
              },
              set : function(target) {
                warn("PIXI." + deprecation.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + deprecation.target);
                core.settings[deprecation.target] = target;
              }
            });
          }(i);
        }
        Object.defineProperties(core.settings, {
          PRECISION : {
            get : function() {
              return warn("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), core.settings.PRECISION_FRAGMENT;
            },
            set : function(value) {
              warn("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");
              core.settings.PRECISION_FRAGMENT = value;
            }
          }
        });
        if (extras.AnimatedSprite) {
          Object.defineProperties(extras, {
            MovieClip : {
              get : function() {
                return warn("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."), extras.AnimatedSprite;
              }
            }
          });
        }
        if (extras) {
          Object.defineProperties(extras, {
            TextureTransform : {
              get : function() {
                return warn("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."), core.TextureMatrix;
              }
            }
          });
        }
        core.DisplayObject.prototype.generateTexture = function(renderer, callback, resolution) {
          return warn("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"), renderer.generateTexture(this, callback, resolution);
        };
        core.Graphics.prototype.generateTexture = function(callback, resolution) {
          return warn("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"), this.generateCanvasTexture(callback, resolution);
        };
        core.GroupD8.isSwapWidthHeight = function(props) {
          return warn("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"), core.GroupD8.isVertical(props);
        };
        core.RenderTexture.prototype.render = function(o, w, i, name) {
          this.legacyRenderer.render(o, this, i, w, !name);
          warn("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)");
        };
        core.RenderTexture.prototype.getImage = function(key) {
          return warn("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"), this.legacyRenderer.extract.image(key);
        };
        core.RenderTexture.prototype.getBase64 = function(data) {
          return warn("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"), this.legacyRenderer.extract.base64(data);
        };
        core.RenderTexture.prototype.getCanvas = function(canvas) {
          return warn("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"), this.legacyRenderer.extract.canvas(canvas);
        };
        core.RenderTexture.prototype.getPixels = function(target) {
          return warn("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"), this.legacyRenderer.pixels(target);
        };
        core.Sprite.prototype.setTexture = function(texture) {
          this.texture = texture;
          warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;");
        };
        if (extras.BitmapText) {
          extras.BitmapText.prototype.setText = function(text) {
            this.text = text;
            warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';");
          };
        }
        core.Text.prototype.setText = function(text) {
          this.text = text;
          warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';");
        };
        core.Text.calculateFontProperties = function(font) {
          return warn("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"), core.TextMetrics.measureFont(font);
        };
        Object.defineProperties(core.Text, {
          fontPropertiesCache : {
            get : function() {
              return warn("Text.fontPropertiesCache is deprecated"), core.TextMetrics._fonts;
            }
          },
          fontPropertiesCanvas : {
            get : function() {
              return warn("Text.fontPropertiesCanvas is deprecated"), core.TextMetrics._canvas;
            }
          },
          fontPropertiesContext : {
            get : function() {
              return warn("Text.fontPropertiesContext is deprecated"), core.TextMetrics._context;
            }
          }
        });
        core.Text.prototype.setStyle = function(styleName) {
          this.style = styleName;
          warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;");
        };
        core.Text.prototype.determineFontProperties = function(fontStyle) {
          return warn("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"), core.TextMetrics.measureFont(fontStyle);
        };
        core.Text.getFontStyle = function(style) {
          return warn("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"), style = style || {}, style instanceof core.TextStyle || (style = new core.TextStyle(style)), style.toFontString();
        };
        Object.defineProperties(core.TextStyle.prototype, {
          font : {
            get : function() {
              warn("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");
              var fontSizeString = "number" == typeof this._fontSize ? this._fontSize + "px" : this._fontSize;
              return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + fontSizeString + " " + this._fontFamily;
            },
            set : function(name) {
              warn("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");
              if (name.indexOf("italic") > 1) {
                this._fontStyle = "italic";
              } else {
                if (name.indexOf("oblique") > -1) {
                  this._fontStyle = "oblique";
                } else {
                  this._fontStyle = "normal";
                }
              }
              if (name.indexOf("small-caps") > -1) {
                this._fontVariant = "small-caps";
              } else {
                this._fontVariant = "normal";
              }
              var splits = name.split(" ");
              var startIndex = -1;
              this._fontSize = 26;
              var j = 0;
              for (; j < splits.length; ++j) {
                if (splits[j].match(/(px|pt|em|%)/)) {
                  startIndex = j;
                  this._fontSize = splits[j];
                  break;
                }
              }
              this._fontWeight = "normal";
              var i = 0;
              for (; i < startIndex; ++i) {
                if (splits[i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) {
                  this._fontWeight = splits[i];
                  break;
                }
              }
              if (startIndex > -1 && startIndex < splits.length - 1) {
                this._fontFamily = "";
                var i = startIndex + 1;
                for (; i < splits.length; ++i) {
                  this._fontFamily += splits[i] + " ";
                }
                this._fontFamily = this._fontFamily.slice(0, -1);
              } else {
                this._fontFamily = "Arial";
              }
              this.styleID++;
            }
          }
        });
        core.Texture.prototype.setFrame = function(frame) {
          this.frame = frame;
          warn("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;");
        };
        core.Texture.addTextureToCache = function(texture, id) {
          core.Texture.addToCache(texture, id);
          warn("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.");
        };
        core.Texture.removeTextureFromCache = function(id) {
          return warn("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"), core.BaseTexture.removeFromCache(id), core.Texture.removeFromCache(id);
        };
        Object.defineProperties(filters, {
          AbstractFilter : {
            get : function() {
              return warn("AstractFilter has been renamed to Filter, please use PIXI.Filter"), core.AbstractFilter;
            }
          },
          SpriteMaskFilter : {
            get : function() {
              return warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."), core.SpriteMaskFilter;
            }
          },
          VoidFilter : {
            get : function() {
              return warn("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"), filters.AlphaFilter;
            }
          }
        });
        core.utils.uuid = function() {
          return warn("utils.uuid() is deprecated, please use utils.uid() from now on."), core.utils.uid();
        };
        core.utils.canUseNewCanvasBlendModes = function() {
          return warn("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"), core.CanvasTinter.canUseMultiply;
        };
        var type = true;
        if (Object.defineProperty(core.utils, "_saidHello", {
          set : function(target) {
            if (target) {
              warn("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()");
              this.skipHello();
            }
            type = target;
          },
          get : function() {
            return type;
          }
        }), prepare.BasePrepare && (prepare.BasePrepare.prototype.register = function(t, e) {
          return warn("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"), t && this.registerFindHook(t), e && this.registerUploadHook(e), this;
        }), prepare.canvas && Object.defineProperty(prepare.canvas, "UPLOADS_PER_FRAME", {
          set : function() {
            warn("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer");
          },
          get : function() {
            return warn("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN;
          }
        }), prepare.webgl && Object.defineProperty(prepare.webgl, "UPLOADS_PER_FRAME", {
          set : function() {
            warn("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer");
          },
          get : function() {
            return warn("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN;
          }
        }), loaders.Loader) {
          var Resource = loaders.Resource;
          var Loader = loaders.Loader;
          Object.defineProperties(Resource.prototype, {
            isJson : {
              get : function() {
                return warn("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."), this.type === Resource.TYPE.JSON;
              }
            },
            isXml : {
              get : function() {
                return warn("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."), this.type === Resource.TYPE.XML;
              }
            },
            isImage : {
              get : function() {
                return warn("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."), this.type === Resource.TYPE.IMAGE;
              }
            },
            isAudio : {
              get : function() {
                return warn("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."), this.type === Resource.TYPE.AUDIO;
              }
            },
            isVideo : {
              get : function() {
                return warn("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."), this.type === Resource.TYPE.VIDEO;
              }
            }
          });
          Object.defineProperties(Loader.prototype, {
            before : {
              get : function() {
                return warn("The before() method is deprecated, please use pre()."), this.pre;
              }
            },
            after : {
              get : function() {
                return warn("The after() method is deprecated, please use use()."), this.use;
              }
            }
          });
        }
        if (interaction.interactiveTarget) {
          Object.defineProperty(interaction.interactiveTarget, "defaultCursor", {
            set : function(value) {
              warn("Property defaultCursor has been replaced with 'cursor'. ");
              this.cursor = value;
            },
            get : function() {
              return warn("Property defaultCursor has been replaced with 'cursor'. "), this.cursor;
            }
          });
        }
        if (interaction.InteractionManager) {
          Object.defineProperty(interaction.InteractionManager, "defaultCursorStyle", {
            set : function(value) {
              warn("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");
              this.cursorStyles.default = value;
            },
            get : function() {
              return warn("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles.default;
            }
          });
          Object.defineProperty(interaction.InteractionManager, "currentCursorStyle", {
            set : function(value) {
              warn("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");
              this.currentCursorMode = value;
            },
            get : function() {
              return warn("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode;
            }
          });
        }
      }
      exports.__esModule = true;
      exports.default = deprecation;
      var PL$58 = {};
    }, {}],
    132 : [function(require, canCreateDiscussions, exports) {
      function render(sub, type) {
        if (!(sub instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var modules = require("../../core");
      var core = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(modules);
      var entry_start = new core.Rectangle;
      var StarRatingComponent = function() {
        function renderer(text) {
          render(this, renderer);
          this.renderer = text;
          text.extract = this;
        }
        return renderer.prototype.image = function(value) {
          var image = new Image;
          return image.src = this.base64(value), image;
        }, renderer.prototype.base64 = function(target) {
          return this.canvas(target).toDataURL();
        }, renderer.prototype.canvas = function(target) {
          var renderer = this.renderer;
          var context = void 0;
          var resolution = void 0;
          var frame = void 0;
          var renderTexture = void 0;
          if (target) {
            renderTexture = target instanceof core.RenderTexture ? target : renderer.generateTexture(target);
          }
          if (renderTexture) {
            context = renderTexture.baseTexture._canvasRenderTarget.context;
            resolution = renderTexture.baseTexture._canvasRenderTarget.resolution;
            frame = renderTexture.frame;
          } else {
            context = renderer.rootContext;
            resolution = renderer.resolution;
            frame = entry_start;
            frame.width = this.renderer.width;
            frame.height = this.renderer.height;
          }
          var width = frame.width * resolution;
          var height = frame.height * resolution;
          var tempCanvas = new core.CanvasRenderTarget(width, height, 1);
          var surfaceImageData = context.getImageData(frame.x * resolution, frame.y * resolution, width, height);
          return tempCanvas.context.putImageData(surfaceImageData, 0, 0), tempCanvas.canvas;
        }, renderer.prototype.pixels = function(target) {
          var renderer = this.renderer;
          var context = void 0;
          var resolution = void 0;
          var frame = void 0;
          var renderTexture = void 0;
          return target && (renderTexture = target instanceof core.RenderTexture ? target : renderer.generateTexture(target)), renderTexture ? (context = renderTexture.baseTexture._canvasRenderTarget.context, resolution = renderTexture.baseTexture._canvasRenderTarget.resolution, frame = renderTexture.frame) : (context = renderer.rootContext, frame = entry_start, frame.width = renderer.width, frame.height = renderer.height), context.getImageData(0, 0, frame.width * resolution, frame.height * resolution).data;
        }, renderer.prototype.destroy = function() {
          this.renderer.extract = null;
          this.renderer = null;
        }, renderer;
      }();
      exports.default = StarRatingComponent;
      core.CanvasRenderer.registerPlugin("extract", StarRatingComponent);
    }, {
      "../../core" : 65
    }],
    133 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./webgl/WebGLExtract");
      Object.defineProperty(exports, "webgl", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./canvas/CanvasExtract");
      Object.defineProperty(exports, "canvas", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
    }, {
      "./canvas/CanvasExtract" : 132,
      "./webgl/WebGLExtract" : 134
    }],
    134 : [function(require, canCreateDiscussions, exports) {
      function render(sub, type) {
        if (!(sub instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var modules = require("../../core");
      var core = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(modules);
      var entry_start = new core.Rectangle;
      var StarRatingComponent = function() {
        function renderer(text) {
          render(this, renderer);
          this.renderer = text;
          text.extract = this;
        }
        return renderer.prototype.image = function(value) {
          var image = new Image;
          return image.src = this.base64(value), image;
        }, renderer.prototype.base64 = function(target) {
          return this.canvas(target).toDataURL();
        }, renderer.prototype.canvas = function(target) {
          var renderer = this.renderer;
          var textureBuffer = void 0;
          var resolution = void 0;
          var frame = void 0;
          var a = false;
          var renderTexture = void 0;
          var h = false;
          if (target) {
            if (target instanceof core.RenderTexture) {
              renderTexture = target;
            } else {
              renderTexture = this.renderer.generateTexture(target);
              h = true;
            }
          }
          if (renderTexture) {
            textureBuffer = renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];
            resolution = textureBuffer.resolution;
            frame = renderTexture.frame;
            a = false;
          } else {
            textureBuffer = this.renderer.rootRenderTarget;
            resolution = textureBuffer.resolution;
            a = true;
            frame = entry_start;
            frame.width = textureBuffer.size.width;
            frame.height = textureBuffer.size.height;
          }
          var width = frame.width * resolution;
          var height = frame.height * resolution;
          var canvasBuffer = new core.CanvasRenderTarget(width, height, 1);
          if (textureBuffer) {
            renderer.bindRenderTarget(textureBuffer);
            var p = new Uint8Array(4 * width * height);
            var gl = renderer.gl;
            gl.readPixels(frame.x * resolution, frame.y * resolution, width, height, gl.RGBA, gl.UNSIGNED_BYTE, p);
            var imageData = canvasBuffer.context.getImageData(0, 0, width, height);
            imageData.data.set(p);
            canvasBuffer.context.putImageData(imageData, 0, 0);
            if (a) {
              canvasBuffer.context.scale(1, -1);
              canvasBuffer.context.drawImage(canvasBuffer.canvas, 0, -height);
            }
          }
          return h && renderTexture.destroy(true), canvasBuffer.canvas;
        }, renderer.prototype.pixels = function(target) {
          var renderer = this.renderer;
          var textureBuffer = void 0;
          var resolution = void 0;
          var frame = void 0;
          var renderTexture = void 0;
          var ba = false;
          if (target) {
            if (target instanceof core.RenderTexture) {
              renderTexture = target;
            } else {
              renderTexture = this.renderer.generateTexture(target);
              ba = true;
            }
          }
          if (renderTexture) {
            textureBuffer = renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];
            resolution = textureBuffer.resolution;
            frame = renderTexture.frame;
          } else {
            textureBuffer = this.renderer.rootRenderTarget;
            resolution = textureBuffer.resolution;
            frame = entry_start;
            frame.width = textureBuffer.size.width;
            frame.height = textureBuffer.size.height;
          }
          var width = frame.width * resolution;
          var height = frame.height * resolution;
          var imgdata = new Uint8Array(4 * width * height);
          if (textureBuffer) {
            renderer.bindRenderTarget(textureBuffer);
            var gl = renderer.gl;
            gl.readPixels(frame.x * resolution, frame.y * resolution, width, height, gl.RGBA, gl.UNSIGNED_BYTE, imgdata);
          }
          return ba && renderTexture.destroy(true), imgdata;
        }, renderer.prototype.destroy = function() {
          this.renderer.extract = null;
          this.renderer = null;
        }, renderer;
      }();
      exports.default = StarRatingComponent;
      core.WebGLRenderer.registerPlugin("extract", StarRatingComponent);
    }, {
      "../../core" : 65
    }],
    135 : [function(require, canCreateDiscussions, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function test(win, value) {
        if (!win) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !value || "object" != typeof value && "function" != typeof value ? win : value;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var eqPartial = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var modules = require("../core");
      var core = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(modules);
      var SuggestList = function(t) {
        function render(value, cwd) {
          _get(this, render);
          var self = test(this, t.call(this, value[0] instanceof core.Texture ? value[0] : value[0].texture));
          return self._textures = null, self._durations = null, self.textures = value, self._autoUpdate = false !== cwd, self.animationSpeed = 1, self.loop = true, self.updateAnchor = false, self.onComplete = null, self.onFrameChange = null, self.onLoop = null, self._currentTime = 0, self.playing = false, self;
        }
        return _inherits(render, t), render.prototype.stop = function() {
          if (this.playing) {
            this.playing = false;
            if (this._autoUpdate) {
              core.ticker.shared.remove(this.update, this);
            }
          }
        }, render.prototype.play = function() {
          if (!this.playing) {
            this.playing = true;
            if (this._autoUpdate) {
              core.ticker.shared.add(this.update, this, core.UPDATE_PRIORITY.HIGH);
            }
          }
        }, render.prototype.gotoAndStop = function(frameNumber) {
          this.stop();
          var thisFrame = this.currentFrame;
          this._currentTime = frameNumber;
          if (thisFrame !== this.currentFrame) {
            this.updateTexture();
          }
        }, render.prototype.gotoAndPlay = function(value) {
          var thisFrame = this.currentFrame;
          this._currentTime = value;
          if (thisFrame !== this.currentFrame) {
            this.updateTexture();
          }
          this.play();
        }, render.prototype.update = function(delta) {
          var elapsed = this.animationSpeed * delta;
          var thisFrame = this.currentFrame;
          if (null !== this._durations) {
            var lag = this._currentTime % 1 * this._durations[this.currentFrame];
            lag = lag + elapsed / 60 * 1E3;
            for (; lag < 0;) {
              this._currentTime--;
              lag = lag + this._durations[this.currentFrame];
            }
            var sign = Math.sign(this.animationSpeed * delta);
            this._currentTime = Math.floor(this._currentTime);
            for (; lag >= this._durations[this.currentFrame];) {
              lag = lag - this._durations[this.currentFrame] * sign;
              this._currentTime += sign;
            }
            this._currentTime += lag / this._durations[this.currentFrame];
          } else {
            this._currentTime += elapsed;
          }
          if (this._currentTime < 0 && !this.loop) {
            this.gotoAndStop(0);
            if (this.onComplete) {
              this.onComplete();
            }
          } else {
            if (this._currentTime >= this._textures.length && !this.loop) {
              this.gotoAndStop(this._textures.length - 1);
              if (this.onComplete) {
                this.onComplete();
              }
            } else {
              if (thisFrame !== this.currentFrame) {
                if (this.loop && this.onLoop) {
                  if (this.animationSpeed > 0 && this.currentFrame < thisFrame) {
                    this.onLoop();
                  } else {
                    if (this.animationSpeed < 0 && this.currentFrame > thisFrame) {
                      this.onLoop();
                    }
                  }
                }
                this.updateTexture();
              }
            }
          }
        }, render.prototype.updateTexture = function() {
          this._texture = this._textures[this.currentFrame];
          this._textureID = -1;
          this.cachedTint = 16777215;
          if (this.updateAnchor) {
            this._anchor.copy(this._texture.defaultAnchor);
          }
          if (this.onFrameChange) {
            this.onFrameChange(this.currentFrame);
          }
        }, render.prototype.destroy = function(err) {
          this.stop();
          t.prototype.destroy.call(this, err);
        }, render.fromFrames = function(frames) {
          var r = [];
          var i = 0;
          for (; i < frames.length; ++i) {
            r.push(core.Texture.fromFrame(frames[i]));
          }
          return new render(r);
        }, render.fromImages = function(images) {
          var r = [];
          var i = 0;
          for (; i < images.length; ++i) {
            r.push(core.Texture.fromImage(images[i]));
          }
          return new render(r);
        }, eqPartial(render, [{
          key : "totalFrames",
          get : function() {
            return this._textures.length;
          }
        }, {
          key : "textures",
          get : function() {
            return this._textures;
          },
          set : function(value) {
            if (value[0] instanceof core.Texture) {
              this._textures = value;
              this._durations = null;
            } else {
              this._textures = [];
              this._durations = [];
              var i = 0;
              for (; i < value.length; i++) {
                this._textures.push(value[i].texture);
                this._durations.push(value[i].time);
              }
            }
            this.gotoAndStop(0);
            this.updateTexture();
          }
        }, {
          key : "currentFrame",
          get : function() {
            var currentFrame = Math.floor(this._currentTime) % this._textures.length;
            return currentFrame < 0 && (currentFrame = currentFrame + this._textures.length), currentFrame;
          }
        }]), render;
      }(core.Sprite);
      exports.default = SuggestList;
    }, {
      "../core" : 65
    }],
    136 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function splice(array, insert) {
        if (!(array instanceof insert)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function bind(name, o) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !o || "object" != typeof o && "function" != typeof o ? name : o;
      }
      function extend(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var randomSetMember = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var window = __webpack_require__("../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _prepareStyleProperties = __webpack_require__("../core/math/ObservablePoint");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var Utils = __webpack_require__("../core/utils");
      var _normalizeDataUri = __webpack_require__("../core/settings");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var rep = function(Sprite) {
        function set(text) {
          var style = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          splice(this, set);
          var node = bind(this, Sprite.call(this));
          return node._textWidth = 0, node._textHeight = 0, node._glyphs = [], node._font = {
            tint : void 0 !== style.tint ? style.tint : 16777215,
            align : style.align || "left",
            name : null,
            size : 0
          }, node.font = style.font, node._text = text, node._maxWidth = 0, node._maxLineHeight = 0, node._letterSpacing = 0, node._anchor = new _prepareStyleProperties2.default(function() {
            node.dirty = true;
          }, node, 0, 0), node.dirty = false, node.updateText(), node;
        }
        return extend(set, Sprite), set.prototype.updateText = function() {
          var data = set.fonts[this._font.name];
          var scale = this._font.size / data.size;
          var pos = new core.Point;
          var value = [];
          var result = [];
          var word = this.text.replace(/(?:\r\n|\r)/g, "\n");
          var wordLength = word.length;
          var limit = this._maxWidth * data.size / this._font.size;
          var prevCharCode = null;
          var t = 0;
          var x = 0;
          var rlt = 0;
          var start = -1;
          var end = 0;
          var spacesRemoved = 0;
          var height = 0;
          var j = 0;
          for (; j < wordLength; j++) {
            var charCode = word.charCodeAt(j);
            var a = word.charAt(j);
            if (/(?:\s)/.test(a) && (start = j, end = t), "\r" !== a && "\n" !== a) {
              var charData = data.chars[charCode];
              if (charData) {
                if (prevCharCode && charData.kerning[prevCharCode]) {
                  pos.x += charData.kerning[prevCharCode];
                }
                value.push({
                  texture : charData.texture,
                  line : rlt,
                  charCode : charCode,
                  position : new core.Point(pos.x + charData.xOffset + this._letterSpacing / 2, pos.y + charData.yOffset)
                });
                pos.x += charData.xAdvance + this._letterSpacing;
                t = pos.x;
                height = Math.max(height, charData.yOffset + charData.texture.height);
                prevCharCode = charCode;
                if (-1 !== start && limit > 0 && pos.x > limit) {
                  ++spacesRemoved;
                  core.utils.removeItems(value, 1 + start - spacesRemoved, 1 + j - start);
                  j = start;
                  start = -1;
                  result.push(end);
                  x = Math.max(x, end);
                  rlt++;
                  pos.x = 0;
                  pos.y += data.lineHeight;
                  prevCharCode = null;
                }
              }
            } else {
              result.push(t);
              x = Math.max(x, t);
              ++rlt;
              ++spacesRemoved;
              pos.x = 0;
              pos.y += data.lineHeight;
              prevCharCode = null;
            }
          }
          var instanceFillValue = word.charAt(word.length - 1);
          if ("\r" !== instanceFillValue && "\n" !== instanceFillValue) {
            if (/(?:\s)/.test(instanceFillValue)) {
              t = end;
            }
            result.push(t);
            x = Math.max(x, t);
          }
          var lines = [];
          var k = 0;
          for (; k <= rlt; k++) {
            var x2 = 0;
            if ("right" === this._font.align) {
              x2 = x - result[k];
            } else {
              if ("center" === this._font.align) {
                x2 = (x - result[k]) / 2;
              }
            }
            lines.push(x2);
          }
          var valueLength = value.length;
          var tint = this.tint;
          var i = 0;
          for (; i < valueLength; i++) {
            var c = this._glyphs[i];
            if (c) {
              c.texture = value[i].texture;
            } else {
              c = new core.Sprite(value[i].texture);
              this._glyphs.push(c);
            }
            c.position.x = (value[i].position.x + lines[value[i].line]) * scale;
            c.position.y = value[i].position.y * scale;
            c.scale.x = c.scale.y = scale;
            c.tint = tint;
            if (!c.parent) {
              this.addChild(c);
            }
          }
          var index = valueLength;
          for (; index < this._glyphs.length; ++index) {
            this.removeChild(this._glyphs[index]);
          }
          if (this._textWidth = x * scale, this._textHeight = (pos.y + data.lineHeight) * scale, 0 !== this.anchor.x || 0 !== this.anchor.y) {
            var i = 0;
            for (; i < valueLength; i++) {
              this._glyphs[i].x -= this._textWidth * this.anchor.x;
              this._glyphs[i].y -= this._textHeight * this.anchor.y;
            }
          }
          this._maxLineHeight = height * scale;
        }, set.prototype.updateTransform = function() {
          this.validate();
          this.containerUpdateTransform();
        }, set.prototype.getLocalBounds = function() {
          return this.validate(), Sprite.prototype.getLocalBounds.call(this);
        }, set.prototype.validate = function() {
          if (this.dirty) {
            this.updateText();
            this.dirty = false;
          }
        }, set.registerFont = function(xml, value) {
          var data = {};
          var element = xml.getElementsByTagName("info")[0];
          var $block = xml.getElementsByTagName("common")[0];
          var buttons = xml.getElementsByTagName("page");
          var res = (0, Utils.getResolutionOfUrl)(buttons[0].getAttribute("file"), _normalizeDataUri2.default.RESOLUTION);
          var childEls = {};
          data.font = element.getAttribute("face");
          data.size = parseInt(element.getAttribute("size"), 10);
          data.lineHeight = parseInt($block.getAttribute("lineHeight"), 10) / res;
          data.chars = {};
          if (value instanceof core.Texture) {
            value = [value];
          }
          var j = 0;
          for (; j < buttons.length; j++) {
            var i = buttons[j].getAttribute("id");
            var key = buttons[j].getAttribute("file");
            childEls[i] = value instanceof Array ? value[j] : value[key];
          }
          var crossfilterable_layers = xml.getElementsByTagName("char");
          var layer_i = 0;
          for (; layer_i < crossfilterable_layers.length; layer_i++) {
            var letter = crossfilterable_layers[layer_i];
            var charCode = parseInt(letter.getAttribute("id"), 10);
            var i = letter.getAttribute("page") || 0;
            var textureRect = new core.Rectangle(parseInt(letter.getAttribute("x"), 10) / res + childEls[i].frame.x / res, parseInt(letter.getAttribute("y"), 10) / res + childEls[i].frame.y / res, parseInt(letter.getAttribute("width"), 10) / res, parseInt(letter.getAttribute("height"), 10) / res);
            data.chars[charCode] = {
              xOffset : parseInt(letter.getAttribute("xoffset"), 10) / res,
              yOffset : parseInt(letter.getAttribute("yoffset"), 10) / res,
              xAdvance : parseInt(letter.getAttribute("xadvance"), 10) / res,
              kerning : {},
              texture : new core.Texture(childEls[i].baseTexture, textureRect),
              page : i
            };
          }
          var kernings = xml.getElementsByTagName("kerning");
          var i = 0;
          for (; i < kernings.length; i++) {
            var k = kernings[i];
            var signedTransactionsCounter = parseInt(k.getAttribute("first"), 10) / res;
            var second = parseInt(k.getAttribute("second"), 10) / res;
            var signedTxHex = parseInt(k.getAttribute("amount"), 10) / res;
            if (data.chars[second]) {
              data.chars[second].kerning[signedTransactionsCounter] = signedTxHex;
            }
          }
          return set.fonts[data.font] = data, data;
        }, randomSetMember(set, [{
          key : "tint",
          get : function() {
            return this._font.tint;
          },
          set : function(value) {
            this._font.tint = "number" == typeof value && value >= 0 ? value : 16777215;
            this.dirty = true;
          }
        }, {
          key : "align",
          get : function() {
            return this._font.align;
          },
          set : function(value) {
            this._font.align = value || "left";
            this.dirty = true;
          }
        }, {
          key : "anchor",
          get : function() {
            return this._anchor;
          },
          set : function(value) {
            if ("number" == typeof value) {
              this._anchor.set(value);
            } else {
              this._anchor.copy(value);
            }
          }
        }, {
          key : "font",
          get : function() {
            return this._font;
          },
          set : function(value) {
            if (value) {
              if ("string" == typeof value) {
                value = value.split(" ");
                this._font.name = 1 === value.length ? value[0] : value.slice(1).join(" ");
                this._font.size = value.length >= 2 ? parseInt(value[0], 10) : set.fonts[this._font.name].size;
              } else {
                this._font.name = value.name;
                this._font.size = "number" == typeof value.size ? value.size : parseInt(value.size, 10);
              }
              this.dirty = true;
            }
          }
        }, {
          key : "text",
          get : function() {
            return this._text;
          },
          set : function(value) {
            value = value.toString() || " ";
            if (this._text !== value) {
              this._text = value;
              this.dirty = true;
            }
          }
        }, {
          key : "maxWidth",
          get : function() {
            return this._maxWidth;
          },
          set : function(value) {
            if (this._maxWidth !== value) {
              this._maxWidth = value;
              this.dirty = true;
            }
          }
        }, {
          key : "maxLineHeight",
          get : function() {
            return this.validate(), this._maxLineHeight;
          }
        }, {
          key : "textWidth",
          get : function() {
            return this.validate(), this._textWidth;
          }
        }, {
          key : "letterSpacing",
          get : function() {
            return this._letterSpacing;
          },
          set : function(target) {
            if (this._letterSpacing !== target) {
              this._letterSpacing = target;
              this.dirty = true;
            }
          }
        }, {
          key : "textHeight",
          get : function() {
            return this.validate(), this._textHeight;
          }
        }]), set;
      }(core.Container);
      exports.default = rep;
      rep.fonts = {};
    }, {
      "../core" : 65,
      "../core/math/ObservablePoint" : 68,
      "../core/settings" : 101,
      "../core/utils" : 125
    }],
    137 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var window = __webpack_require__("../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _deepAssign = __webpack_require__("../core/sprites/canvas/CanvasTinter");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var point = new core.Point;
      var SuggestList = function(Resource) {
        function Sprite(data) {
          var value = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100;
          var start = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;
          _classCallCheck(this, Sprite);
          var ts = _possibleConstructorReturn(this, Resource.call(this, data));
          return ts.tileTransform = new core.TransformStatic, ts._width = value, ts._height = start, ts._canvasPattern = null, ts.uvTransform = data.transform || new core.TextureMatrix(data), ts.pluginName = "tilingSprite", ts.uvRespectAnchor = false, ts;
        }
        return inherits(Sprite, Resource), Sprite.prototype._onTextureUpdate = function() {
          if (this.uvTransform) {
            this.uvTransform.texture = this._texture;
          }
          this.cachedTint = 16777215;
        }, Sprite.prototype._renderWebGL = function(renderer) {
          var ensured = this._texture;
          if (ensured && ensured.valid) {
            this.tileTransform.updateLocalTransform();
            this.uvTransform.update();
            renderer.setObjectRenderer(renderer.plugins[this.pluginName]);
            renderer.plugins[this.pluginName].render(this);
          }
        }, Sprite.prototype._renderCanvas = function(renderer) {
          var options = this._texture;
          if (options.baseTexture.hasLoaded) {
            var context = renderer.context;
            var transform = this.worldTransform;
            var resolution = renderer.resolution;
            var o = 2 === options.rotate;
            var base = options.baseTexture;
            var baseTextureResolution = base.resolution;
            var modX = this.tilePosition.x / this.tileScale.x % options.orig.width * baseTextureResolution;
            var modY = this.tilePosition.y / this.tileScale.y % options.orig.height * baseTextureResolution;
            if (this._textureID !== this._texture._updateID || this.cachedTint !== this.tint) {
              this._textureID = this._texture._updateID;
              var self = new core.CanvasRenderTarget(options.orig.width, options.orig.height, baseTextureResolution);
              if (16777215 !== this.tint) {
                this.tintedTexture = _deepAssign2.default.getTintedTexture(this, this.tint);
                self.context.drawImage(this.tintedTexture, 0, 0);
              } else {
                var sunMeterX = options._frame.x * baseTextureResolution;
                var yJar = options._frame.y * baseTextureResolution;
                var draw_width = options._frame.width * baseTextureResolution;
                var draw_height = options._frame.height * baseTextureResolution;
                var ICON_SIZE = (options.trim ? options.trim.width : options.orig.width) * baseTextureResolution;
                var w = (options.trim ? options.trim.height : options.orig.height) * baseTextureResolution;
                var padPx = (options.trim ? options.trim.x : 0) * baseTextureResolution;
                var offset = (options.trim ? options.trim.y : 0) * baseTextureResolution;
                if (o) {
                  self.context.rotate(-Math.PI / 2);
                  self.context.translate(-w, 0);
                  self.context.drawImage(base.source, sunMeterX, yJar, draw_width, draw_height, -offset, padPx, w, ICON_SIZE);
                } else {
                  self.context.drawImage(base.source, sunMeterX, yJar, draw_width, draw_height, padPx, offset, ICON_SIZE, w);
                }
              }
              this.cachedTint = this.tint;
              this._canvasPattern = self.context.createPattern(self.canvas, "repeat");
            }
            context.globalAlpha = this.worldAlpha;
            context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
            renderer.setBlendMode(this.blendMode);
            context.fillStyle = this._canvasPattern;
            context.scale(this.tileScale.x / baseTextureResolution, this.tileScale.y / baseTextureResolution);
            var anchorX = this.anchor.x * -this._width * baseTextureResolution;
            var anchorY = this.anchor.y * -this._height * baseTextureResolution;
            if (this.uvRespectAnchor) {
              context.translate(modX, modY);
              context.fillRect(-modX + anchorX, -modY + anchorY, this._width / this.tileScale.x * baseTextureResolution, this._height / this.tileScale.y * baseTextureResolution);
            } else {
              context.translate(modX + anchorX, modY + anchorY);
              context.fillRect(-modX, -modY, this._width / this.tileScale.x * baseTextureResolution, this._height / this.tileScale.y * baseTextureResolution);
            }
          }
        }, Sprite.prototype._calculateBounds = function() {
          var minX = this._width * -this._anchor._x;
          var minY = this._height * -this._anchor._y;
          var maxX = this._width * (1 - this._anchor._x);
          var height = this._height * (1 - this._anchor._y);
          this._bounds.addFrame(this.transform, minX, minY, maxX, height);
        }, Sprite.prototype.getLocalBounds = function(rect) {
          return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._y), rect || (this._localBoundsRect || (this._localBoundsRect = new core.Rectangle), rect = this._localBoundsRect), this._bounds.getRectangle(rect)) : Resource.prototype.getLocalBounds.call(this, rect);
        }, Sprite.prototype.containsPoint = function(type) {
          this.worldTransform.applyInverse(type, point);
          var width = this._width;
          var height = this._height;
          var x = -width * this.anchor._x;
          if (point.x >= x && point.x < x + width) {
            var y = -height * this.anchor._y;
            if (point.y >= y && point.y < y + height) {
              return true;
            }
          }
          return false;
        }, Sprite.prototype.destroy = function(err) {
          Resource.prototype.destroy.call(this, err);
          this.tileTransform = null;
          this.uvTransform = null;
        }, Sprite.from = function(source, path, type) {
          return new Sprite(core.Texture.from(source), path, type);
        }, Sprite.fromFrame = function(frameId, width, height) {
          var texture = core.utils.TextureCache[frameId];
          if (!texture) {
            throw new Error('The frameId "' + frameId + '" does not exist in the texture cache ' + this);
          }
          return new Sprite(texture, width, height);
        }, Sprite.fromImage = function(imageUrl, width, height, crossorigin, scaleMode) {
          return new Sprite(core.Texture.fromImage(imageUrl, crossorigin, scaleMode), width, height);
        }, _createClass(Sprite, [{
          key : "clampMargin",
          get : function() {
            return this.uvTransform.clampMargin;
          },
          set : function(value) {
            this.uvTransform.clampMargin = value;
            this.uvTransform.update(true);
          }
        }, {
          key : "tileScale",
          get : function() {
            return this.tileTransform.scale;
          },
          set : function(target) {
            this.tileTransform.scale.copy(target);
          }
        }, {
          key : "tilePosition",
          get : function() {
            return this.tileTransform.position;
          },
          set : function(target) {
            this.tileTransform.position.copy(target);
          }
        }, {
          key : "width",
          get : function() {
            return this._width;
          },
          set : function(value) {
            this._width = value;
          }
        }, {
          key : "height",
          get : function() {
            return this._height;
          },
          set : function(value) {
            this._height = value;
          }
        }]), Sprite;
      }(core.Sprite);
      exports.default = SuggestList;
    }, {
      "../core" : 65,
      "../core/sprites/canvas/CanvasTinter" : 104
    }],
    138 : [function(__webpack_require__, canCreateDiscussions, isSlidingUp) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function render(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      var _UiIcon = __webpack_require__("../core");
      var PIXI = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(_UiIcon);
      var _deepAssign = __webpack_require__("../core/textures/Texture");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _prepareStyleProperties = __webpack_require__("../core/textures/BaseTexture");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var utilCommon = __webpack_require__("../core/utils");
      var DisplayObject = PIXI.DisplayObject;
      var Math = new PIXI.Matrix;
      DisplayObject.prototype._cacheAsBitmap = false;
      DisplayObject.prototype._cacheData = false;
      var CacheData = function end() {
        render(this, end);
        this.textureCacheId = null;
        this.originalRenderWebGL = null;
        this.originalRenderCanvas = null;
        this.originalCalculateBounds = null;
        this.originalGetLocalBounds = null;
        this.originalUpdateTransform = null;
        this.originalHitTest = null;
        this.originalDestroy = null;
        this.originalMask = null;
        this.originalFilterArea = null;
        this.sprite = null;
      };
      Object.defineProperties(DisplayObject.prototype, {
        cacheAsBitmap : {
          get : function() {
            return this._cacheAsBitmap;
          },
          set : function(value) {
            if (this._cacheAsBitmap !== value) {
              this._cacheAsBitmap = value;
              var data = void 0;
              if (value) {
                if (!this._cacheData) {
                  this._cacheData = new CacheData;
                }
                data = this._cacheData;
                data.originalRenderWebGL = this.renderWebGL;
                data.originalRenderCanvas = this.renderCanvas;
                data.originalUpdateTransform = this.updateTransform;
                data.originalCalculateBounds = this.calculateBounds;
                data.originalGetLocalBounds = this.getLocalBounds;
                data.originalDestroy = this.destroy;
                data.originalContainsPoint = this.containsPoint;
                data.originalMask = this._mask;
                data.originalFilterArea = this.filterArea;
                this.renderWebGL = this._renderCachedWebGL;
                this.renderCanvas = this._renderCachedCanvas;
                this.destroy = this._cacheAsBitmapDestroy;
              } else {
                data = this._cacheData;
                if (data.sprite) {
                  this._destroyCachedDisplayObject();
                }
                this.renderWebGL = data.originalRenderWebGL;
                this.renderCanvas = data.originalRenderCanvas;
                this.calculateBounds = data.originalCalculateBounds;
                this.getLocalBounds = data.originalGetLocalBounds;
                this.destroy = data.originalDestroy;
                this.updateTransform = data.originalUpdateTransform;
                this.containsPoint = data.originalContainsPoint;
                this._mask = data.originalMask;
                this.filterArea = data.originalFilterArea;
              }
            }
          }
        }
      });
      DisplayObject.prototype._renderCachedWebGL = function(renderer) {
        if (!(!this.visible || this.worldAlpha <= 0 || !this.renderable)) {
          this._initCachedDisplayObject(renderer);
          this._cacheData.sprite.transform._worldID = this.transform._worldID;
          this._cacheData.sprite.worldAlpha = this.worldAlpha;
          this._cacheData.sprite._renderWebGL(renderer);
        }
      };
      DisplayObject.prototype._initCachedDisplayObject = function(renderer) {
        if (!this._cacheData || !this._cacheData.sprite) {
          var cacheAlpha = this.alpha;
          this.alpha = 1;
          renderer.currentRenderer.flush();
          var params = this.getLocalBounds().clone();
          if (this._filters && this._filters.length) {
            var integer = this._filters[0].padding;
            params.pad(integer);
          }
          params.ceil(PIXI.settings.RESOLUTION);
          var renderTarget = renderer._activeRenderTarget;
          var stack = renderer.filterManager.filterStack;
          var texture = PIXI.RenderTexture.create(params.width, params.height);
          var textureCacheId = "cacheAsBitmap_" + (0, utilCommon.uid)();
          this._cacheData.textureCacheId = textureCacheId;
          _prepareStyleProperties2.default.addToCache(texture.baseTexture, textureCacheId);
          _deepAssign2.default.addToCache(texture, textureCacheId);
          var m = Math;
          m.tx = -params.x;
          m.ty = -params.y;
          this.transform.worldTransform.identity();
          this.renderWebGL = this._cacheData.originalRenderWebGL;
          renderer.render(this, texture, true, m, true);
          renderer.bindRenderTarget(renderTarget);
          renderer.filterManager.filterStack = stack;
          this.renderWebGL = this._renderCachedWebGL;
          this.updateTransform = this.displayObjectUpdateTransform;
          this.calculateBounds = this._calculateCachedBounds;
          this.getLocalBounds = this._getCachedLocalBounds;
          this._mask = null;
          this.filterArea = null;
          var cachedSprite = new PIXI.Sprite(texture);
          cachedSprite.transform.worldTransform = this.transform.worldTransform;
          cachedSprite.anchor.x = -params.x / params.width;
          cachedSprite.anchor.y = -params.y / params.height;
          cachedSprite.alpha = cacheAlpha;
          cachedSprite._bounds = this._bounds;
          this._cacheData.sprite = cachedSprite;
          this.transform._parentID = -1;
          if (this.parent) {
            this.updateTransform();
          } else {
            this.parent = renderer._tempDisplayObjectParent;
            this.updateTransform();
            this.parent = null;
          }
          this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
        }
      };
      DisplayObject.prototype._renderCachedCanvas = function(renderer) {
        if (!(!this.visible || this.worldAlpha <= 0 || !this.renderable)) {
          this._initCachedDisplayObjectCanvas(renderer);
          this._cacheData.sprite.worldAlpha = this.worldAlpha;
          this._cacheData.sprite._renderCanvas(renderer);
        }
      };
      DisplayObject.prototype._initCachedDisplayObjectCanvas = function(renderer) {
        if (!this._cacheData || !this._cacheData.sprite) {
          var bounds = this.getLocalBounds();
          var cacheAlpha = this.alpha;
          this.alpha = 1;
          var context = renderer.context;
          bounds.ceil(PIXI.settings.RESOLUTION);
          var texture = PIXI.RenderTexture.create(bounds.width, bounds.height);
          var textureCacheId = "cacheAsBitmap_" + (0, utilCommon.uid)();
          this._cacheData.textureCacheId = textureCacheId;
          _prepareStyleProperties2.default.addToCache(texture.baseTexture, textureCacheId);
          _deepAssign2.default.addToCache(texture, textureCacheId);
          var m = Math;
          this.transform.localTransform.copy(m);
          m.invert();
          m.tx -= bounds.x;
          m.ty -= bounds.y;
          this.renderCanvas = this._cacheData.originalRenderCanvas;
          renderer.render(this, texture, true, m, false);
          renderer.context = context;
          this.renderCanvas = this._renderCachedCanvas;
          this.updateTransform = this.displayObjectUpdateTransform;
          this.calculateBounds = this._calculateCachedBounds;
          this.getLocalBounds = this._getCachedLocalBounds;
          this._mask = null;
          this.filterArea = null;
          var cachedSprite = new PIXI.Sprite(texture);
          cachedSprite.transform.worldTransform = this.transform.worldTransform;
          cachedSprite.anchor.x = -bounds.x / bounds.width;
          cachedSprite.anchor.y = -bounds.y / bounds.height;
          cachedSprite.alpha = cacheAlpha;
          cachedSprite._bounds = this._bounds;
          this._cacheData.sprite = cachedSprite;
          this.transform._parentID = -1;
          if (this.parent) {
            this.updateTransform();
          } else {
            this.parent = renderer._tempDisplayObjectParent;
            this.updateTransform();
            this.parent = null;
          }
          this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
        }
      };
      DisplayObject.prototype._calculateCachedBounds = function() {
        this._bounds.clear();
        this._cacheData.sprite.transform._worldID = this.transform._worldID;
        this._cacheData.sprite._calculateBounds();
        this._lastBoundsID = this._boundsID;
      };
      DisplayObject.prototype._getCachedLocalBounds = function() {
        return this._cacheData.sprite.getLocalBounds();
      };
      DisplayObject.prototype._destroyCachedDisplayObject = function() {
        this._cacheData.sprite._texture.destroy(true);
        this._cacheData.sprite = null;
        _prepareStyleProperties2.default.removeFromCache(this._cacheData.textureCacheId);
        _deepAssign2.default.removeFromCache(this._cacheData.textureCacheId);
        this._cacheData.textureCacheId = null;
      };
      DisplayObject.prototype._cacheAsBitmapDestroy = function(options) {
        this.cacheAsBitmap = false;
        this.destroy(options);
      };
    }, {
      "../core" : 65,
      "../core/textures/BaseTexture" : 112,
      "../core/textures/Texture" : 115,
      "../core/utils" : 125
    }],
    139 : [function(require, canCreateDiscussions, isSlidingUp) {
      var modules = require("../core");
      var core = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(modules);
      core.DisplayObject.prototype.name = null;
      core.Container.prototype.getChildByName = function(name) {
        var i = 0;
        for (; i < this.children.length; i++) {
          if (this.children[i].name === name) {
            return this.children[i];
          }
        }
        return null;
      };
    }, {
      "../core" : 65
    }],
    140 : [function(require, canCreateDiscussions, isSlidingUp) {
      var modules = require("../core");
      var core = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(modules);
      core.DisplayObject.prototype.getGlobalPosition = function() {
        var point = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new core.Point;
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return this.parent ? this.parent.toGlobal(this.position, point, e) : (point.x = this.position.x, point.y = this.position.y), point;
      };
    }, {
      "../core" : 65
    }],
    141 : [function(__webpack_require__, canCreateDiscussions, extras) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      extras.__esModule = true;
      extras.BitmapText = extras.TilingSpriteRenderer = extras.TilingSprite = extras.AnimatedSprite = void 0;
      var _AuthenticationDetails = __webpack_require__("./AnimatedSprite");
      Object.defineProperty(extras, "AnimatedSprite", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./TilingSprite");
      Object.defineProperty(extras, "TilingSprite", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      var _Calendar = __webpack_require__("./webgl/TilingSpriteRenderer");
      Object.defineProperty(extras, "TilingSpriteRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var _Ticker = __webpack_require__("./BitmapText");
      Object.defineProperty(extras, "BitmapText", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Ticker).default;
        }
      });
      __webpack_require__("./cacheAsBitmap");
      __webpack_require__("./getChildByName");
      __webpack_require__("./getGlobalPosition");
    }, {
      "./AnimatedSprite" : 135,
      "./BitmapText" : 136,
      "./TilingSprite" : 137,
      "./cacheAsBitmap" : 138,
      "./getChildByName" : 139,
      "./getGlobalPosition" : 140,
      "./webgl/TilingSpriteRenderer" : 142
    }],
    142 : [function(require, canCreateDiscussions, exports) {
      function add(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function log(s, t) {
        if (!s) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? s : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var pornResult = require("../../core");
      var PIXI = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(pornResult);
      var model = require("../../core/const");
      var tempMat = (require("path"), new PIXI.Matrix);
      var StarRatingComponent = function(_Namespace) {
        function p(event) {
          add(this, p);
          var f = log(this, _Namespace.call(this, event));
          return f.shader = null, f.simpleShader = null, f.quad = null, f;
        }
        return _inherits(p, _Namespace), p.prototype.onContextChange = function() {
          var gl = this.renderer.gl;
          this.shader = new PIXI.Shader(gl, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");
          this.simpleShader = new PIXI.Shader(gl, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");
          this.renderer.bindVao(null);
          this.quad = new PIXI.Quad(gl, this.renderer.state.attribState);
          this.quad.initVao(this.shader);
        }, p.prototype.render = function(sprite) {
          var renderer = this.renderer;
          var quad = this.quad;
          renderer.bindVao(quad.vao);
          var vertices = quad.vertices;
          vertices[0] = vertices[6] = sprite._width * -sprite.anchor.x;
          vertices[1] = vertices[3] = sprite._height * -sprite.anchor.y;
          vertices[2] = vertices[4] = sprite._width * (1 - sprite.anchor.x);
          vertices[5] = vertices[7] = sprite._height * (1 - sprite.anchor.y);
          if (sprite.uvRespectAnchor) {
            vertices = quad.uvs;
            vertices[0] = vertices[6] = -sprite.anchor.x;
            vertices[1] = vertices[3] = -sprite.anchor.y;
            vertices[2] = vertices[4] = 1 - sprite.anchor.x;
            vertices[5] = vertices[7] = 1 - sprite.anchor.y;
          }
          quad.upload();
          var texture = sprite._texture;
          var baseTex = texture.baseTexture;
          var lt = sprite.tileTransform.localTransform;
          var uv = sprite.uvTransform;
          var sub = baseTex.isPowerOfTwo && texture.frame.width === baseTex.width && texture.frame.height === baseTex.height;
          if (sub) {
            if (baseTex._glTextures[renderer.CONTEXT_UID]) {
              sub = baseTex.wrapMode !== model.WRAP_MODES.CLAMP;
            } else {
              if (baseTex.wrapMode === model.WRAP_MODES.CLAMP) {
                baseTex.wrapMode = model.WRAP_MODES.REPEAT;
              }
            }
          }
          var shader = sub ? this.simpleShader : this.shader;
          renderer.bindShader(shader);
          var w = texture.width;
          var h = texture.height;
          var W = sprite._width;
          var H = sprite._height;
          tempMat.set(lt.a * w / W, lt.b * w / H, lt.c * h / W, lt.d * h / H, lt.tx / W, lt.ty / H);
          tempMat.invert();
          if (sub) {
            tempMat.prepend(uv.mapCoord);
          } else {
            shader.uniforms.uMapCoord = uv.mapCoord.toArray(true);
            shader.uniforms.uClampFrame = uv.uClampFrame;
            shader.uniforms.uClampOffset = uv.uClampOffset;
          }
          shader.uniforms.uTransform = tempMat.toArray(true);
          shader.uniforms.uColor = PIXI.utils.premultiplyTintToRgba(sprite.tint, sprite.worldAlpha, shader.uniforms.uColor, baseTex.premultipliedAlpha);
          shader.uniforms.translationMatrix = sprite.transform.worldTransform.toArray(true);
          shader.uniforms.uSampler = renderer.bindTexture(texture);
          renderer.setBlendMode(PIXI.utils.correctBlendMode(sprite.blendMode, baseTex.premultipliedAlpha));
          quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0);
        }, p;
      }(PIXI.ObjectRenderer);
      exports.default = StarRatingComponent;
      PIXI.WebGLRenderer.registerPlugin("tilingSprite", StarRatingComponent);
    }, {
      "../../core" : 65,
      "../../core/const" : 46,
      path : 8
    }],
    143 : [function(require, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var mixer = require("../../core");
      var o = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(mixer);
      var SuggestList = (require("path"), function(_EventEmitter) {
        function Agent() {
          var alpha = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
          _classCallCheck(this, Agent);
          var _this = _possibleConstructorReturn(this, _EventEmitter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));
          return _this.alpha = alpha, _this.glShaderKey = "alpha", _this;
        }
        return _inherits(Agent, _EventEmitter), _createClass(Agent, [{
          key : "alpha",
          get : function() {
            return this.uniforms.uAlpha;
          },
          set : function(value) {
            this.uniforms.uAlpha = value;
          }
        }]), Agent;
      }(o.Filter));
      exports.default = SuggestList;
    }, {
      "../../core" : 65,
      path : 8
    }],
    144 : [function(require, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function $(fn, t) {
        if (!fn) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? fn : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var getAndSetData = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var level = require("../../core");
      var PIXI = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(level);
      var _tutorial = require("./BlurXFilter");
      var _tutorial2 = _interopRequireDefault(_tutorial);
      var _atan3 = require("./BlurYFilter");
      var _atan4 = _interopRequireDefault(_atan3);
      var SuggestList = function(_Namespace) {
        function Text(config, opts, options, data) {
          _classCallCheck(this, Text);
          var self = $(this, _Namespace.call(this));
          return self.blurXFilter = new _tutorial2.default(config, opts, options, data), self.blurYFilter = new _atan4.default(config, opts, options, data), self.padding = 0, self.resolution = options || PIXI.settings.RESOLUTION, self.quality = opts || 4, self.blur = config || 8, self;
        }
        return _inherits(Text, _Namespace), Text.prototype.apply = function(value, input, output) {
          var renderTarget = value.getRenderTarget(true);
          this.blurXFilter.apply(value, input, renderTarget, true);
          this.blurYFilter.apply(value, renderTarget, output, false);
          value.returnRenderTarget(renderTarget);
        }, getAndSetData(Text, [{
          key : "blur",
          get : function() {
            return this.blurXFilter.blur;
          },
          set : function(value) {
            this.blurXFilter.blur = this.blurYFilter.blur = value;
            this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength));
          }
        }, {
          key : "quality",
          get : function() {
            return this.blurXFilter.quality;
          },
          set : function(value) {
            this.blurXFilter.quality = this.blurYFilter.quality = value;
          }
        }, {
          key : "blurX",
          get : function() {
            return this.blurXFilter.blur;
          },
          set : function(value) {
            this.blurXFilter.blur = value;
            this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength));
          }
        }, {
          key : "blurY",
          get : function() {
            return this.blurYFilter.blur;
          },
          set : function(value) {
            this.blurYFilter.blur = value;
            this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength));
          }
        }, {
          key : "blendMode",
          get : function() {
            return this.blurYFilter._blendMode;
          },
          set : function(value) {
            this.blurYFilter._blendMode = value;
          }
        }]), Text;
      }(PIXI.Filter);
      exports.default = SuggestList;
    }, {
      "../../core" : 65,
      "./BlurXFilter" : 145,
      "./BlurYFilter" : 146
    }],
    145 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function fill(start, end) {
        if (!(start instanceof end)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function $(fn, t) {
        if (!fn) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? fn : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var calculateFloatContainerPos = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _classlist = __webpack_require__("../../core");
      var PIXI = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(_classlist);
      var _prepareStyleProperties = __webpack_require__("./generateBlurVertSource");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("./generateBlurFragSource");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("./getMaxBlurKernelSize");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var SuggestList = function(_Namespace) {
        function init(host, db, auth, body) {
          fill(this, init);
          body = body || 5;
          var parent = (0, _prepareStyleProperties2.default)(body, true);
          var params = (0, _normalizeDataUri2.default)(body);
          var self = $(this, _Namespace.call(this, parent, params));
          return self.resolution = auth || PIXI.settings.RESOLUTION, self._quality = 0, self.quality = db || 4, self.strength = host || 8, self.firstRun = true, self;
        }
        return _inherits(init, _Namespace), init.prototype.apply = function(options, input, output, data) {
          if (this.firstRun) {
            var gl = options.renderer.gl;
            var kernelSize = (0, _UiIcon2.default)(gl);
            this.vertexSrc = (0, _prepareStyleProperties2.default)(kernelSize, true);
            this.fragmentSrc = (0, _normalizeDataUri2.default)(kernelSize);
            this.firstRun = false;
          }
          if (this.uniforms.strength = 1 / output.size.width * (output.size.width / input.size.width), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) {
            options.applyFilter(this, input, output, data);
          } else {
            var target = options.getRenderTarget(true);
            var value = input;
            var a = target;
            var i = 0;
            for (; i < this.passes - 1; i++) {
              options.applyFilter(this, value, a, true);
              var aValue = a;
              a = value;
              value = aValue;
            }
            options.applyFilter(this, value, output, data);
            options.returnRenderTarget(target);
          }
        }, calculateFloatContainerPos(init, [{
          key : "blur",
          get : function() {
            return this.strength;
          },
          set : function(value) {
            this.padding = 2 * Math.abs(value);
            this.strength = value;
          }
        }, {
          key : "quality",
          get : function() {
            return this._quality;
          },
          set : function(value) {
            this._quality = value;
            this.passes = value;
          }
        }]), init;
      }(PIXI.Filter);
      exports.default = SuggestList;
    }, {
      "../../core" : 65,
      "./generateBlurFragSource" : 147,
      "./generateBlurVertSource" : 148,
      "./getMaxBlurKernelSize" : 149
    }],
    146 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function fill(start, end) {
        if (!(start instanceof end)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function $(fn, t) {
        if (!fn) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? fn : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var calculateFloatContainerPos = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _classlist = __webpack_require__("../../core");
      var PIXI = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(_classlist);
      var _prepareStyleProperties = __webpack_require__("./generateBlurVertSource");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("./generateBlurFragSource");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("./getMaxBlurKernelSize");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var SuggestList = function(_Namespace) {
        function init(host, db, auth, body) {
          fill(this, init);
          body = body || 5;
          var parent = (0, _prepareStyleProperties2.default)(body, false);
          var params = (0, _normalizeDataUri2.default)(body);
          var self = $(this, _Namespace.call(this, parent, params));
          return self.resolution = auth || PIXI.settings.RESOLUTION, self._quality = 0, self.quality = db || 4, self.strength = host || 8, self.firstRun = true, self;
        }
        return _inherits(init, _Namespace), init.prototype.apply = function(options, input, output, data) {
          if (this.firstRun) {
            var gl = options.renderer.gl;
            var kernelSize = (0, _UiIcon2.default)(gl);
            this.vertexSrc = (0, _prepareStyleProperties2.default)(kernelSize, false);
            this.fragmentSrc = (0, _normalizeDataUri2.default)(kernelSize);
            this.firstRun = false;
          }
          if (this.uniforms.strength = 1 / output.size.height * (output.size.height / input.size.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) {
            options.applyFilter(this, input, output, data);
          } else {
            var target = options.getRenderTarget(true);
            var value = input;
            var a = target;
            var i = 0;
            for (; i < this.passes - 1; i++) {
              options.applyFilter(this, value, a, true);
              var aValue = a;
              a = value;
              value = aValue;
            }
            options.applyFilter(this, value, output, data);
            options.returnRenderTarget(target);
          }
        }, calculateFloatContainerPos(init, [{
          key : "blur",
          get : function() {
            return this.strength;
          },
          set : function(value) {
            this.padding = 2 * Math.abs(value);
            this.strength = value;
          }
        }, {
          key : "quality",
          get : function() {
            return this._quality;
          },
          set : function(value) {
            this._quality = value;
            this.passes = value;
          }
        }]), init;
      }(PIXI.Filter);
      exports.default = SuggestList;
    }, {
      "../../core" : 65,
      "./generateBlurFragSource" : 147,
      "./generateBlurVertSource" : 148,
      "./getMaxBlurKernelSize" : 149
    }],
    147 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function n(value) {
        var obj = dreem_attributes[value];
        var max = obj.length;
        var t = HHgText;
        var d = "";
        var spaces = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";
        var i = void 0;
        var count = 0;
        for (; count < value; count++) {
          var str = spaces.replace("%index%", count);
          i = count;
          if (count >= max) {
            i = value - count - 1;
          }
          str = str.replace("%value%", obj[i]);
          d = d + str;
          d = d + "\n";
        }
        return t = t.replace("%blur%", d), t = t.replace("%size%", value);
      }
      exports.__esModule = true;
      exports.default = n;
      var dreem_attributes = {
        5 : [.153388, .221461, .250301],
        7 : [.071303, .131514, .189879, .214607],
        9 : [.028532, .067234, .124009, .179044, .20236],
        11 : [.0093, .028002, .065984, .121703, .175713, .198596],
        13 : [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
        15 : [4.89E-4, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
      };
      var HHgText = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n");
    }, {}],
    148 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function n(val, e) {
        var yl = Math.ceil(val / 2);
        var t = HHgText;
        var b = "";
        var code = void 0;
        code = e ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
        var i = 0;
        for (; i < val; i++) {
          var d = code.replace("%index%", i);
          d = d.replace("%sampleIndex%", i - (yl - 1) + ".0");
          b = b + d;
          b = b + "\n";
        }
        return t = t.replace("%blur%", b), t = t.replace("%size%", val);
      }
      exports.__esModule = true;
      exports.default = n;
      var HHgText = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform float strength;", "uniform mat3 projectionMatrix;", "varying vec2 vBlurTexCoords[%size%];", "void main(void)", "{", "gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);", "%blur%", "}"].join("\n");
    }, {}],
    149 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function Controller(context) {
        var maximumSizeInBytes = context.getParameter(context.MAX_VARYING_VECTORS);
        var cacheSizeInBytes = 15;
        for (; cacheSizeInBytes > maximumSizeInBytes;) {
          cacheSizeInBytes = cacheSizeInBytes - 2;
        }
        return cacheSizeInBytes;
      }
      exports.__esModule = true;
      exports.default = Controller;
    }, {}],
    150 : [function(require, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function warn(promise, value) {
        if (!promise) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !value || "object" != typeof value && "function" != typeof value ? promise : value;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var verifyMaterial = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var mixer = require("../../core");
      var o = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(mixer);
      var CepPromiseError = (require("path"), function(_Namespace) {
        function Color() {
          _classCallCheck(this, Color);
          var ch = warn(this, _Namespace.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));
          return ch.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], ch.alpha = 1, ch;
        }
        return _inherits(Color, _Namespace), Color.prototype._loadMatrix = function(matrix) {
          var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
          var newMatrix = matrix;
          if (e) {
            this._multiply(newMatrix, this.uniforms.m, matrix);
            newMatrix = this._colorMatrix(newMatrix);
          }
          this.uniforms.m = newMatrix;
        }, Color.prototype._multiply = function(out, a, b) {
          return out[0] = a[0] * b[0] + a[1] * b[5] + a[2] * b[10] + a[3] * b[15], out[1] = a[0] * b[1] + a[1] * b[6] + a[2] * b[11] + a[3] * b[16], out[2] = a[0] * b[2] + a[1] * b[7] + a[2] * b[12] + a[3] * b[17], out[3] = a[0] * b[3] + a[1] * b[8] + a[2] * b[13] + a[3] * b[18], out[4] = a[0] * b[4] + a[1] * b[9] + a[2] * b[14] + a[3] * b[19] + a[4], out[5] = a[5] * b[0] + a[6] * b[5] + a[7] * b[10] + a[8] * b[15], out[6] = a[5] * b[1] + a[6] * b[6] + a[7] * b[11] + a[8] * b[16], out[7] = a[5] * 
          b[2] + a[6] * b[7] + a[7] * b[12] + a[8] * b[17], out[8] = a[5] * b[3] + a[6] * b[8] + a[7] * b[13] + a[8] * b[18], out[9] = a[5] * b[4] + a[6] * b[9] + a[7] * b[14] + a[8] * b[19] + a[9], out[10] = a[10] * b[0] + a[11] * b[5] + a[12] * b[10] + a[13] * b[15], out[11] = a[10] * b[1] + a[11] * b[6] + a[12] * b[11] + a[13] * b[16], out[12] = a[10] * b[2] + a[11] * b[7] + a[12] * b[12] + a[13] * b[17], out[13] = a[10] * b[3] + a[11] * b[8] + a[12] * b[13] + a[13] * b[18], out[14] = a[10] * 
          b[4] + a[11] * b[9] + a[12] * b[14] + a[13] * b[19] + a[14], out[15] = a[15] * b[0] + a[16] * b[5] + a[17] * b[10] + a[18] * b[15], out[16] = a[15] * b[1] + a[16] * b[6] + a[17] * b[11] + a[18] * b[16], out[17] = a[15] * b[2] + a[16] * b[7] + a[17] * b[12] + a[18] * b[17], out[18] = a[15] * b[3] + a[16] * b[8] + a[17] * b[13] + a[18] * b[18], out[19] = a[15] * b[4] + a[16] * b[9] + a[17] * b[14] + a[18] * b[19] + a[19], out;
        }, Color.prototype._colorMatrix = function(matrix) {
          var st = new Float32Array(matrix);
          return st[4] /= 255, st[9] /= 255, st[14] /= 255, st[19] /= 255, st;
        }, Color.prototype.brightness = function(b, multiply) {
          var matrix = [b, 0, 0, 0, 0, 0, b, 0, 0, 0, 0, 0, b, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.greyscale = function(scale, multiply) {
          var matrix = [scale, scale, scale, 0, 0, scale, scale, scale, 0, 0, scale, scale, scale, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.blackAndWhite = function(multiply) {
          var matrix = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.hue = function(amount, multiply) {
          amount = (amount || 0) / 180 * Math.PI;
          var a = Math.cos(amount);
          var d = Math.sin(amount);
          var sqrt = Math.sqrt;
          var b = 1 / 3;
          var c = sqrt(b);
          var r = a + (1 - a) * b;
          var a01 = b * (1 - a) - c * d;
          var a02 = b * (1 - a) + c * d;
          var a10 = b * (1 - a) + c * d;
          var g = a + b * (1 - a);
          var scale = b * (1 - a) - c * d;
          var y = b * (1 - a) - c * d;
          var intensity = b * (1 - a) + c * d;
          var x = a + b * (1 - a);
          var matrix = [r, a01, a02, 0, 0, a10, g, scale, 0, 0, y, intensity, x, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.contrast = function(b, multiply) {
          var x = (b || 0) + 1;
          var o = -.5 * (x - 1);
          var matrix = [x, 0, 0, 0, o, 0, x, 0, 0, o, 0, 0, x, 0, o, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.saturate = function() {
          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          var r_objects = arguments[1];
          var x = 2 * t / 3 + 1;
          var y = -.5 * (x - 1);
          var matrix = [x, y, y, 0, 0, y, x, y, 0, 0, y, y, x, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, r_objects);
        }, Color.prototype.desaturate = function() {
          this.saturate(-1);
        }, Color.prototype.negative = function(multiply) {
          var matrix = [-1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.sepia = function(multiply) {
          var matrix = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.technicolor = function(multiply) {
          var matrix = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.polaroid = function(multiply) {
          var matrix = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.toBGR = function(multiply) {
          var matrix = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.kodachrome = function(multiply) {
          var matrix = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.browni = function(multiply) {
          var matrix = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.vintage = function(multiply) {
          var matrix = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.colorTone = function(desaturation, toned, lightColor, darkColor, multiply) {
          desaturation = desaturation || .2;
          toned = toned || .15;
          lightColor = lightColor || 16770432;
          darkColor = darkColor || 3375104;
          var zeroSizeMax = (lightColor >> 16 & 255) / 255;
          var sinRotateX = (lightColor >> 8 & 255) / 255;
          var y = (255 & lightColor) / 255;
          var pixelSizeTargetMax = (darkColor >> 16 & 255) / 255;
          var intensity = (darkColor >> 8 & 255) / 255;
          var x = (255 & darkColor) / 255;
          var matrix = [.3, .59, .11, 0, 0, zeroSizeMax, sinRotateX, y, desaturation, 0, pixelSizeTargetMax, intensity, x, toned, 0, zeroSizeMax - pixelSizeTargetMax, sinRotateX - intensity, y - x, 0, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.night = function(intensity, multiply) {
          intensity = intensity || .1;
          var matrix = [-2 * intensity, -intensity, 0, 0, 0, -intensity, 0, intensity, 0, 0, 0, intensity, 2 * intensity, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.predator = function(amount, multiply) {
          var matrix = [11.224130630493164 * amount, -4.794486999511719 * amount, -2.8746118545532227 * amount, 0 * amount, .40342438220977783 * amount, -3.6330697536468506 * amount, 9.193157196044922 * amount, -2.951810836791992 * amount, 0 * amount, -1.316135048866272 * amount, -3.2184197902679443 * amount, -4.2375030517578125 * amount, 7.476448059082031 * amount, 0 * amount, .8044459223747253 * amount, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.lsd = function(multiply) {
          var matrix = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, multiply);
        }, Color.prototype.reset = function() {
          var matrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(matrix, false);
        }, verifyMaterial(Color, [{
          key : "matrix",
          get : function() {
            return this.uniforms.m;
          },
          set : function(value) {
            this.uniforms.m = value;
          }
        }, {
          key : "alpha",
          get : function() {
            return this.uniforms.uAlpha;
          },
          set : function(value) {
            this.uniforms.uAlpha = value;
          }
        }]), Color;
      }(o.Filter));
      exports.default = CepPromiseError;
      CepPromiseError.prototype.grayscale = CepPromiseError.prototype.greyscale;
    }, {
      "../../core" : 65,
      path : 8
    }],
    151 : [function(require, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var modules = require("../../core");
      var core = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(modules);
      var SuggestList = (require("path"), function(_Namespace) {
        function DisplayObject(sprite, scale) {
          _classCallCheck(this, DisplayObject);
          var matrix = new core.Matrix;
          sprite.renderable = false;
          var me = _possibleConstructorReturn(this, _Namespace.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));
          return me.maskSprite = sprite, me.maskMatrix = matrix, me.uniforms.mapSampler = sprite._texture, me.uniforms.filterMatrix = matrix, me.uniforms.scale = {
            x : 1,
            y : 1
          }, null !== scale && void 0 !== scale || (scale = 20), me.scale = new core.Point(scale, scale), me;
        }
        return _inherits(DisplayObject, _Namespace), DisplayObject.prototype.apply = function(options, input, output) {
          this.uniforms.filterMatrix = options.calculateSpriteMatrix(this.maskMatrix, this.maskSprite);
          this.uniforms.scale.x = this.scale.x;
          this.uniforms.scale.y = this.scale.y;
          options.applyFilter(this, input, output);
        }, _createClass(DisplayObject, [{
          key : "map",
          get : function() {
            return this.uniforms.mapSampler;
          },
          set : function(value) {
            this.uniforms.mapSampler = value;
          }
        }]), DisplayObject;
      }(core.Filter));
      exports.default = SuggestList;
    }, {
      "../../core" : 65,
      path : 8
    }],
    152 : [function(require, canCreateDiscussions, exports) {
      function get(that, size) {
        if (!(that instanceof size)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function o(l, a) {
        if (!l) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? l : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var module = require("../../core");
      var modules = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(module);
      var SuggestList = (require("path"), function(_Namespace) {
        function n() {
          return get(this, n), o(this, _Namespace.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}", 
          'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'));
        }
        return _inherits(n, _Namespace), n;
      }(modules.Filter));
      exports.default = SuggestList;
    }, {
      "../../core" : 65,
      path : 8
    }],
    153 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./fxaa/FXAAFilter");
      Object.defineProperty(exports, "FXAAFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./noise/NoiseFilter");
      Object.defineProperty(exports, "NoiseFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      var _Calendar = __webpack_require__("./displacement/DisplacementFilter");
      Object.defineProperty(exports, "DisplacementFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var _Ticker = __webpack_require__("./blur/BlurFilter");
      Object.defineProperty(exports, "BlurFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Ticker).default;
        }
      });
      var _Mapper = __webpack_require__("./blur/BlurXFilter");
      Object.defineProperty(exports, "BlurXFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Mapper).default;
        }
      });
      var _CognitoAccessToken = __webpack_require__("./blur/BlurYFilter");
      Object.defineProperty(exports, "BlurYFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoAccessToken).default;
        }
      });
      var _CognitoIdToken = __webpack_require__("./colormatrix/ColorMatrixFilter");
      Object.defineProperty(exports, "ColorMatrixFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoIdToken).default;
        }
      });
      var _CognitoRefreshToken = __webpack_require__("./alpha/AlphaFilter");
      Object.defineProperty(exports, "AlphaFilter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoRefreshToken).default;
        }
      });
    }, {
      "./alpha/AlphaFilter" : 143,
      "./blur/BlurFilter" : 144,
      "./blur/BlurXFilter" : 145,
      "./blur/BlurYFilter" : 146,
      "./colormatrix/ColorMatrixFilter" : 150,
      "./displacement/DisplacementFilter" : 151,
      "./fxaa/FXAAFilter" : 152,
      "./noise/NoiseFilter" : 154
    }],
    154 : [function(require, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self, call) {
        if (!self) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !call || "object" != typeof call && "function" != typeof call ? self : call;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var mixer = require("../../core");
      var o = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(mixer);
      var SuggestList = (require("path"), function(_EventEmitter) {
        function Agent() {
          var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5;
          var data = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Math.random();
          _classCallCheck(this, Agent);
          var parent = _possibleConstructorReturn(this, _EventEmitter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));
          return parent.noise = n, parent.seed = data, parent;
        }
        return _inherits(Agent, _EventEmitter), _createClass(Agent, [{
          key : "noise",
          get : function() {
            return this.uniforms.uNoise;
          },
          set : function(value) {
            this.uniforms.uNoise = value;
          }
        }, {
          key : "seed",
          get : function() {
            return this.uniforms.uSeed;
          },
          set : function(value) {
            this.uniforms.uSeed = value;
          }
        }]), Agent;
      }(o.Filter));
      exports.default = SuggestList;
    }, {
      "../../core" : 65,
      path : 8
    }],
    155 : [function($, canCreateDiscussions, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _createClass = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var level = $("../core");
      var stream = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(level);
      var SuggestList = function() {
        function Pointer() {
          _classCallCheck(this, Pointer);
          this.global = new stream.Point;
          this.target = null;
          this.originalEvent = null;
          this.identifier = null;
          this.isPrimary = false;
          this.button = 0;
          this.buttons = 0;
          this.width = 0;
          this.height = 0;
          this.tiltX = 0;
          this.tiltY = 0;
          this.pointerType = null;
          this.pressure = 0;
          this.rotationAngle = 0;
          this.twist = 0;
          this.tangentialPressure = 0;
        }
        return Pointer.prototype.getLocalPosition = function(displayObject, point, globalPos) {
          return displayObject.worldTransform.applyInverse(globalPos || this.global, point);
        }, Pointer.prototype.copyEvent = function(event) {
          if (event.isPrimary) {
            this.isPrimary = true;
          }
          this.button = event.button;
          this.buttons = Number.isInteger(event.buttons) ? event.buttons : event.which;
          this.width = event.width;
          this.height = event.height;
          this.tiltX = event.tiltX;
          this.tiltY = event.tiltY;
          this.pointerType = event.pointerType;
          this.pressure = event.pressure;
          this.rotationAngle = event.rotationAngle;
          this.twist = event.twist || 0;
          this.tangentialPressure = event.tangentialPressure || 0;
        }, Pointer.prototype.reset = function() {
          this.isPrimary = false;
        }, _createClass(Pointer, [{
          key : "pointerId",
          get : function() {
            return this.identifier;
          }
        }]), Pointer;
      }();
      exports.default = SuggestList;
    }, {
      "../core" : 65
    }],
    156 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function createElement(children, text) {
        if (!(children instanceof text)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function Channel() {
          createElement(this, Channel);
          this.stopped = false;
          this.target = null;
          this.currentTarget = null;
          this.type = null;
          this.data = null;
        }
        return Channel.prototype.stopPropagation = function() {
          this.stopped = true;
        }, Channel.prototype.reset = function() {
          this.stopped = false;
          this.currentTarget = null;
          this.target = null;
        }, Channel;
      }();
      exports.default = SuggestList;
    }, {}],
    157 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function getGeoByName(name, Buffer) {
        if (!(name instanceof Buffer)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function bind(name, o) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !o || "object" != typeof o && "function" != typeof o ? name : o;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var parseStyleObject = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(aStyle) {
        return typeof aStyle;
      } : function(obj) {
        return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
      var window = __webpack_require__("../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _normalizeDataUri = __webpack_require__("./InteractionData");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("./InteractionEvent");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _prepareStyleProperties = __webpack_require__("./InteractionTrackingData");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _eventemitter3 = __webpack_require__("eventemitter3");
      var _eventemitter32 = _interopRequireDefault(_eventemitter3);
      var _classlist = __webpack_require__("./interactiveTarget");
      var _classlist2 = _interopRequireDefault(_classlist);
      core.utils.mixins.delayMixin(core.DisplayObject.prototype, _classlist2.default);
      var MOUSE_POINTER_ID = 1;
      var event = {
        target : null,
        data : {
          global : null
        }
      };
      var StarRatingComponent = function(_Namespace) {
        function InteractionManager(renderer, options) {
          getGeoByName(this, InteractionManager);
          var self = bind(this, _Namespace.call(this));
          return options = options || {}, self.renderer = renderer, self.autoPreventDefault = void 0 === options.autoPreventDefault || options.autoPreventDefault, self.interactionFrequency = options.interactionFrequency || 10, self.mouse = new _normalizeDataUri2.default, self.mouse.identifier = MOUSE_POINTER_ID, self.mouse.global.set(-999999), self.activeInteractionData = {}, self.activeInteractionData[MOUSE_POINTER_ID] = self.mouse, self.interactionDataPool = [], self.eventData = new _UiIcon2.default, 
          self.interactionDOMElement = null, self.moveWhenInside = false, self.eventsAdded = false, self.mouseOverRenderer = false, self.supportsTouchEvents = "ontouchstart" in window, self.supportsPointerEvents = !!window.PointerEvent, self.onPointerUp = self.onPointerUp.bind(self), self.processPointerUp = self.processPointerUp.bind(self), self.onPointerCancel = self.onPointerCancel.bind(self), self.processPointerCancel = self.processPointerCancel.bind(self), self.onPointerDown = self.onPointerDown.bind(self), 
          self.processPointerDown = self.processPointerDown.bind(self), self.onPointerMove = self.onPointerMove.bind(self), self.processPointerMove = self.processPointerMove.bind(self), self.onPointerOut = self.onPointerOut.bind(self), self.processPointerOverOut = self.processPointerOverOut.bind(self), self.onPointerOver = self.onPointerOver.bind(self), self.cursorStyles = {
            default : "inherit",
            pointer : "pointer"
          }, self.currentCursorMode = null, self.cursor = null, self._tempPoint = new core.Point, self.resolution = 1, self.setTargetElement(self.renderer.view, self.renderer.resolution), self;
        }
        return _inherits(InteractionManager, _Namespace), InteractionManager.prototype.hitTest = function(globalPoint, root) {
          return event.target = null, event.data.global = globalPoint, root || (root = this.renderer._lastObjectRendered), this.processInteractive(event, root, null, true), event.target;
        }, InteractionManager.prototype.setTargetElement = function(element) {
          var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
          this.removeEvents();
          this.interactionDOMElement = element;
          this.resolution = r;
          this.addEvents();
        }, InteractionManager.prototype.addEvents = function() {
          if (this.interactionDOMElement) {
            core.ticker.shared.add(this.update, this, core.UPDATE_PRIORITY.INTERACTION);
            if (window.navigator.msPointerEnabled) {
              this.interactionDOMElement.style["-ms-content-zooming"] = "none";
              this.interactionDOMElement.style["-ms-touch-action"] = "none";
            } else {
              if (this.supportsPointerEvents) {
                this.interactionDOMElement.style["touch-action"] = "none";
              }
            }
            if (this.supportsPointerEvents) {
              window.document.addEventListener("pointermove", this.onPointerMove, true);
              this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, true);
              this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, true);
              this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, true);
              window.addEventListener("pointercancel", this.onPointerCancel, true);
              window.addEventListener("pointerup", this.onPointerUp, true);
            } else {
              window.document.addEventListener("mousemove", this.onPointerMove, true);
              this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, true);
              this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, true);
              this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, true);
              window.addEventListener("mouseup", this.onPointerUp, true);
            }
            if (this.supportsTouchEvents) {
              this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, true);
              this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, true);
              this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, true);
              this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, true);
            }
            this.eventsAdded = true;
          }
        }, InteractionManager.prototype.removeEvents = function() {
          if (this.interactionDOMElement) {
            core.ticker.shared.remove(this.update, this);
            if (window.navigator.msPointerEnabled) {
              this.interactionDOMElement.style["-ms-content-zooming"] = "";
              this.interactionDOMElement.style["-ms-touch-action"] = "";
            } else {
              if (this.supportsPointerEvents) {
                this.interactionDOMElement.style["touch-action"] = "";
              }
            }
            if (this.supportsPointerEvents) {
              window.document.removeEventListener("pointermove", this.onPointerMove, true);
              this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, true);
              this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, true);
              this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, true);
              window.removeEventListener("pointercancel", this.onPointerCancel, true);
              window.removeEventListener("pointerup", this.onPointerUp, true);
            } else {
              window.document.removeEventListener("mousemove", this.onPointerMove, true);
              this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, true);
              this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, true);
              this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, true);
              window.removeEventListener("mouseup", this.onPointerUp, true);
            }
            if (this.supportsTouchEvents) {
              this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, true);
              this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, true);
              this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, true);
              this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, true);
            }
            this.interactionDOMElement = null;
            this.eventsAdded = false;
          }
        }, InteractionManager.prototype.update = function(val) {
          if (this._deltaTime += val, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) {
            if (this.didMove) {
              return void(this.didMove = false);
            }
            this.cursor = null;
            var k;
            for (k in this.activeInteractionData) {
              if (this.activeInteractionData.hasOwnProperty(k)) {
                var interactionData = this.activeInteractionData[k];
                if (interactionData.originalEvent && "touch" !== interactionData.pointerType) {
                  var child = this.configureInteractionEventForDOMEvent(this.eventData, interactionData.originalEvent, interactionData);
                  this.processInteractive(child, this.renderer._lastObjectRendered, this.processPointerOverOut, true);
                }
              }
            }
            this.setCursorMode(this.cursor);
          }
        }, InteractionManager.prototype.setCursorMode = function(mode) {
          if (mode = mode || "default", this.currentCursorMode !== mode) {
            this.currentCursorMode = mode;
            var style = this.cursorStyles[mode];
            if (style) {
              switch(void 0 === style ? "undefined" : parseStyleObject(style)) {
                case "string":
                  this.interactionDOMElement.style.cursor = style;
                  break;
                case "function":
                  style(mode);
                  break;
                case "object":
                  Object.assign(this.interactionDOMElement.style, style);
              }
            } else {
              if (!("string" != typeof mode || Object.prototype.hasOwnProperty.call(this.cursorStyles, mode))) {
                this.interactionDOMElement.style.cursor = mode;
              }
            }
          }
        }, InteractionManager.prototype.dispatchEvent = function(child, type, event) {
          if (!event.stopped) {
            event.currentTarget = child;
            event.type = type;
            child.emit(type, event);
            if (child[type]) {
              child[type](event);
            }
          }
        }, InteractionManager.prototype.mapPositionToPoint = function(point, x, y) {
          var rect = void 0;
          rect = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
            x : 0,
            y : 0,
            width : 0,
            height : 0
          };
          var resolutionMultiplier = navigator.isCocoonJS ? this.resolution : 1 / this.resolution;
          point.x = (x - rect.left) * (this.interactionDOMElement.width / rect.width) * resolutionMultiplier;
          point.y = (y - rect.top) * (this.interactionDOMElement.height / rect.height) * resolutionMultiplier;
        }, InteractionManager.prototype.processInteractive = function(obj, displayObject, func, hitTest, interactive) {
          if (!displayObject || !displayObject.visible) {
            return false;
          }
          var point = obj.data.global;
          interactive = displayObject.interactive || interactive;
          var s = false;
          var interactiveParent = interactive;
          var rendered = true;
          if (displayObject.hitArea ? (hitTest && (displayObject.worldTransform.applyInverse(point, this._tempPoint), displayObject.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? s = true : (hitTest = false, rendered = false)), interactiveParent = false) : displayObject._mask && hitTest && (displayObject._mask.containsPoint(point) || (hitTest = false, rendered = false)), rendered && displayObject.interactiveChildren && displayObject.children) {
            var children = displayObject.children;
            var j = children.length - 1;
            for (; j >= 0; j--) {
              var child = children[j];
              var newObj = this.processInteractive(obj, child, func, hitTest, interactiveParent);
              if (newObj) {
                if (!child.parent) {
                  continue;
                }
                interactiveParent = false;
                if (newObj) {
                  if (obj.target) {
                    hitTest = false;
                  }
                  s = true;
                }
              }
            }
          }
          return interactive && (hitTest && !obj.target && !displayObject.hitArea && displayObject.containsPoint && displayObject.containsPoint(point) && (s = true), displayObject.interactive && (s && !obj.target && (obj.target = displayObject), func && func(obj, displayObject, !!s))), s;
        }, InteractionManager.prototype.onPointerDown = function(evt) {
          if (!this.supportsTouchEvents || "touch" !== evt.pointerType) {
            var events = this.normalizeToPointerData(evt);
            if (this.autoPreventDefault && events[0].isNormalized) {
              evt.preventDefault();
            }
            var j = events.length;
            var i = 0;
            for (; i < j; i++) {
              var event = events[i];
              var id = this.getInteractionDataForPointerId(event);
              var res = this.configureInteractionEventForDOMEvent(this.eventData, event, id);
              if (res.data.originalEvent = evt, this.processInteractive(res, this.renderer._lastObjectRendered, this.processPointerDown, true), this.emit("pointerdown", res), "touch" === event.pointerType) {
                this.emit("touchstart", res);
              } else {
                if ("mouse" === event.pointerType || "pen" === event.pointerType) {
                  var isRightButton = 2 === event.button;
                  this.emit(isRightButton ? "rightdown" : "mousedown", this.eventData);
                }
              }
            }
          }
        }, InteractionManager.prototype.processPointerDown = function(interactionEvent, displayObject, hit) {
          var event = interactionEvent.data;
          var id = interactionEvent.data.identifier;
          if (hit) {
            if (displayObject.trackedPointers[id] || (displayObject.trackedPointers[id] = new _prepareStyleProperties2.default(id)), this.dispatchEvent(displayObject, "pointerdown", interactionEvent), "touch" === event.pointerType) {
              this.dispatchEvent(displayObject, "touchstart", interactionEvent);
            } else {
              if ("mouse" === event.pointerType || "pen" === event.pointerType) {
                var isRightButton = 2 === event.button;
                if (isRightButton) {
                  displayObject.trackedPointers[id].rightDown = true;
                } else {
                  displayObject.trackedPointers[id].leftDown = true;
                }
                this.dispatchEvent(displayObject, isRightButton ? "rightdown" : "mousedown", interactionEvent);
              }
            }
          }
        }, InteractionManager.prototype.onPointerComplete = function(originalEvent, cancelled, func) {
          var tokens = this.normalizeToPointerData(originalEvent);
          var numTokens = tokens.length;
          var ns = originalEvent.target !== this.interactionDOMElement ? "outside" : "";
          var i = 0;
          for (; i < numTokens; i++) {
            var event = tokens[i];
            var interactionData = this.getInteractionDataForPointerId(event);
            var e = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);
            if (e.data.originalEvent = originalEvent, this.processInteractive(e, this.renderer._lastObjectRendered, func, cancelled || !ns), this.emit(cancelled ? "pointercancel" : "pointerup" + ns, e), "mouse" === event.pointerType || "pen" === event.pointerType) {
              var pointerEvents = 2 === event.button;
              this.emit(pointerEvents ? "rightup" + ns : "mouseup" + ns, e);
            } else {
              if ("touch" === event.pointerType) {
                this.emit(cancelled ? "touchcancel" : "touchend" + ns, e);
                this.releaseInteractionDataForPointerId(event.pointerId, interactionData);
              }
            }
          }
        }, InteractionManager.prototype.onPointerCancel = function(event) {
          if (!(this.supportsTouchEvents && "touch" === event.pointerType)) {
            this.onPointerComplete(event, true, this.processPointerCancel);
          }
        }, InteractionManager.prototype.processPointerCancel = function(interactionEvent, displayObject) {
          var domEvent = interactionEvent.data;
          var id = interactionEvent.data.identifier;
          if (void 0 !== displayObject.trackedPointers[id]) {
            delete displayObject.trackedPointers[id];
            this.dispatchEvent(displayObject, "pointercancel", interactionEvent);
            if ("touch" === domEvent.pointerType) {
              this.dispatchEvent(displayObject, "touchcancel", interactionEvent);
            }
          }
        }, InteractionManager.prototype.onPointerUp = function(event) {
          if (!(this.supportsTouchEvents && "touch" === event.pointerType)) {
            this.onPointerComplete(event, false, this.processPointerUp);
          }
        }, InteractionManager.prototype.processPointerUp = function(interactionEvent, displayObject, hit) {
          var event = interactionEvent.data;
          var id = interactionEvent.data.identifier;
          var trackingData = displayObject.trackedPointers[id];
          var s = "touch" === event.pointerType;
          var a = "mouse" === event.pointerType || "pen" === event.pointerType;
          var b = false;
          if (a) {
            var isRightButton = 2 === event.button;
            var flags = _prepareStyleProperties2.default.FLAGS;
            var test = isRightButton ? flags.RIGHT_DOWN : flags.LEFT_DOWN;
            var d = void 0 !== trackingData && trackingData.flags & test;
            if (hit) {
              this.dispatchEvent(displayObject, isRightButton ? "rightup" : "mouseup", interactionEvent);
              if (d) {
                this.dispatchEvent(displayObject, isRightButton ? "rightclick" : "click", interactionEvent);
                b = true;
              }
            } else {
              if (d) {
                this.dispatchEvent(displayObject, isRightButton ? "rightupoutside" : "mouseupoutside", interactionEvent);
              }
            }
            if (trackingData) {
              if (isRightButton) {
                trackingData.rightDown = false;
              } else {
                trackingData.leftDown = false;
              }
            }
          }
          if (hit) {
            this.dispatchEvent(displayObject, "pointerup", interactionEvent);
            if (s) {
              this.dispatchEvent(displayObject, "touchend", interactionEvent);
            }
            if (trackingData) {
              if (!(a && !b)) {
                this.dispatchEvent(displayObject, "pointertap", interactionEvent);
              }
              if (s) {
                this.dispatchEvent(displayObject, "tap", interactionEvent);
                trackingData.over = false;
              }
            }
          } else {
            if (trackingData) {
              this.dispatchEvent(displayObject, "pointerupoutside", interactionEvent);
              if (s) {
                this.dispatchEvent(displayObject, "touchendoutside", interactionEvent);
              }
            }
          }
          if (trackingData && trackingData.none) {
            delete displayObject.trackedPointers[id];
          }
        }, InteractionManager.prototype.onPointerMove = function(originalEvent) {
          if (!this.supportsTouchEvents || "touch" !== originalEvent.pointerType) {
            var delta = this.normalizeToPointerData(originalEvent);
            if (!("mouse" !== delta[0].pointerType && "pen" !== delta[0].pointerType)) {
              this.didMove = true;
              this.cursor = null;
            }
            var lines = delta.length;
            var j = 0;
            for (; j < lines; j++) {
              var event = delta[j];
              var id = this.getInteractionDataForPointerId(event);
              var res = this.configureInteractionEventForDOMEvent(this.eventData, event, id);
              res.data.originalEvent = originalEvent;
              var hitTest = "touch" !== event.pointerType || this.moveWhenInside;
              this.processInteractive(res, this.renderer._lastObjectRendered, this.processPointerMove, hitTest);
              this.emit("pointermove", res);
              if ("touch" === event.pointerType) {
                this.emit("touchmove", res);
              }
              if (!("mouse" !== event.pointerType && "pen" !== event.pointerType)) {
                this.emit("mousemove", res);
              }
            }
            if ("mouse" === delta[0].pointerType) {
              this.setCursorMode(this.cursor);
            }
          }
        }, InteractionManager.prototype.processPointerMove = function(interactionEvent, displayObject, hit) {
          var domEvent = interactionEvent.data;
          var i = "touch" === domEvent.pointerType;
          var o = "mouse" === domEvent.pointerType || "pen" === domEvent.pointerType;
          if (o) {
            this.processPointerOverOut(interactionEvent, displayObject, hit);
          }
          if (!(this.moveWhenInside && !hit)) {
            this.dispatchEvent(displayObject, "pointermove", interactionEvent);
            if (i) {
              this.dispatchEvent(displayObject, "touchmove", interactionEvent);
            }
            if (o) {
              this.dispatchEvent(displayObject, "mousemove", interactionEvent);
            }
          }
        }, InteractionManager.prototype.onPointerOut = function(originalEvent) {
          if (!this.supportsTouchEvents || "touch" !== originalEvent.pointerType) {
            var _eventQueuedUntilReady = this.normalizeToPointerData(originalEvent);
            var event = _eventQueuedUntilReady[0];
            if ("mouse" === event.pointerType) {
              this.mouseOverRenderer = false;
              this.setCursorMode(null);
            }
            var interactionData = this.getInteractionDataForPointerId(event);
            var e = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);
            e.data.originalEvent = event;
            this.processInteractive(e, this.renderer._lastObjectRendered, this.processPointerOverOut, false);
            this.emit("pointerout", e);
            if ("mouse" === event.pointerType || "pen" === event.pointerType) {
              this.emit("mouseout", e);
            } else {
              this.releaseInteractionDataForPointerId(interactionData.identifier);
            }
          }
        }, InteractionManager.prototype.processPointerOverOut = function(event, displayObject, hit) {
          var domEvent = event.data;
          var id = event.data.identifier;
          var o = "mouse" === domEvent.pointerType || "pen" === domEvent.pointerType;
          var t = displayObject.trackedPointers[id];
          if (hit && !t) {
            t = displayObject.trackedPointers[id] = new _prepareStyleProperties2.default(id);
          }
          if (void 0 !== t) {
            if (hit && this.mouseOverRenderer) {
              if (!t.over) {
                t.over = true;
                this.dispatchEvent(displayObject, "pointerover", event);
                if (o) {
                  this.dispatchEvent(displayObject, "mouseover", event);
                }
              }
              if (o && null === this.cursor) {
                this.cursor = displayObject.cursor;
              }
            } else {
              if (t.over) {
                t.over = false;
                this.dispatchEvent(displayObject, "pointerout", this.eventData);
                if (o) {
                  this.dispatchEvent(displayObject, "mouseout", event);
                }
                if (t.none) {
                  delete displayObject.trackedPointers[id];
                }
              }
            }
          }
        }, InteractionManager.prototype.onPointerOver = function(originalEvent) {
          var _eventQueuedUntilReady = this.normalizeToPointerData(originalEvent);
          var event = _eventQueuedUntilReady[0];
          var id = this.getInteractionDataForPointerId(event);
          var res = this.configureInteractionEventForDOMEvent(this.eventData, event, id);
          res.data.originalEvent = event;
          if ("mouse" === event.pointerType) {
            this.mouseOverRenderer = true;
          }
          this.emit("pointerover", res);
          if (!("mouse" !== event.pointerType && "pen" !== event.pointerType)) {
            this.emit("mouseover", res);
          }
        }, InteractionManager.prototype.getInteractionDataForPointerId = function(event) {
          var pointerId = event.pointerId;
          var interactionData = void 0;
          return pointerId === MOUSE_POINTER_ID || "mouse" === event.pointerType ? interactionData = this.mouse : this.activeInteractionData[pointerId] ? interactionData = this.activeInteractionData[pointerId] : (interactionData = this.interactionDataPool.pop() || new _normalizeDataUri2.default, interactionData.identifier = pointerId, this.activeInteractionData[pointerId] = interactionData), interactionData.copyEvent(event), interactionData;
        }, InteractionManager.prototype.releaseInteractionDataForPointerId = function(pointerId) {
          var touch = this.activeInteractionData[pointerId];
          if (touch) {
            delete this.activeInteractionData[pointerId];
            touch.reset();
            this.interactionDataPool.push(touch);
          }
        }, InteractionManager.prototype.configureInteractionEventForDOMEvent = function(interactionEvent, pointerEvent, interactionData) {
          return interactionEvent.data = interactionData, this.mapPositionToPoint(interactionData.global, pointerEvent.clientX, pointerEvent.clientY), navigator.isCocoonJS && "touch" === pointerEvent.pointerType && (interactionData.global.x = interactionData.global.x / this.resolution, interactionData.global.y = interactionData.global.y / this.resolution), "touch" === pointerEvent.pointerType && (pointerEvent.globalX = interactionData.global.x, pointerEvent.globalY = interactionData.global.y), interactionData.originalEvent = 
          pointerEvent, interactionEvent.reset(), interactionEvent;
        }, InteractionManager.prototype.normalizeToPointerData = function(event) {
          var normalizedEvents = [];
          if (this.supportsTouchEvents && event instanceof TouchEvent) {
            var i = 0;
            var patchLen = event.changedTouches.length;
            for (; i < patchLen; i++) {
              var touch = event.changedTouches[i];
              if (void 0 === touch.button) {
                touch.button = event.touches.length ? 1 : 0;
              }
              if (void 0 === touch.buttons) {
                touch.buttons = event.touches.length ? 1 : 0;
              }
              if (void 0 === touch.isPrimary) {
                touch.isPrimary = 1 === event.touches.length && "touchstart" === event.type;
              }
              if (void 0 === touch.width) {
                touch.width = touch.radiusX || 1;
              }
              if (void 0 === touch.height) {
                touch.height = touch.radiusY || 1;
              }
              if (void 0 === touch.tiltX) {
                touch.tiltX = 0;
              }
              if (void 0 === touch.tiltY) {
                touch.tiltY = 0;
              }
              if (void 0 === touch.pointerType) {
                touch.pointerType = "touch";
              }
              if (void 0 === touch.pointerId) {
                touch.pointerId = touch.identifier || 0;
              }
              if (void 0 === touch.pressure) {
                touch.pressure = touch.force || .5;
              }
              if (void 0 === touch.twist) {
                touch.twist = 0;
              }
              if (void 0 === touch.tangentialPressure) {
                touch.tangentialPressure = 0;
              }
              if (void 0 === touch.layerX) {
                touch.layerX = touch.offsetX = touch.clientX;
              }
              if (void 0 === touch.layerY) {
                touch.layerY = touch.offsetY = touch.clientY;
              }
              touch.isNormalized = true;
              normalizedEvents.push(touch);
            }
          } else {
            if (!(event instanceof MouseEvent) || this.supportsPointerEvents && event instanceof window.PointerEvent) {
              normalizedEvents.push(event);
            } else {
              if (void 0 === event.isPrimary) {
                event.isPrimary = true;
              }
              if (void 0 === event.width) {
                event.width = 1;
              }
              if (void 0 === event.height) {
                event.height = 1;
              }
              if (void 0 === event.tiltX) {
                event.tiltX = 0;
              }
              if (void 0 === event.tiltY) {
                event.tiltY = 0;
              }
              if (void 0 === event.pointerType) {
                event.pointerType = "mouse";
              }
              if (void 0 === event.pointerId) {
                event.pointerId = MOUSE_POINTER_ID;
              }
              if (void 0 === event.pressure) {
                event.pressure = .5;
              }
              if (void 0 === event.twist) {
                event.twist = 0;
              }
              if (void 0 === event.tangentialPressure) {
                event.tangentialPressure = 0;
              }
              event.isNormalized = true;
              normalizedEvents.push(event);
            }
          }
          return normalizedEvents;
        }, InteractionManager.prototype.destroy = function() {
          this.removeEvents();
          this.removeAllListeners();
          this.renderer = null;
          this.mouse = null;
          this.eventData = null;
          this.interactionDOMElement = null;
          this.onPointerDown = null;
          this.processPointerDown = null;
          this.onPointerUp = null;
          this.processPointerUp = null;
          this.onPointerCancel = null;
          this.processPointerCancel = null;
          this.onPointerMove = null;
          this.processPointerMove = null;
          this.onPointerOut = null;
          this.processPointerOverOut = null;
          this.onPointerOver = null;
          this._tempPoint = null;
        }, InteractionManager;
      }(_eventemitter32.default);
      exports.default = StarRatingComponent;
      core.WebGLRenderer.registerPlugin("interaction", StarRatingComponent);
      core.CanvasRenderer.registerPlugin("interaction", StarRatingComponent);
    }, {
      "../core" : 65,
      "./InteractionData" : 155,
      "./InteractionEvent" : 156,
      "./InteractionTrackingData" : 158,
      "./interactiveTarget" : 160,
      eventemitter3 : 3
    }],
    158 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _inherits = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var SuggestList = function() {
        function Tag(options) {
          _classCallCheck(this, Tag);
          this._pointerId = options;
          this._flags = Tag.FLAGS.NONE;
        }
        return Tag.prototype._doSet = function(flag, value) {
          this._flags = value ? this._flags | flag : this._flags & ~flag;
        }, _inherits(Tag, [{
          key : "pointerId",
          get : function() {
            return this._pointerId;
          }
        }, {
          key : "flags",
          get : function() {
            return this._flags;
          },
          set : function(target) {
            this._flags = target;
          }
        }, {
          key : "none",
          get : function() {
            return this._flags === this.constructor.FLAGS.NONE;
          }
        }, {
          key : "over",
          get : function() {
            return 0 != (this._flags & this.constructor.FLAGS.OVER);
          },
          set : function(value) {
            this._doSet(this.constructor.FLAGS.OVER, value);
          }
        }, {
          key : "rightDown",
          get : function() {
            return 0 != (this._flags & this.constructor.FLAGS.RIGHT_DOWN);
          },
          set : function(value) {
            this._doSet(this.constructor.FLAGS.RIGHT_DOWN, value);
          }
        }, {
          key : "leftDown",
          get : function() {
            return 0 != (this._flags & this.constructor.FLAGS.LEFT_DOWN);
          },
          set : function(value) {
            this._doSet(this.constructor.FLAGS.LEFT_DOWN, value);
          }
        }]), Tag;
      }();
      exports.default = SuggestList;
      SuggestList.FLAGS = Object.freeze({
        NONE : 0,
        OVER : 1,
        LEFT_DOWN : 2,
        RIGHT_DOWN : 4
      });
    }, {}],
    159 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./InteractionData");
      Object.defineProperty(exports, "InteractionData", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./InteractionManager");
      Object.defineProperty(exports, "InteractionManager", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      var _Calendar = __webpack_require__("./interactiveTarget");
      Object.defineProperty(exports, "interactiveTarget", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var _Ticker = __webpack_require__("./InteractionTrackingData");
      Object.defineProperty(exports, "InteractionTrackingData", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Ticker).default;
        }
      });
      var _Mapper = __webpack_require__("./InteractionEvent");
      Object.defineProperty(exports, "InteractionEvent", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Mapper).default;
        }
      });
    }, {
      "./InteractionData" : 155,
      "./InteractionEvent" : 156,
      "./InteractionManager" : 157,
      "./InteractionTrackingData" : 158,
      "./interactiveTarget" : 160
    }],
    160 : [function(canCreateDiscussions, isSlidingUp, exports) {
      exports.__esModule = true;
      exports.default = {
        interactive : false,
        interactiveChildren : true,
        hitArea : null,
        get buttonMode() {
          return "pointer" === this.cursor;
        },
        set buttonMode(canCreateDiscussions) {
          if (canCreateDiscussions) {
            this.cursor = "pointer";
          } else {
            if ("pointer" === this.cursor) {
              this.cursor = null;
            }
          }
        },
        cursor : null,
        get trackedPointers() {
          return void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers;
        },
        _trackedPointers : void 0
      };
    }, {}],
    161 : [function(require, canCreateDiscussions, exports) {
      function parse(type, name) {
        type.bitmapFont = Hilo.BitmapText.registerFont(type.data, name);
      }
      exports.__esModule = true;
      exports.parse = parse;
      exports.default = function() {
        return function(resource, $) {
          if (!resource.data || resource.type !== loaders.Resource.TYPE.XML) {
            return void $();
          }
          if (0 === resource.data.getElementsByTagName("page").length || 0 === resource.data.getElementsByTagName("info").length || null === resource.data.getElementsByTagName("info")[0].getAttribute("face")) {
            return void $();
          }
          var xmlUrl = resource.isDataUrl ? "" : a.dirname(resource.url);
          if (resource.isDataUrl) {
            if ("." === xmlUrl) {
              xmlUrl = "";
            }
            if (this.baseUrl && xmlUrl && "/" === this.baseUrl.charAt(this.baseUrl.length - 1)) {
              xmlUrl = xmlUrl + "/";
            }
          }
          if ((xmlUrl = xmlUrl.replace(this.baseUrl, "")) && "/" !== xmlUrl.charAt(xmlUrl.length - 1)) {
            xmlUrl = xmlUrl + "/";
          }
          var p = resource.data.getElementsByTagName("page");
          var o = {};
          var init = function(s) {
            o[s.metadata.pageFile] = s.texture;
            if (Object.keys(o).length === p.length) {
              parse(resource, o);
              $();
            }
          };
          var i = 0;
          for (; i < p.length; ++i) {
            var e = p[i].getAttribute("file");
            var url = xmlUrl + e;
            var d = false;
            var name;
            for (name in this.resources) {
              var res = this.resources[name];
              if (res.url === url) {
                res.metadata.pageFile = e;
                if (res.texture) {
                  init(res);
                } else {
                  res.onAfterMiddleware.add(init);
                }
                d = true;
                break;
              }
            }
            if (!d) {
              var service = {
                crossOrigin : resource.crossOrigin,
                loadType : loaders.Resource.LOAD_TYPE.IMAGE,
                metadata : Object.assign({
                  pageFile : e
                }, resource.metadata.imageMetadata),
                parentResource : resource
              };
              this.add(url, service, init);
            }
          }
        };
      };
      var i = require("path");
      var a = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(i);
      var loaders = require("resource-loader");
      var Hilo = require("../extras");
    }, {
      "../extras" : 141,
      path : 8,
      "resource-loader" : 36
    }],
    162 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      exports.shared = exports.Resource = exports.textureParser = exports.getResourcePath = exports.spritesheetParser = exports.parseBitmapFontData = exports.bitmapFontParser = exports.Loader = void 0;
      var _AuthenticationDetails = __webpack_require__("./bitmapFontParser");
      Object.defineProperty(exports, "bitmapFontParser", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      Object.defineProperty(exports, "parseBitmapFontData", {
        enumerable : true,
        get : function() {
          return _AuthenticationDetails.parse;
        }
      });
      var _CognitoUserPool = __webpack_require__("./spritesheetParser");
      Object.defineProperty(exports, "spritesheetParser", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      Object.defineProperty(exports, "getResourcePath", {
        enumerable : true,
        get : function() {
          return _CognitoUserPool.getResourcePath;
        }
      });
      var _Calendar = __webpack_require__("./textureParser");
      Object.defineProperty(exports, "textureParser", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var store = __webpack_require__("resource-loader");
      Object.defineProperty(exports, "Resource", {
        enumerable : true,
        get : function() {
          return store.Resource;
        }
      });
      var _UiIcon = __webpack_require__("../core/Application");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _classlist = __webpack_require__("./loader");
      var _loader2 = _interopRequireDefault(_classlist);
      exports.Loader = _loader2.default;
      var shared = new _loader2.default;
      shared.destroy = function() {
      };
      exports.shared = shared;
      var p = _UiIcon2.default.prototype;
      p._loader = null;
      Object.defineProperty(p, "loader", {
        get : function() {
          if (!this._loader) {
            var sharedLoader = this._options.sharedLoader;
            this._loader = sharedLoader ? shared : new _loader2.default;
          }
          return this._loader;
        }
      });
      p._parentDestroy = p.destroy;
      p.destroy = function(e, treeId) {
        if (this._loader) {
          this._loader.destroy();
          this._loader = null;
        }
        this._parentDestroy(e, treeId);
      };
    }, {
      "../core/Application" : 43,
      "./bitmapFontParser" : 161,
      "./loader" : 163,
      "./spritesheetParser" : 164,
      "./textureParser" : 165,
      "resource-loader" : 36
    }],
    163 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function register(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function apply(name, a) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? name : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _prepareStyleProperties = __webpack_require__("resource-loader");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _UiRippleInk = __webpack_require__("resource-loader/lib/middlewares/parsing/blob");
      var _AboutPage = __webpack_require__("eventemitter3");
      var _AboutPage2 = _interopRequireDefault(_AboutPage);
      var _normalizeDataUri = __webpack_require__("./textureParser");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _UiIcon = __webpack_require__("./spritesheetParser");
      var _UiIcon2 = _interopRequireDefault(_UiIcon);
      var _classlist = __webpack_require__("./bitmapFontParser");
      var _classlist2 = _interopRequireDefault(_classlist);
      var CepPromiseError = function(e) {
        function init(obj, n) {
          register(this, init);
          var self = apply(this, e.call(this, obj, n));
          _AboutPage2.default.call(self);
          var i = 0;
          for (; i < init._pixiMiddleware.length; ++i) {
            self.use(init._pixiMiddleware[i]());
          }
          return self.onStart.add(function(t) {
            return self.emit("start", t);
          }), self.onProgress.add(function(t, e) {
            return self.emit("progress", t, e);
          }), self.onError.add(function(t, e, parent) {
            return self.emit("error", t, e, parent);
          }), self.onLoad.add(function(t, e) {
            return self.emit("load", t, e);
          }), self.onComplete.add(function(t, e) {
            return self.emit("complete", t, e);
          }), self;
        }
        return _inherits(init, e), init.addPixiMiddleware = function(fn) {
          init._pixiMiddleware.push(fn);
        }, init.prototype.destroy = function() {
          this.removeAllListeners();
          this.reset();
        }, init;
      }(_prepareStyleProperties2.default);
      exports.default = CepPromiseError;
      var name;
      for (name in _AboutPage2.default.prototype) {
        CepPromiseError.prototype[name] = _AboutPage2.default.prototype[name];
      }
      CepPromiseError._pixiMiddleware = [_UiRippleInk.blobMiddlewareFactory, _normalizeDataUri2.default, _UiIcon2.default, _classlist2.default];
      var Resource = _prepareStyleProperties2.default.Resource;
      Resource.setExtensionXhrType("fnt", Resource.XHR_RESPONSE_TYPE.DOCUMENT);
    }, {
      "./bitmapFontParser" : 161,
      "./spritesheetParser" : 164,
      "./textureParser" : 165,
      eventemitter3 : 3,
      "resource-loader" : 36,
      "resource-loader/lib/middlewares/parsing/blob" : 37
    }],
    164 : [function($, canCreateDiscussions, exports) {
      function process(resource, e) {
        return resource.isDataUrl ? resource.data.meta.image : s.default.resolve(resource.url.replace(e, ""), resource.data.meta.image);
      }
      exports.__esModule = true;
      exports.default = function() {
        return function(resource, callback) {
          var name = resource.name + "_image";
          if (!resource.data || resource.type !== self.Resource.TYPE.JSON || !resource.data.frames || this.resources[name]) {
            return void callback();
          }
          var obj = {
            crossOrigin : resource.crossOrigin,
            metadata : resource.metadata.imageMetadata,
            parentResource : resource
          };
          var res = process(resource, this.baseUrl);
          this.add(name, res, obj, function(res) {
            if (res.error) {
              return void callback(res.error);
            }
            var spritesheet = new WebInspector.Spritesheet(res.texture.baseTexture, resource.data, resource.url);
            spritesheet.parse(function() {
              resource.spritesheet = spritesheet;
              resource.textures = spritesheet.textures;
              callback();
            });
          });
        };
      };
      exports.getResourcePath = process;
      var self = $("resource-loader");
      var o = $("url");
      var s = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(o);
      var WebInspector = $("../core");
    }, {
      "../core" : 65,
      "resource-loader" : 36,
      url : 38
    }],
    165 : [function($, canCreateDiscussions, exports) {
      exports.__esModule = true;
      exports.default = function() {
        return function(resource, callback) {
          if (resource.data && resource.type === self.Resource.TYPE.IMAGE) {
            resource.texture = o.default.fromLoader(resource.data, resource.url, resource.name);
          }
          callback();
        };
      };
      var self = $("resource-loader");
      var option = $("../core/textures/Texture");
      var o = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(option);
    }, {
      "../core/textures/Texture" : 115,
      "resource-loader" : 36
    }],
    166 : [function(require, canCreateDiscussions, exports) {
      function parseLib(q, classSpec) {
        if (!(q instanceof classSpec)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function getColor(name, a) {
        if (!name) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? name : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var gotoNewOfflinePage = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var modules = require("../core");
      var core = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(modules);
      var App = require("../core/textures/Texture");
      var self = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(App);
      var point = new core.Point;
      var map = new core.Polygon;
      var Mesh = function(t) {
        function Light(position, rotation, vertices, indices, options) {
          parseLib(this, Light);
          var mesh = getColor(this, t.call(this));
          return mesh._texture = position || self.default.EMPTY, mesh.uvs = vertices || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), mesh.vertices = rotation || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), mesh.indices = indices || new Uint16Array([0, 1, 3, 2]), mesh.dirty = 0, mesh.indexDirty = 0, mesh.vertexDirty = 0, mesh.autoUpdate = true, mesh.blendMode = core.BLEND_MODES.NORMAL, mesh.canvasPadding = core.settings.MESH_CANVAS_PADDING, mesh.drawMode = options || Light.DRAW_MODES.TRIANGLE_MESH, 
          mesh.shader = null, mesh.tintRgb = new Float32Array([1, 1, 1]), mesh._glDatas = {}, mesh._uvTransform = new core.TextureMatrix(mesh._texture), mesh.uploadUvTransform = false, mesh.pluginName = "mesh", mesh;
        }
        return _inherits(Light, t), Light.prototype._renderWebGL = function(renderer) {
          this.refresh();
          renderer.setObjectRenderer(renderer.plugins[this.pluginName]);
          renderer.plugins[this.pluginName].render(this);
        }, Light.prototype._renderCanvas = function(renderer) {
          this.refresh();
          renderer.plugins[this.pluginName].render(this);
        }, Light.prototype._onTextureUpdate = function() {
          this._uvTransform.texture = this._texture;
          this.refresh();
        }, Light.prototype.multiplyUvs = function() {
          if (!this.uploadUvTransform) {
            this._uvTransform.multiplyUvs(this.uvs);
          }
        }, Light.prototype.refresh = function(i) {
          if (this.autoUpdate) {
            this.vertexDirty++;
          }
          if (this._uvTransform.update(i)) {
            this._refresh();
          }
        }, Light.prototype._refresh = function() {
        }, Light.prototype._calculateBounds = function() {
          this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length);
        }, Light.prototype.containsPoint = function(type) {
          if (!this.getBounds().contains(type.x, type.y)) {
            return false;
          }
          this.worldTransform.applyInverse(type, point);
          var c = this.vertices;
          var p = map.points;
          var ii = this.indices;
          var l = this.indices.length;
          var theTokenLength = this.drawMode === Light.DRAW_MODES.TRIANGLES ? 3 : 1;
          var index = 0;
          for (; index + 2 < l; index = index + theTokenLength) {
            var i = 2 * ii[index];
            var l = 2 * ii[index + 1];
            var key = 2 * ii[index + 2];
            if (p[0] = c[i], p[1] = c[i + 1], p[2] = c[l], p[3] = c[l + 1], p[4] = c[key], p[5] = c[key + 1], map.contains(point.x, point.y)) {
              return true;
            }
          }
          return false;
        }, Light.prototype.destroy = function(e) {
          var indexLookupKey;
          for (indexLookupKey in this._glDatas) {
            var glData = this._glDatas[indexLookupKey];
            if (glData.destroy) {
              glData.destroy();
            } else {
              if (glData.vertexBuffer) {
                glData.vertexBuffer.destroy();
                glData.vertexBuffer = null;
              }
              if (glData.indexBuffer) {
                glData.indexBuffer.destroy();
                glData.indexBuffer = null;
              }
              if (glData.uvBuffer) {
                glData.uvBuffer.destroy();
                glData.uvBuffer = null;
              }
              if (glData.vao) {
                glData.vao.destroy();
                glData.vao = null;
              }
            }
          }
          this._glDatas = null;
          t.prototype.destroy.call(this, e);
        }, gotoNewOfflinePage(Light, [{
          key : "texture",
          get : function() {
            return this._texture;
          },
          set : function(value) {
            if (this._texture !== value) {
              this._texture = value;
              if (value) {
                if (value.baseTexture.hasLoaded) {
                  this._onTextureUpdate();
                } else {
                  value.once("update", this._onTextureUpdate, this);
                }
              }
            }
          }
        }, {
          key : "tint",
          get : function() {
            return core.utils.rgb2hex(this.tintRgb);
          },
          set : function(value) {
            this.tintRgb = core.utils.hex2rgb(value, this.tintRgb);
          }
        }]), Light;
      }(core.Container);
      exports.default = Mesh;
      Mesh.DRAW_MODES = {
        TRIANGLE_MESH : 0,
        TRIANGLES : 1
      };
    }, {
      "../core" : 65,
      "../core/textures/Texture" : 115
    }],
    167 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function merge(host, a) {
        if (!host) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? host : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var addButtonCommand = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var _prepareStyleProperties = __webpack_require__("./Plane");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("../core/sprites/canvas/CanvasTinter");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var addClass = 10;
      var SuggestList = function(a) {
        function Button(data, type, value, text, index) {
          _classCallCheck(this, Button);
          var scope = merge(this, a.call(this, data, 4, 4));
          return scope._origWidth = data.orig.width, scope._origHeight = data.orig.height, scope._width = scope._origWidth, scope._height = scope._origHeight, scope._leftWidth = void 0 !== type ? type : addClass, scope._rightWidth = void 0 !== text ? text : addClass, scope._topHeight = void 0 !== value ? value : addClass, scope._bottomHeight = void 0 !== index ? index : addClass, scope._cachedTint = 16777215, scope._tintedTexture = null, scope._canvasUvs = null, scope.refresh(true), scope;
        }
        return _inherits(Button, a), Button.prototype.updateHorizontalVertices = function() {
          var vertices = this.vertices;
          var topHeight = this._topHeight + this._bottomHeight;
          var pixelsPerParticle = this._height > topHeight ? 1 : this._height / topHeight;
          vertices[9] = vertices[11] = vertices[13] = vertices[15] = this._topHeight * pixelsPerParticle;
          vertices[17] = vertices[19] = vertices[21] = vertices[23] = this._height - this._bottomHeight * pixelsPerParticle;
          vertices[25] = vertices[27] = vertices[29] = vertices[31] = this._height;
        }, Button.prototype.updateVerticalVertices = function() {
          var vertices = this.vertices;
          var nominalScale = this._leftWidth + this._rightWidth;
          var pixelsPerParticle = this._width > nominalScale ? 1 : this._width / nominalScale;
          vertices[2] = vertices[10] = vertices[18] = vertices[26] = this._leftWidth * pixelsPerParticle;
          vertices[4] = vertices[12] = vertices[20] = vertices[28] = this._width - this._rightWidth * pixelsPerParticle;
          vertices[6] = vertices[14] = vertices[22] = vertices[30] = this._width;
        }, Button.prototype._renderCanvas = function(renderer) {
          var context = renderer.context;
          var transform = this.worldTransform;
          var resolution = renderer.resolution;
          var absolute = 16777215 !== this.tint;
          var texture = this._texture;
          if (absolute && this._cachedTint !== this.tint) {
            this._cachedTint = this.tint;
            this._tintedTexture = _normalizeDataUri2.default.getTintedTexture(this, this.tint);
          }
          var coloredImage = absolute ? this._tintedTexture : texture.baseTexture.source;
          if (!this._canvasUvs) {
            this._canvasUvs = [0, 0, 0, 0, 0, 0, 0, 0];
          }
          var vertices = this.vertices;
          var c = this._canvasUvs;
          var t1 = absolute ? 0 : texture.frame.x;
          var l = absolute ? 0 : texture.frame.y;
          var t2 = t1 + texture.frame.width;
          var r = l + texture.frame.height;
          c[0] = t1;
          c[1] = t1 + this._leftWidth;
          c[2] = t2 - this._rightWidth;
          c[3] = t2;
          c[4] = l;
          c[5] = l + this._topHeight;
          c[6] = r - this._bottomHeight;
          c[7] = r;
          var NOP = 0;
          for (; NOP < 8; NOP++) {
            c[NOP] *= texture.baseTexture.resolution;
          }
          context.globalAlpha = this.worldAlpha;
          renderer.setBlendMode(this.blendMode);
          if (renderer.roundPixels) {
            context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution | 0, transform.ty * resolution | 0);
          } else {
            context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
          }
          var j = 0;
          for (; j < 3; j++) {
            var i = 0;
            for (; i < 3; i++) {
              var x1 = 2 * i + 8 * j;
              var draw_width = Math.max(1, c[i + 1] - c[i]);
              var draw_height = Math.max(1, c[j + 5] - c[j + 4]);
              var dcw = Math.max(1, vertices[x1 + 10] - vertices[x1]);
              var dch = Math.max(1, vertices[x1 + 11] - vertices[x1 + 1]);
              context.drawImage(coloredImage, c[i], c[j + 4], draw_width, draw_height, vertices[x1], vertices[x1 + 1], dcw, dch);
            }
          }
        }, Button.prototype._refresh = function() {
          a.prototype._refresh.call(this);
          var uvs = this.uvs;
          var texture = this._texture;
          this._origWidth = texture.orig.width;
          this._origHeight = texture.orig.height;
          var _uvw = 1 / this._origWidth;
          var _uvh = 1 / this._origHeight;
          uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;
          uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;
          uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;
          uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;
          uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;
          uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - _uvw * this._rightWidth;
          uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;
          uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - _uvh * this._bottomHeight;
          this.updateHorizontalVertices();
          this.updateVerticalVertices();
          this.dirty++;
          this.multiplyUvs();
        }, addButtonCommand(Button, [{
          key : "width",
          get : function() {
            return this._width;
          },
          set : function(value) {
            this._width = value;
            this._refresh();
          }
        }, {
          key : "height",
          get : function() {
            return this._height;
          },
          set : function(value) {
            this._height = value;
            this._refresh();
          }
        }, {
          key : "leftWidth",
          get : function() {
            return this._leftWidth;
          },
          set : function(value) {
            this._leftWidth = value;
            this._refresh();
          }
        }, {
          key : "rightWidth",
          get : function() {
            return this._rightWidth;
          },
          set : function(value) {
            this._rightWidth = value;
            this._refresh();
          }
        }, {
          key : "topHeight",
          get : function() {
            return this._topHeight;
          },
          set : function(value) {
            this._topHeight = value;
            this._refresh();
          }
        }, {
          key : "bottomHeight",
          get : function() {
            return this._bottomHeight;
          },
          set : function(value) {
            this._bottomHeight = value;
            this._refresh();
          }
        }]), Button;
      }(_prepareStyleProperties2.default);
      exports.default = SuggestList;
    }, {
      "../core/sprites/canvas/CanvasTinter" : 104,
      "./Plane" : 168
    }],
    168 : [function(promiseSupplier, canCreateDiscussions, exports) {
      function parseLib(q, classSpec) {
        if (!(q instanceof classSpec)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function $(fn, t) {
        if (!fn) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? fn : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var s = promiseSupplier("./Mesh");
      var r = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(s);
      var SuggestList = function(_Namespace) {
        function Light(node, options, args) {
          parseLib(this, Light);
          var self = $(this, _Namespace.call(this, node));
          return self._ready = true, self.verticesX = options || 10, self.verticesY = args || 10, self.drawMode = r.default.DRAW_MODES.TRIANGLES, self.refresh(), self;
        }
        return _inherits(Light, _Namespace), Light.prototype._refresh = function() {
          var texture = this._texture;
          var total = this.verticesX * this.verticesY;
          var verts = [];
          var colors = [];
          var uvs = [];
          var data = [];
          var segmentsX = this.verticesX - 1;
          var segmentsY = this.verticesY - 1;
          var sizeX = texture.width / segmentsX;
          var sizeY = texture.height / segmentsY;
          var i = 0;
          for (; i < total; i++) {
            var x = i % this.verticesX;
            var y = i / this.verticesX | 0;
            verts.push(x * sizeX, y * sizeY);
            uvs.push(x / segmentsX, y / segmentsY);
          }
          var totalSub = segmentsX * segmentsY;
          var x = 0;
          for (; x < totalSub; x++) {
            var xpos = x % segmentsX;
            var ypos = x / segmentsX | 0;
            var value = ypos * this.verticesX + xpos;
            var m = ypos * this.verticesX + xpos + 1;
            var value3 = (ypos + 1) * this.verticesX + xpos;
            var b = (ypos + 1) * this.verticesX + xpos + 1;
            data.push(value, m, value3);
            data.push(m, b, value3);
          }
          this.vertices = new Float32Array(verts);
          this.uvs = new Float32Array(uvs);
          this.colors = new Float32Array(colors);
          this.indices = new Uint16Array(data);
          this.dirty++;
          this.indexDirty++;
          this.multiplyUvs();
        }, Light.prototype._onTextureUpdate = function() {
          r.default.prototype._onTextureUpdate.call(this);
          if (this._ready) {
            this.refresh();
          }
        }, Light;
      }(r.default);
      exports.default = SuggestList;
    }, {
      "./Mesh" : 166
    }],
    169 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _get(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function create(range, o) {
        if (!range) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !o || "object" != typeof o && "function" != typeof o ? range : o;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _deepAssign = __webpack_require__("./Mesh");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SuggestList = function(_Namespace) {
        function init(options, value) {
          _get(this, init);
          var obj = create(this, _Namespace.call(this, options));
          return obj.points = value, obj.vertices = new Float32Array(4 * value.length), obj.uvs = new Float32Array(4 * value.length), obj.colors = new Float32Array(2 * value.length), obj.indices = new Uint16Array(2 * value.length), obj.autoUpdate = true, obj.refresh(), obj;
        }
        return _inherits(init, _Namespace), init.prototype._refresh = function() {
          var points = this.points;
          if (!(points.length < 1) && this._texture._uvs) {
            if (this.vertices.length / 4 !== points.length) {
              this.vertices = new Float32Array(4 * points.length);
              this.uvs = new Float32Array(4 * points.length);
              this.colors = new Float32Array(2 * points.length);
              this.indices = new Uint16Array(2 * points.length);
            }
            var uvs = this.uvs;
            var indices = this.indices;
            var colors = this.colors;
            uvs[0] = 0;
            uvs[1] = 0;
            uvs[2] = 0;
            uvs[3] = 1;
            colors[0] = 1;
            colors[1] = 1;
            indices[0] = 0;
            indices[1] = 1;
            var _len = points.length;
            var CHUNK_SIZE = 1;
            for (; CHUNK_SIZE < _len; CHUNK_SIZE++) {
              var index = 4 * CHUNK_SIZE;
              var v1 = CHUNK_SIZE / (_len - 1);
              uvs[index] = v1;
              uvs[index + 1] = 0;
              uvs[index + 2] = v1;
              uvs[index + 3] = 1;
              index = 2 * CHUNK_SIZE;
              colors[index] = 1;
              colors[index + 1] = 1;
              index = 2 * CHUNK_SIZE;
              indices[index] = index;
              indices[index + 1] = index + 1;
            }
            this.dirty++;
            this.indexDirty++;
            this.multiplyUvs();
            this.refreshVertices();
          }
        }, init.prototype.refreshVertices = function() {
          var a = this.points;
          if (!(a.length < 1)) {
            var p = a[0];
            var drop = void 0;
            var x = 0;
            var y = 0;
            var data = this.vertices;
            var l = a.length;
            var i = 0;
            for (; i < l; i++) {
              var node = a[i];
              var j = 4 * i;
              drop = i < a.length - 1 ? a[i + 1] : node;
              y = -(drop.x - p.x);
              x = drop.y - p.y;
              var h = 10 * (1 - i / (l - 1));
              if (h > 1) {
                h = 1;
              }
              var GRID_SPACE_SIZE = Math.sqrt(x * x + y * y);
              var maxImageSize = this._texture.height / 2;
              x = x / GRID_SPACE_SIZE;
              y = y / GRID_SPACE_SIZE;
              x = x * maxImageSize;
              y = y * maxImageSize;
              data[j] = node.x + x;
              data[j + 1] = node.y + y;
              data[j + 2] = node.x - x;
              data[j + 3] = node.y - y;
              p = node;
            }
          }
        }, init.prototype.updateTransform = function() {
          if (this.autoUpdate) {
            this.refreshVertices();
          }
          this.containerUpdateTransform();
        }, init;
      }(_deepAssign2.default);
      exports.default = SuggestList;
    }, {
      "./Mesh" : 166
    }],
    170 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var window = __webpack_require__("../../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _deepAssign = __webpack_require__("../Mesh");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var StarRatingComponent = function() {
        function render(renderer) {
          _get(this, render);
          this.renderer = renderer;
        }
        return render.prototype.render = function(mesh) {
          var renderer = this.renderer;
          var context = renderer.context;
          var transform = mesh.worldTransform;
          var resolution = renderer.resolution;
          if (renderer.roundPixels) {
            context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution | 0, transform.ty * resolution | 0);
          } else {
            context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution);
          }
          renderer.context.globalAlpha = mesh.worldAlpha;
          renderer.setBlendMode(mesh.blendMode);
          if (mesh.drawMode === _deepAssign2.default.DRAW_MODES.TRIANGLE_MESH) {
            this._renderTriangleMesh(mesh);
          } else {
            this._renderTriangles(mesh);
          }
        }, render.prototype._renderTriangleMesh = function(mesh) {
          var totalStage = mesh.vertices.length / 2;
          var crntStage = 0;
          for (; crntStage < totalStage - 2; crntStage++) {
            var index = 2 * crntStage;
            this._renderDrawTriangle(mesh, index, index + 2, index + 4);
          }
        }, render.prototype._renderTriangles = function(mesh) {
          var indices = mesh.indices;
          var length = indices.length;
          var i = 0;
          for (; i < length; i = i + 3) {
            var index0 = 2 * indices[i];
            var index1 = 2 * indices[i + 1];
            var index2 = 2 * indices[i + 2];
            this._renderDrawTriangle(mesh, index0, index1, index2);
          }
        }, render.prototype._renderDrawTriangle = function(mesh, index0, index1, index2) {
          var context = this.renderer.context;
          var uvs = mesh.uvs;
          var vertices = mesh.vertices;
          var texture = mesh._texture;
          if (texture.valid) {
            var base = texture.baseTexture;
            var left = base.source;
            var textureWidth = base.width;
            var textureHeight = base.height;
            var u0 = void 0;
            var u1 = void 0;
            var u2 = void 0;
            var v0 = void 0;
            var v1 = void 0;
            var v2 = void 0;
            if (mesh.uploadUvTransform) {
              var ut = mesh._uvTransform.mapCoord;
              u0 = (uvs[index0] * ut.a + uvs[index0 + 1] * ut.c + ut.tx) * base.width;
              u1 = (uvs[index1] * ut.a + uvs[index1 + 1] * ut.c + ut.tx) * base.width;
              u2 = (uvs[index2] * ut.a + uvs[index2 + 1] * ut.c + ut.tx) * base.width;
              v0 = (uvs[index0] * ut.b + uvs[index0 + 1] * ut.d + ut.ty) * base.height;
              v1 = (uvs[index1] * ut.b + uvs[index1 + 1] * ut.d + ut.ty) * base.height;
              v2 = (uvs[index2] * ut.b + uvs[index2 + 1] * ut.d + ut.ty) * base.height;
            } else {
              u0 = uvs[index0] * base.width;
              u1 = uvs[index1] * base.width;
              u2 = uvs[index2] * base.width;
              v0 = uvs[index0 + 1] * base.height;
              v1 = uvs[index1 + 1] * base.height;
              v2 = uvs[index2 + 1] * base.height;
            }
            var x0 = vertices[index0];
            var x1 = vertices[index1];
            var x2 = vertices[index2];
            var y0 = vertices[index0 + 1];
            var y1 = vertices[index1 + 1];
            var y2 = vertices[index2 + 1];
            var height = mesh.canvasPadding / this.renderer.resolution;
            if (height > 0) {
              var paddingX = height / Math.abs(mesh.worldTransform.a);
              var paddingY = height / Math.abs(mesh.worldTransform.d);
              var centerX = (x0 + x1 + x2) / 3;
              var centerY = (y0 + y1 + y2) / 3;
              var normX = x0 - centerX;
              var normY = y0 - centerY;
              var dist = Math.sqrt(normX * normX + normY * normY);
              x0 = centerX + normX / dist * (dist + paddingX);
              y0 = centerY + normY / dist * (dist + paddingY);
              normX = x1 - centerX;
              normY = y1 - centerY;
              dist = Math.sqrt(normX * normX + normY * normY);
              x1 = centerX + normX / dist * (dist + paddingX);
              y1 = centerY + normY / dist * (dist + paddingY);
              normX = x2 - centerX;
              normY = y2 - centerY;
              dist = Math.sqrt(normX * normX + normY * normY);
              x2 = centerX + normX / dist * (dist + paddingX);
              y2 = centerY + normY / dist * (dist + paddingY);
            }
            context.save();
            context.beginPath();
            context.moveTo(x0, y0);
            context.lineTo(x1, y1);
            context.lineTo(x2, y2);
            context.closePath();
            context.clip();
            var delta = u0 * v1 + v0 * u2 + u1 * v2 - v1 * u2 - v0 * u1 - u0 * v2;
            var delta_a = x0 * v1 + v0 * x2 + x1 * v2 - v1 * x2 - v0 * x1 - x0 * v2;
            var delta_b = u0 * x1 + x0 * u2 + u1 * x2 - x1 * u2 - x0 * u1 - u0 * x2;
            var delta_c = u0 * v1 * x2 + v0 * x1 * u2 + x0 * u1 * v2 - x0 * v1 * u2 - v0 * u1 * x2 - u0 * x1 * v2;
            var delta_d = y0 * v1 + v0 * y2 + y1 * v2 - v1 * y2 - v0 * y1 - y0 * v2;
            var delta_e = u0 * y1 + y0 * u2 + u1 * y2 - y1 * u2 - y0 * u1 - u0 * y2;
            var delta_f = u0 * v1 * y2 + v0 * y1 * u2 + y0 * u1 * v2 - y0 * v1 * u2 - v0 * u1 * y2 - u0 * y1 * v2;
            context.transform(delta_a / delta, delta_d / delta, delta_b / delta, delta_e / delta, delta_c / delta, delta_f / delta);
            context.drawImage(left, 0, 0, textureWidth * base.resolution, textureHeight * base.resolution, 0, 0, textureWidth, textureHeight);
            context.restore();
            this.renderer.invalidateBlendMode();
          }
        }, render.prototype.renderMeshFlat = function(emitter) {
          var ctx = this.renderer.context;
          var r = emitter.vertices;
          var n = r.length / 2;
          ctx.beginPath();
          var i = 1;
          for (; i < n - 2; ++i) {
            var j = 2 * i;
            var offset = r[j];
            var b = r[j + 1];
            var right = r[j + 2];
            var h = r[j + 3];
            var l = r[j + 4];
            var step = r[j + 5];
            ctx.moveTo(offset, b);
            ctx.lineTo(right, h);
            ctx.lineTo(l, step);
          }
          ctx.fillStyle = "#FF0000";
          ctx.fill();
          ctx.closePath();
        }, render.prototype.destroy = function() {
          this.renderer = null;
        }, render;
      }();
      exports.default = StarRatingComponent;
      core.CanvasRenderer.registerPlugin("mesh", StarRatingComponent);
    }, {
      "../../core" : 65,
      "../Mesh" : 166
    }],
    171 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./Mesh");
      Object.defineProperty(exports, "Mesh", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./webgl/MeshRenderer");
      Object.defineProperty(exports, "MeshRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      var _Calendar = __webpack_require__("./canvas/CanvasMeshRenderer");
      Object.defineProperty(exports, "CanvasMeshRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var _Ticker = __webpack_require__("./Plane");
      Object.defineProperty(exports, "Plane", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Ticker).default;
        }
      });
      var _Mapper = __webpack_require__("./NineSlicePlane");
      Object.defineProperty(exports, "NineSlicePlane", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Mapper).default;
        }
      });
      var _CognitoAccessToken = __webpack_require__("./Rope");
      Object.defineProperty(exports, "Rope", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoAccessToken).default;
        }
      });
    }, {
      "./Mesh" : 166,
      "./NineSlicePlane" : 167,
      "./Plane" : 168,
      "./Rope" : 169,
      "./canvas/CanvasMeshRenderer" : 170,
      "./webgl/MeshRenderer" : 172
    }],
    172 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function add(t, e) {
        if (!(t instanceof e)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function log(s, t) {
        if (!s) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? s : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var window = __webpack_require__("../../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _prepareStyleProperties = __webpack_require__("pixi-gl-core");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _normalizeDataUri = __webpack_require__("../Mesh");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var resultsSubject = (__webpack_require__("path"), core.Matrix.IDENTITY);
      var StarRatingComponent = function(_Namespace) {
        function f(event) {
          add(this, f);
          var result = log(this, _Namespace.call(this, event));
          return result.shader = null, result;
        }
        return _inherits(f, _Namespace), f.prototype.onContextChange = function() {
          var gl = this.renderer.gl;
          this.shader = new core.Shader(gl, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n");
        }, f.prototype.render = function(mesh) {
          var renderer = this.renderer;
          var gl = renderer.gl;
          var texture = mesh._texture;
          if (texture.valid) {
            var glData = mesh._glDatas[renderer.CONTEXT_UID];
            if (!glData) {
              renderer.bindVao(null);
              glData = {
                shader : this.shader,
                vertexBuffer : _prepareStyleProperties2.default.GLBuffer.createVertexBuffer(gl, mesh.vertices, gl.STREAM_DRAW),
                uvBuffer : _prepareStyleProperties2.default.GLBuffer.createVertexBuffer(gl, mesh.uvs, gl.STREAM_DRAW),
                indexBuffer : _prepareStyleProperties2.default.GLBuffer.createIndexBuffer(gl, mesh.indices, gl.STATIC_DRAW),
                vao : null,
                dirty : mesh.dirty,
                indexDirty : mesh.indexDirty,
                vertexDirty : mesh.vertexDirty
              };
              glData.vao = (new _prepareStyleProperties2.default.VertexArrayObject(gl)).addIndex(glData.indexBuffer).addAttribute(glData.vertexBuffer, glData.shader.attributes.aVertexPosition, gl.FLOAT, false, 8, 0).addAttribute(glData.uvBuffer, glData.shader.attributes.aTextureCoord, gl.FLOAT, false, 8, 0);
              mesh._glDatas[renderer.CONTEXT_UID] = glData;
            }
            renderer.bindVao(glData.vao);
            if (mesh.dirty !== glData.dirty) {
              glData.dirty = mesh.dirty;
              glData.uvBuffer.upload(mesh.uvs);
            }
            if (mesh.indexDirty !== glData.indexDirty) {
              glData.indexDirty = mesh.indexDirty;
              glData.indexBuffer.upload(mesh.indices);
            }
            if (mesh.vertexDirty !== glData.vertexDirty) {
              glData.vertexDirty = mesh.vertexDirty;
              glData.vertexBuffer.upload(mesh.vertices);
            }
            renderer.bindShader(glData.shader);
            glData.shader.uniforms.uSampler = renderer.bindTexture(texture);
            renderer.state.setBlendMode(core.utils.correctBlendMode(mesh.blendMode, texture.baseTexture.premultipliedAlpha));
            if (glData.shader.uniforms.uTransform) {
              if (mesh.uploadUvTransform) {
                glData.shader.uniforms.uTransform = mesh._uvTransform.mapCoord.toArray(true);
              } else {
                glData.shader.uniforms.uTransform = resultsSubject.toArray(true);
              }
            }
            glData.shader.uniforms.translationMatrix = mesh.worldTransform.toArray(true);
            glData.shader.uniforms.uColor = core.utils.premultiplyRgba(mesh.tintRgb, mesh.worldAlpha, glData.shader.uniforms.uColor, texture.baseTexture.premultipliedAlpha);
            var bmp = mesh.drawMode === _normalizeDataUri2.default.DRAW_MODES.TRIANGLE_MESH ? gl.TRIANGLE_STRIP : gl.TRIANGLES;
            glData.vao.draw(bmp, mesh.indices.length, 0);
          }
        }, f;
      }(core.ObjectRenderer);
      exports.default = StarRatingComponent;
      core.WebGLRenderer.registerPlugin("mesh", StarRatingComponent);
    }, {
      "../../core" : 65,
      "../Mesh" : 166,
      path : 8,
      "pixi-gl-core" : 15
    }],
    173 : [function(require, canCreateDiscussions, exports) {
      function parseLib(q, classSpec) {
        if (!(q instanceof classSpec)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function $(fn, t) {
        if (!fn) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? fn : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var gotoNewOfflinePage = function() {
        function t(d, props) {
          var i = 0;
          for (; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) {
              descriptor.writable = true;
            }
            Object.defineProperty(d, descriptor.key, descriptor);
          }
        }
        return function(p, n, a) {
          return n && t(p.prototype, n), a && t(p, a), p;
        };
      }();
      var pornResult = require("../core");
      var PIXI = function(obj) {
        if (obj && obj.__esModule) {
          return obj;
        }
        var newObj = {};
        if (null != obj) {
          var key;
          for (key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        return newObj.default = obj, newObj;
      }(pornResult);
      var Color = require("../core/utils");
      var SuggestList = function(t) {
        function Light() {
          var d = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1500;
          var step = arguments[1];
          var c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16384;
          var autoResize = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
          parseLib(this, Light);
          var self = $(this, t.call(this));
          return c > 16384 && (c = 16384), c > d && (c = d), self._properties = [false, true, false, false, false], self._maxSize = d, self._batchSize = c, self._glBuffers = {}, self._bufferUpdateIDs = [], self._updateID = 0, self.interactiveChildren = false, self.blendMode = PIXI.BLEND_MODES.NORMAL, self.autoResize = autoResize, self.roundPixels = true, self.baseTexture = null, self.setProperties(step), self._tint = 0, self.tintRgb = new Float32Array(4), self.tint = 16777215, self;
        }
        return _inherits(Light, t), Light.prototype.setProperties = function(properties) {
          if (properties) {
            this._properties[0] = "vertices" in properties || "scale" in properties ? !!properties.vertices || !!properties.scale : this._properties[0];
            this._properties[1] = "position" in properties ? !!properties.position : this._properties[1];
            this._properties[2] = "rotation" in properties ? !!properties.rotation : this._properties[2];
            this._properties[3] = "uvs" in properties ? !!properties.uvs : this._properties[3];
            this._properties[4] = "tint" in properties || "alpha" in properties ? !!properties.tint || !!properties.alpha : this._properties[4];
          }
        }, Light.prototype.updateTransform = function() {
          this.displayObjectUpdateTransform();
        }, Light.prototype.renderWebGL = function(renderer) {
          var treeModel = this;
          if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
            if (!this.baseTexture) {
              this.baseTexture = this.children[0]._texture.baseTexture;
              if (!this.baseTexture.hasLoaded) {
                this.baseTexture.once("update", function() {
                  return treeModel.onChildrenChange(0);
                });
              }
            }
            renderer.setObjectRenderer(renderer.plugins.particle);
            renderer.plugins.particle.render(this);
          }
        }, Light.prototype.onChildrenChange = function(parent) {
          var exC = Math.floor(parent / this._batchSize);
          for (; this._bufferUpdateIDs.length < exC;) {
            this._bufferUpdateIDs.push(0);
          }
          this._bufferUpdateIDs[exC] = ++this._updateID;
        }, Light.prototype.renderCanvas = function(renderer) {
          if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
            var ctx = renderer.context;
            var wt = this.worldTransform;
            var n = true;
            var dx = 0;
            var dy = 0;
            var width = 0;
            var height = 0;
            renderer.setBlendMode(this.blendMode);
            ctx.globalAlpha = this.worldAlpha;
            this.displayObjectUpdateTransform();
            var i = 0;
            for (; i < this.children.length; ++i) {
              var child = this.children[i];
              if (child.visible) {
                var rect = child._texture.frame;
                if (ctx.globalAlpha = this.worldAlpha * child.alpha, child.rotation % (2 * Math.PI) == 0) {
                  if (n) {
                    ctx.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution, wt.ty * renderer.resolution);
                    n = false;
                  }
                  dx = child.anchor.x * (-rect.width * child.scale.x) + child.position.x + .5;
                  dy = child.anchor.y * (-rect.height * child.scale.y) + child.position.y + .5;
                  width = rect.width * child.scale.x;
                  height = rect.height * child.scale.y;
                } else {
                  if (!n) {
                    n = true;
                  }
                  child.displayObjectUpdateTransform();
                  var wt = child.worldTransform;
                  if (renderer.roundPixels) {
                    ctx.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution | 0, wt.ty * renderer.resolution | 0);
                  } else {
                    ctx.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution, wt.ty * renderer.resolution);
                  }
                  dx = child.anchor.x * -rect.width + .5;
                  dy = child.anchor.y * -rect.height + .5;
                  width = rect.width;
                  height = rect.height;
                }
                var scale = child._texture.baseTexture.resolution;
                ctx.drawImage(child._texture.baseTexture.source, rect.x * scale, rect.y * scale, rect.width * scale, rect.height * scale, dx * renderer.resolution, dy * renderer.resolution, width * renderer.resolution, height * renderer.resolution);
              }
            }
          }
        }, Light.prototype.destroy = function(e) {
          if (t.prototype.destroy.call(this, e), this._buffers) {
            var i = 0;
            for (; i < this._buffers.length; ++i) {
              this._buffers[i].destroy();
            }
          }
          this._properties = null;
          this._buffers = null;
          this._bufferUpdateIDs = null;
        }, gotoNewOfflinePage(Light, [{
          key : "tint",
          get : function() {
            return this._tint;
          },
          set : function(value) {
            this._tint = value;
            (0, Color.hex2rgb)(value, this.tintRgb);
          }
        }]), Light;
      }(PIXI.Container);
      exports.default = SuggestList;
    }, {
      "../core" : 65,
      "../core/utils" : 125
    }],
    174 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./ParticleContainer");
      Object.defineProperty(exports, "ParticleContainer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./webgl/ParticleRenderer");
      Object.defineProperty(exports, "ParticleRenderer", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
    }, {
      "./ParticleContainer" : 173,
      "./webgl/ParticleRenderer" : 176
    }],
    175 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var _deepAssign = __webpack_require__("pixi-gl-core");
      var _deepAssign2 = _interopRequireDefault(_deepAssign);
      var _prepareStyleProperties = __webpack_require__("../../core/utils/createIndicesForQuads");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var SuggestList = function() {
        function File(context, data, modified, size) {
          _classCallCheck(this, File);
          this.gl = context;
          this.size = size;
          this.dynamicProperties = [];
          this.staticProperties = [];
          var i = 0;
          for (; i < data.length; ++i) {
            var property = data[i];
            property = {
              attribute : property.attribute,
              size : property.size,
              uploadFunction : property.uploadFunction,
              unsignedByte : property.unsignedByte,
              offset : property.offset
            };
            if (modified[i]) {
              this.dynamicProperties.push(property);
            } else {
              this.staticProperties.push(property);
            }
          }
          this.staticStride = 0;
          this.staticBuffer = null;
          this.staticData = null;
          this.staticDataUint32 = null;
          this.dynamicStride = 0;
          this.dynamicBuffer = null;
          this.dynamicData = null;
          this.dynamicDataUint32 = null;
          this._updateID = 0;
          this.initBuffers();
        }
        return File.prototype.initBuffers = function() {
          var gl = this.gl;
          var staticOffset = 0;
          this.indices = (0, _prepareStyleProperties2.default)(this.size);
          this.indexBuffer = _deepAssign2.default.GLBuffer.createIndexBuffer(gl, this.indices, gl.STATIC_DRAW);
          this.dynamicStride = 0;
          var pos = 0;
          for (; pos < this.dynamicProperties.length; ++pos) {
            var property = this.dynamicProperties[pos];
            property.offset = staticOffset;
            staticOffset = staticOffset + property.size;
            this.dynamicStride += property.size;
          }
          var vertexData = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
          this.dynamicData = new Float32Array(vertexData);
          this.dynamicDataUint32 = new Uint32Array(vertexData);
          this.dynamicBuffer = _deepAssign2.default.GLBuffer.createVertexBuffer(gl, vertexData, gl.STREAM_DRAW);
          var dynamicOffset = 0;
          this.staticStride = 0;
          var k = 0;
          for (; k < this.staticProperties.length; ++k) {
            var property = this.staticProperties[k];
            property.offset = dynamicOffset;
            dynamicOffset = dynamicOffset + property.size;
            this.staticStride += property.size;
          }
          var data = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
          this.staticData = new Float32Array(data);
          this.staticDataUint32 = new Uint32Array(data);
          this.staticBuffer = _deepAssign2.default.GLBuffer.createVertexBuffer(gl, data, gl.STATIC_DRAW);
          this.vao = (new _deepAssign2.default.VertexArrayObject(gl)).addIndex(this.indexBuffer);
          var i = 0;
          for (; i < this.dynamicProperties.length; ++i) {
            var property = this.dynamicProperties[i];
            if (property.unsignedByte) {
              this.vao.addAttribute(this.dynamicBuffer, property.attribute, gl.UNSIGNED_BYTE, true, 4 * this.dynamicStride, 4 * property.offset);
            } else {
              this.vao.addAttribute(this.dynamicBuffer, property.attribute, gl.FLOAT, false, 4 * this.dynamicStride, 4 * property.offset);
            }
          }
          var key = 0;
          for (; key < this.staticProperties.length; ++key) {
            var property = this.staticProperties[key];
            if (property.unsignedByte) {
              this.vao.addAttribute(this.staticBuffer, property.attribute, gl.UNSIGNED_BYTE, true, 4 * this.staticStride, 4 * property.offset);
            } else {
              this.vao.addAttribute(this.staticBuffer, property.attribute, gl.FLOAT, false, 4 * this.staticStride, 4 * property.offset);
            }
          }
        }, File.prototype.uploadDynamic = function(children, startIndex, amount) {
          var i = 0;
          for (; i < this.dynamicProperties.length; i++) {
            var property = this.dynamicProperties[i];
            property.uploadFunction(children, startIndex, amount, property.unsignedByte ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, property.offset);
          }
          this.dynamicBuffer.upload();
        }, File.prototype.uploadStatic = function(children, startIndex, amount) {
          var i = 0;
          for (; i < this.staticProperties.length; i++) {
            var property = this.staticProperties[i];
            property.uploadFunction(children, startIndex, amount, property.unsignedByte ? this.staticDataUint32 : this.staticData, this.staticStride, property.offset);
          }
          this.staticBuffer.upload();
        }, File.prototype.destroy = function() {
          this.dynamicProperties = null;
          this.dynamicBuffer.destroy();
          this.dynamicBuffer = null;
          this.dynamicData = null;
          this.dynamicDataUint32 = null;
          this.staticProperties = null;
          this.staticBuffer.destroy();
          this.staticBuffer = null;
          this.staticData = null;
          this.staticDataUint32 = null;
        }, File;
      }();
      exports.default = SuggestList;
    }, {
      "../../core/utils/createIndicesForQuads" : 123,
      "pixi-gl-core" : 15
    }],
    176 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function log(s, t) {
        if (!s) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !t || "object" != typeof t && "function" != typeof t ? s : t;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var window = __webpack_require__("../../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _normalizeDataUri = __webpack_require__("./ParticleShader");
      var _normalizeDataUri2 = _interopRequireDefault(_normalizeDataUri);
      var _prepareStyleProperties = __webpack_require__("./ParticleBuffer");
      var _prepareStyleProperties2 = _interopRequireDefault(_prepareStyleProperties);
      var _classlist = __webpack_require__("../../core/utils");
      var StarRatingComponent = function(t) {
        function constructor(url) {
          _get(this, constructor);
          var renderer = log(this, t.call(this, url));
          return renderer.shader = null, renderer.indexBuffer = null, renderer.properties = null, renderer.tempMatrix = new core.Matrix, renderer.CONTEXT_UID = 0, renderer;
        }
        return _inherits(constructor, t), constructor.prototype.onContextChange = function() {
          var gl = this.renderer.gl;
          this.CONTEXT_UID = this.renderer.CONTEXT_UID;
          this.shader = new _normalizeDataUri2.default(gl);
          this.properties = [{
            attribute : this.shader.attributes.aVertexPosition,
            size : 2,
            uploadFunction : this.uploadVertices,
            offset : 0
          }, {
            attribute : this.shader.attributes.aPositionCoord,
            size : 2,
            uploadFunction : this.uploadPosition,
            offset : 0
          }, {
            attribute : this.shader.attributes.aRotation,
            size : 1,
            uploadFunction : this.uploadRotation,
            offset : 0
          }, {
            attribute : this.shader.attributes.aTextureCoord,
            size : 2,
            uploadFunction : this.uploadUvs,
            offset : 0
          }, {
            attribute : this.shader.attributes.aColor,
            size : 1,
            unsignedByte : true,
            uploadFunction : this.uploadTint,
            offset : 0
          }];
        }, constructor.prototype.start = function() {
          this.renderer.bindShader(this.shader);
        }, constructor.prototype.render = function(container) {
          var children = container.children;
          var maxSize = container._maxSize;
          var batchSize = container._batchSize;
          var renderer = this.renderer;
          var totalChildren = children.length;
          if (0 !== totalChildren) {
            if (totalChildren > maxSize) {
              totalChildren = maxSize;
            }
            var result = container._glBuffers[renderer.CONTEXT_UID];
            if (!result) {
              result = container._glBuffers[renderer.CONTEXT_UID] = this.generateBuffers(container);
            }
            var texture = children[0]._texture.baseTexture;
            this.renderer.setBlendMode(core.utils.correctBlendMode(container.blendMode, texture.premultipliedAlpha));
            var gl = renderer.gl;
            var m = container.worldTransform.copy(this.tempMatrix);
            m.prepend(renderer._activeRenderTarget.projectionMatrix);
            this.shader.uniforms.projectionMatrix = m.toArray(true);
            this.shader.uniforms.uColor = core.utils.premultiplyRgba(container.tintRgb, container.worldAlpha, this.shader.uniforms.uColor, texture.premultipliedAlpha);
            this.shader.uniforms.uSampler = renderer.bindTexture(texture);
            var start = false;
            var i = 0;
            var j = 0;
            for (; i < totalChildren; i = i + batchSize, j = j + 1) {
              var amount = totalChildren - i;
              if (amount > batchSize && (amount = batchSize), j >= result.length) {
                if (!container.autoResize) {
                  break;
                }
                result.push(this._generateOneMoreBuffer(container));
              }
              var buffer = result[j];
              buffer.uploadDynamic(children, i, amount);
              var length = container._bufferUpdateIDs[j] || 0;
              start = start || buffer._updateID < length;
              if (start) {
                buffer._updateID = container._updateID;
                buffer.uploadStatic(children, i, amount);
              }
              renderer.bindVao(buffer.vao);
              buffer.vao.draw(gl.TRIANGLES, 6 * amount);
            }
          }
        }, constructor.prototype.generateBuffers = function(container) {
          var gl = this.renderer.gl;
          var buffers = [];
          var maxSize = container._maxSize;
          var batchSize = container._batchSize;
          var dynamicPropertyFlags = container._properties;
          var i = 0;
          for (; i < maxSize; i = i + batchSize) {
            buffers.push(new _prepareStyleProperties2.default(gl, this.properties, dynamicPropertyFlags, batchSize));
          }
          return buffers;
        }, constructor.prototype._generateOneMoreBuffer = function(container) {
          var config = this.renderer.gl;
          var batchSize = container._batchSize;
          var dynamicPropertyFlags = container._properties;
          return new _prepareStyleProperties2.default(config, this.properties, dynamicPropertyFlags, batchSize);
        }, constructor.prototype.uploadVertices = function(children, startIndex, amount, array, stride, offset) {
          var w0 = 0;
          var w1 = 0;
          var h0 = 0;
          var h1 = 0;
          var i = 0;
          for (; i < amount; ++i) {
            var sprite = children[startIndex + i];
            var texture = sprite._texture;
            var sx = sprite.scale.x;
            var sy = sprite.scale.y;
            var trim = texture.trim;
            var orig = texture.orig;
            if (trim) {
              w1 = trim.x - sprite.anchor.x * orig.width;
              w0 = w1 + trim.width;
              h1 = trim.y - sprite.anchor.y * orig.height;
              h0 = h1 + trim.height;
            } else {
              w0 = orig.width * (1 - sprite.anchor.x);
              w1 = orig.width * -sprite.anchor.x;
              h0 = orig.height * (1 - sprite.anchor.y);
              h1 = orig.height * -sprite.anchor.y;
            }
            array[offset] = w1 * sx;
            array[offset + 1] = h1 * sy;
            array[offset + stride] = w0 * sx;
            array[offset + stride + 1] = h1 * sy;
            array[offset + 2 * stride] = w0 * sx;
            array[offset + 2 * stride + 1] = h0 * sy;
            array[offset + 3 * stride] = w1 * sx;
            array[offset + 3 * stride + 1] = h0 * sy;
            offset = offset + 4 * stride;
          }
        }, constructor.prototype.uploadPosition = function(children, startIndex, amount, array, stride, offset) {
          var i = 0;
          for (; i < amount; i++) {
            var spritePosition = children[startIndex + i].position;
            array[offset] = spritePosition.x;
            array[offset + 1] = spritePosition.y;
            array[offset + stride] = spritePosition.x;
            array[offset + stride + 1] = spritePosition.y;
            array[offset + 2 * stride] = spritePosition.x;
            array[offset + 2 * stride + 1] = spritePosition.y;
            array[offset + 3 * stride] = spritePosition.x;
            array[offset + 3 * stride + 1] = spritePosition.y;
            offset = offset + 4 * stride;
          }
        }, constructor.prototype.uploadRotation = function(children, startIndex, amount, array, stride, offset) {
          var i = 0;
          for (; i < amount; i++) {
            var spriteRotation = children[startIndex + i].rotation;
            array[offset] = spriteRotation;
            array[offset + stride] = spriteRotation;
            array[offset + 2 * stride] = spriteRotation;
            array[offset + 3 * stride] = spriteRotation;
            offset = offset + 4 * stride;
          }
        }, constructor.prototype.uploadUvs = function(children, startIndex, amount, array, stride, offset) {
          var i = 0;
          for (; i < amount; ++i) {
            var textureUvs = children[startIndex + i]._texture._uvs;
            if (textureUvs) {
              array[offset] = textureUvs.x0;
              array[offset + 1] = textureUvs.y0;
              array[offset + stride] = textureUvs.x1;
              array[offset + stride + 1] = textureUvs.y1;
              array[offset + 2 * stride] = textureUvs.x2;
              array[offset + 2 * stride + 1] = textureUvs.y2;
              array[offset + 3 * stride] = textureUvs.x3;
              array[offset + 3 * stride + 1] = textureUvs.y3;
              offset = offset + 4 * stride;
            } else {
              array[offset] = 0;
              array[offset + 1] = 0;
              array[offset + stride] = 0;
              array[offset + stride + 1] = 0;
              array[offset + 2 * stride] = 0;
              array[offset + 2 * stride + 1] = 0;
              array[offset + 3 * stride] = 0;
              array[offset + 3 * stride + 1] = 0;
              offset = offset + 4 * stride;
            }
          }
        }, constructor.prototype.uploadTint = function(data, index, angle, result, j, i) {
          var following = 0;
          for (; following < angle; ++following) {
            var sprite = data[index + following];
            var filterFunc = sprite._texture.baseTexture.premultipliedAlpha;
            var type = sprite.alpha;
            var tmp_result = type < 1 && filterFunc ? (0, _classlist.premultiplyTint)(sprite._tintRGB, type) : sprite._tintRGB + (255 * type << 24);
            result[i] = tmp_result;
            result[i + j] = tmp_result;
            result[i + 2 * j] = tmp_result;
            result[i + 3 * j] = tmp_result;
            i = i + 4 * j;
          }
        }, constructor.prototype.destroy = function() {
          if (this.renderer.gl) {
            this.renderer.gl.deleteBuffer(this.indexBuffer);
          }
          t.prototype.destroy.call(this);
          this.shader.destroy();
          this.indices = null;
          this.tempMatrix = null;
        }, constructor;
      }(core.ObjectRenderer);
      exports.default = StarRatingComponent;
      core.WebGLRenderer.registerPlugin("particle", StarRatingComponent);
    }, {
      "../../core" : 65,
      "../../core/utils" : 125,
      "./ParticleBuffer" : 175,
      "./ParticleShader" : 177
    }],
    177 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function filter(that, size) {
        if (!(that instanceof size)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function i(type, a) {
        if (!type) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? type : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      exports.__esModule = true;
      var _deepAssign = __webpack_require__("../../core/Shader");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SuggestList = function(_Namespace) {
        function r(h) {
          return filter(this, r), i(this, _Namespace.call(this, h, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "attribute vec2 aPositionCoord;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "uniform vec4 uColor;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", 
          "   vec2 v = vec2(x, y);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor * uColor;", "}"].join("\n"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;", "  gl_FragColor = color;", "}"].join("\n")));
        }
        return _inherits(r, _Namespace), r;
      }(_deepAssign2.default);
      exports.default = SuggestList;
    }, {
      "../../core/Shader" : 44
    }],
    178 : [function(canCreateDiscussions, isSlidingUp, dontForceConstraints) {
      if (!Math.sign) {
        Math.sign = function(value) {
          return value = Number(value), 0 === value || isNaN(value) ? value : value > 0 ? 1 : -1;
        };
      }
    }, {}],
    179 : [function(canCreateDiscussions, isSlidingUp, dontForceConstraints) {
      if (!Number.isInteger) {
        Number.isInteger = function(value) {
          return "number" == typeof value && isFinite(value) && Math.floor(value) === value;
        };
      }
    }, {}],
    180 : [function(require, canCreateDiscussions, isSlidingUp) {
      var _objectAssign = require("object-assign");
      var _objectAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_objectAssign);
      if (!Object.assign) {
        Object.assign = _objectAssign2.default;
      }
    }, {
      "object-assign" : 6
    }],
    181 : [function(saveNotifs, canCreateDiscussions, isSlidingUp) {
      saveNotifs("./Object.assign");
      saveNotifs("./requestAnimationFrame");
      saveNotifs("./Math.sign");
      saveNotifs("./Number.isInteger");
      if (!window.ArrayBuffer) {
        window.ArrayBuffer = Array;
      }
      if (!window.Float32Array) {
        window.Float32Array = Array;
      }
      if (!window.Uint32Array) {
        window.Uint32Array = Array;
      }
      if (!window.Uint16Array) {
        window.Uint16Array = Array;
      }
    }, {
      "./Math.sign" : 178,
      "./Number.isInteger" : 179,
      "./Object.assign" : 180,
      "./requestAnimationFrame" : 182
    }],
    182 : [function(canCreateDiscussions, isSlidingUp, dontForceConstraints) {
      (function(window) {
        if (Date.now && Date.prototype.getTime || (Date.now = function() {
          return (new Date).getTime();
        }), !window.performance || !window.performance.now) {
          var e = Date.now();
          if (!window.performance) {
            window.performance = {};
          }
          window.performance.now = function() {
            return Date.now() - e;
          };
        }
        var toSign = Date.now();
        var vendors = ["ms", "moz", "webkit", "o"];
        var i = 0;
        for (; i < vendors.length && !window.requestAnimationFrame; ++i) {
          var vp = vendors[i];
          window.requestAnimationFrame = window[vp + "RequestAnimationFrame"];
          window.cancelAnimationFrame = window[vp + "CancelAnimationFrame"] || window[vp + "CancelRequestAnimationFrame"];
        }
        if (!window.requestAnimationFrame) {
          window.requestAnimationFrame = function(callback) {
            if ("function" != typeof callback) {
              throw new TypeError(callback + "is not a function");
            }
            var pad = Date.now();
            var i = 16 + toSign - pad;
            return i < 0 && (i = 0), toSign = pad, setTimeout(function() {
              toSign = Date.now();
              callback(performance.now());
            }, i);
          };
        }
        if (!window.cancelAnimationFrame) {
          window.cancelAnimationFrame = function(timeoutID) {
            return clearTimeout(timeoutID);
          };
        }
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {}],
    183 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function add(context, dst) {
        if (!(context instanceof dst)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function findMultipleBaseTextures(item, queue) {
        var result = false;
        if (item && item._textures && item._textures.length) {
          var i = 0;
          for (; i < item._textures.length; i++) {
            if (item._textures[i] instanceof core.Texture) {
              var texture = item._textures[i].baseTexture;
              if (-1 === queue.indexOf(texture)) {
                queue.push(texture);
                result = true;
              }
            }
          }
        }
        return result;
      }
      function findBaseTexture(item, queue) {
        return item instanceof core.BaseTexture && (-1 === queue.indexOf(item) && queue.push(item), true);
      }
      function findTexture(item, queue) {
        if (item._texture && item._texture instanceof core.Texture) {
          var texture = item._texture.baseTexture;
          return -1 === queue.indexOf(texture) && queue.push(texture), true;
        }
        return false;
      }
      function drawText(index, item) {
        return item instanceof core.Text && (item.updateText(true), true);
      }
      function calculateTextStyle(helper, item) {
        if (item instanceof core.TextStyle) {
          var font = item.toFontString();
          return core.TextMetrics.measureFont(font), true;
        }
        return false;
      }
      function findText(item, queue) {
        if (item instanceof core.Text) {
          if (-1 === queue.indexOf(item.style)) {
            queue.push(item.style);
          }
          if (-1 === queue.indexOf(item)) {
            queue.push(item);
          }
          var texture = item._texture.baseTexture;
          return -1 === queue.indexOf(texture) && queue.push(texture), true;
        }
        return false;
      }
      function findTextStyle(item, queue) {
        return item instanceof core.TextStyle && (-1 === queue.indexOf(item) && queue.push(item), true);
      }
      exports.__esModule = true;
      var window = __webpack_require__("../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _deepAssign = __webpack_require__("./limiters/CountLimiter");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var SharedTicker = core.ticker.shared;
      core.settings.UPLOADS_PER_FRAME = 4;
      var SuggestList = function() {
        function init(renderer) {
          var prep = this;
          add(this, init);
          this.limiter = new _deepAssign2.default(core.settings.UPLOADS_PER_FRAME);
          this.renderer = renderer;
          this.uploadHookHelper = null;
          this.queue = [];
          this.addHooks = [];
          this.uploadHooks = [];
          this.completes = [];
          this.ticking = false;
          this.delayedTick = function() {
            if (prep.queue) {
              prep.prepareItems();
            }
          };
          this.registerFindHook(findText);
          this.registerFindHook(findTextStyle);
          this.registerFindHook(findMultipleBaseTextures);
          this.registerFindHook(findBaseTexture);
          this.registerFindHook(findTexture);
          this.registerUploadHook(drawText);
          this.registerUploadHook(calculateTextStyle);
        }
        return init.prototype.upload = function(url, done) {
          if ("function" == typeof url) {
            done = url;
            url = null;
          }
          if (url) {
            this.add(url);
          }
          if (this.queue.length) {
            if (done) {
              this.completes.push(done);
            }
            if (!this.ticking) {
              this.ticking = true;
              SharedTicker.addOnce(this.tick, this, core.UPDATE_PRIORITY.UTILITY);
            }
          } else {
            if (done) {
              done();
            }
          }
        }, init.prototype.tick = function() {
          setTimeout(this.delayedTick, 0);
        }, init.prototype.prepareItems = function() {
          this.limiter.beginFrame();
          for (; this.queue.length && this.limiter.allowedToUpload();) {
            var item = this.queue[0];
            var e = false;
            if (item && !item._destroyed) {
              var i = 0;
              var patchLen = this.uploadHooks.length;
              for (; i < patchLen; i++) {
                if (this.uploadHooks[i](this.uploadHookHelper, item)) {
                  this.queue.shift();
                  e = true;
                  break;
                }
              }
            }
            if (!e) {
              this.queue.shift();
            }
          }
          if (this.queue.length) {
            SharedTicker.addOnce(this.tick, this, core.UPDATE_PRIORITY.UTILITY);
          } else {
            this.ticking = false;
            var rules = this.completes.slice(0);
            this.completes.length = 0;
            var rulei = 0;
            var rulelength = rules.length;
            for (; rulei < rulelength; rulei++) {
              rules[rulei]();
            }
          }
        }, init.prototype.registerFindHook = function(key) {
          return key && this.addHooks.push(key), this;
        }, init.prototype.registerUploadHook = function(uploadHook) {
          return uploadHook && this.uploadHooks.push(uploadHook), this;
        }, init.prototype.add = function(type) {
          var i = 0;
          var patchLen = this.addHooks.length;
          for (; i < patchLen && !this.addHooks[i](type, this.queue); i++) {
          }
          if (type instanceof core.Container) {
            var i = type.children.length - 1;
            for (; i >= 0; i--) {
              this.add(type.children[i]);
            }
          }
          return this;
        }, init.prototype.destroy = function() {
          if (this.ticking) {
            SharedTicker.remove(this.tick, this);
          }
          this.ticking = false;
          this.addHooks = null;
          this.uploadHooks = null;
          this.renderer = null;
          this.completes = null;
          this.queue = null;
          this.limiter = null;
          this.uploadHookHelper = null;
        }, init;
      }();
      exports.default = SuggestList;
    }, {
      "../core" : 65,
      "./limiters/CountLimiter" : 186
    }],
    184 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function allocUnsafe(that, size) {
        if (!(that instanceof size)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function i(type, a) {
        if (!type) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? type : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      function uploadBaseTextures(prepare, item) {
        if (item instanceof core.BaseTexture) {
          var source = item.source;
          var draw_width = 0 === source.width ? prepare.canvas.width : Math.min(prepare.canvas.width, source.width);
          var draw_height = 0 === source.height ? prepare.canvas.height : Math.min(prepare.canvas.height, source.height);
          return prepare.ctx.drawImage(source, 0, 0, draw_width, draw_height, 0, 0, prepare.canvas.width, prepare.canvas.height), true;
        }
        return false;
      }
      exports.__esModule = true;
      var window = __webpack_require__("../../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _deepAssign = __webpack_require__("../BasePrepare");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var text_canvas_dimensions = 16;
      var StarRatingComponent = function(t) {
        function callback(h) {
          allocUnsafe(this, callback);
          var x = i(this, t.call(this, h));
          return x.uploadHookHelper = x, x.canvas = document.createElement("canvas"), x.canvas.width = text_canvas_dimensions, x.canvas.height = text_canvas_dimensions, x.ctx = x.canvas.getContext("2d"), x.registerUploadHook(uploadBaseTextures), x;
        }
        return _inherits(callback, t), callback.prototype.destroy = function() {
          t.prototype.destroy.call(this);
          this.ctx = null;
          this.canvas = null;
        }, callback;
      }(_deepAssign2.default);
      exports.default = StarRatingComponent;
      core.CanvasRenderer.registerPlugin("prepare", StarRatingComponent);
    }, {
      "../../core" : 65,
      "../BasePrepare" : 183
    }],
    185 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }
      exports.__esModule = true;
      var _AuthenticationDetails = __webpack_require__("./webgl/WebGLPrepare");
      Object.defineProperty(exports, "webgl", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_AuthenticationDetails).default;
        }
      });
      var _CognitoUserPool = __webpack_require__("./canvas/CanvasPrepare");
      Object.defineProperty(exports, "canvas", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_CognitoUserPool).default;
        }
      });
      var _Calendar = __webpack_require__("./BasePrepare");
      Object.defineProperty(exports, "BasePrepare", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Calendar).default;
        }
      });
      var _Ticker = __webpack_require__("./limiters/CountLimiter");
      Object.defineProperty(exports, "CountLimiter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Ticker).default;
        }
      });
      var _Mapper = __webpack_require__("./limiters/TimeLimiter");
      Object.defineProperty(exports, "TimeLimiter", {
        enumerable : true,
        get : function() {
          return _interopRequireDefault(_Mapper).default;
        }
      });
    }, {
      "./BasePrepare" : 183,
      "./canvas/CanvasPrepare" : 184,
      "./limiters/CountLimiter" : 186,
      "./limiters/TimeLimiter" : 187,
      "./webgl/WebGLPrepare" : 188
    }],
    186 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function constructor(maxItemsPerFrame) {
          _get(this, constructor);
          this.maxItemsPerFrame = maxItemsPerFrame;
          this.itemsLeft = 0;
        }
        return constructor.prototype.beginFrame = function() {
          this.itemsLeft = this.maxItemsPerFrame;
        }, constructor.prototype.allowedToUpload = function() {
          return this.itemsLeft-- > 0;
        }, constructor;
      }();
      exports.default = SuggestList;
    }, {}],
    187 : [function(canCreateDiscussions, isSlidingUp, exports) {
      function _get(value, type) {
        if (!(value instanceof type)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      exports.__esModule = true;
      var SuggestList = function() {
        function constructor(maxMilliseconds) {
          _get(this, constructor);
          this.maxMilliseconds = maxMilliseconds;
          this.frameStart = 0;
        }
        return constructor.prototype.beginFrame = function() {
          this.frameStart = Date.now();
        }, constructor.prototype.allowedToUpload = function() {
          return Date.now() - this.frameStart < this.maxMilliseconds;
        }, constructor;
      }();
      exports.default = SuggestList;
    }, {}],
    188 : [function(__webpack_require__, canCreateDiscussions, exports) {
      function allocUnsafe(that, size) {
        if (!(that instanceof size)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function encode(ch, a) {
        if (!ch) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return !a || "object" != typeof a && "function" != typeof a ? ch : a;
      }
      function _inherits(subClass, superClass) {
        if ("function" != typeof superClass && null !== superClass) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor : {
            value : subClass,
            enumerable : false,
            writable : true,
            configurable : true
          }
        });
        if (superClass) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(subClass, superClass);
          } else {
            subClass.__proto__ = superClass;
          }
        }
      }
      function uploadBaseTextures(renderer, item) {
        return item instanceof core.BaseTexture && (item._glTextures[renderer.CONTEXT_UID] || renderer.textureManager.updateTexture(item), true);
      }
      function uploadGraphics(renderer, item) {
        return item instanceof core.Graphics && ((item.dirty || item.clearDirty || !item._webGL[renderer.plugins.graphics.CONTEXT_UID]) && renderer.plugins.graphics.updateGraphics(item), true);
      }
      function addHook(target, fn) {
        return target instanceof core.Graphics && (fn.push(target), true);
      }
      exports.__esModule = true;
      var window = __webpack_require__("../../core");
      var core = function(e) {
        if (e && e.__esModule) {
          return e;
        }
        var t = {};
        if (null != e) {
          var k;
          for (k in e) {
            if (Object.prototype.hasOwnProperty.call(e, k)) {
              t[k] = e[k];
            }
          }
        }
        return t.default = e, t;
      }(window);
      var _deepAssign = __webpack_require__("../BasePrepare");
      var _deepAssign2 = function(obj) {
        return obj && obj.__esModule ? obj : {
          default : obj
        };
      }(_deepAssign);
      var StarRatingComponent = function(_Namespace) {
        function t(opts) {
          allocUnsafe(this, t);
          var prep = encode(this, _Namespace.call(this, opts));
          return prep.uploadHookHelper = prep.renderer, prep.registerFindHook(addHook), prep.registerUploadHook(uploadBaseTextures), prep.registerUploadHook(uploadGraphics), prep;
        }
        return _inherits(t, _Namespace), t;
      }(_deepAssign2.default);
      exports.default = StarRatingComponent;
      core.WebGLRenderer.registerPlugin("prepare", StarRatingComponent);
    }, {
      "../../core" : 65,
      "../BasePrepare" : 183
    }],
    189 : [function(require, canCreateDiscussions, self) {
      (function(w) {
        function _interopRequireWildcard(obj) {
          if (obj && obj.__esModule) {
            return obj;
          }
          var newObj = {};
          if (null != obj) {
            var key;
            for (key in obj) {
              if (Object.prototype.hasOwnProperty.call(obj, key)) {
                newObj[key] = obj[key];
              }
            }
          }
          return newObj.default = obj, newObj;
        }
        self.__esModule = true;
        self.loader = self.prepare = self.particles = self.mesh = self.loaders = self.interaction = self.filters = self.extras = self.extract = self.accessibility = void 0;
        var i = require("./polyfill");
        Object.keys(i).forEach(function(k) {
          if ("default" !== k && "__esModule" !== k) {
            Object.defineProperty(self, k, {
              enumerable : true,
              get : function() {
                return i[k];
              }
            });
          }
        });
        var api = require("./core");
        Object.keys(api).forEach(function(method) {
          if ("default" !== method && "__esModule" !== method) {
            Object.defineProperty(self, method, {
              enumerable : true,
              get : function() {
                return api[method];
              }
            });
          }
        });
        var s = require("./deprecation");
        var a = function(obj) {
          return obj && obj.__esModule ? obj : {
            default : obj
          };
        }(s);
        var _domHtml = require("./accessibility");
        var html = _interopRequireWildcard(_domHtml);
        var _selectorExtra = require("./extract");
        var selector_extra = _interopRequireWildcard(_selectorExtra);
        var _eventReady = require("./extras");
        var ready = _interopRequireWildcard(_eventReady);
        var _domData = require("./filters");
        var data = _interopRequireWildcard(_domData);
        var _domExtra = require("./interaction");
        var dom_extra = _interopRequireWildcard(_domExtra);
        var _import = require("./loaders");
        var base = _interopRequireWildcard(_import);
        var _delegator = require("./mesh");
        var preact = _interopRequireWildcard(_delegator);
        var _eventIndex = require("./particles");
        var event = _interopRequireWildcard(_eventIndex);
        var _ReadStream = require("./prepare");
        var _ReadStream2 = _interopRequireWildcard(_ReadStream);
        api.utils.mixins.performMixins();
        var loader = base.shared || null;
        self.accessibility = html;
        self.extract = selector_extra;
        self.extras = ready;
        self.filters = data;
        self.interaction = dom_extra;
        self.loaders = base;
        self.mesh = preact;
        self.particles = event;
        self.prepare = _ReadStream2;
        self.loader = loader;
        if ("function" == typeof a.default) {
          (0, a.default)(self);
        }
        w.PIXI = self;
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {
      "./accessibility" : 42,
      "./core" : 65,
      "./deprecation" : 131,
      "./extract" : 133,
      "./extras" : 141,
      "./filters" : 153,
      "./interaction" : 159,
      "./loaders" : 162,
      "./mesh" : 171,
      "./particles" : 174,
      "./polyfill" : 181,
      "./prepare" : 185
    }]
  }, {}, [189])(189);
});
!function(f) {
  if ("object" == typeof exports && "undefined" != typeof module) {
    module.exports = f();
  } else {
    if ("function" == typeof define && define.amd) {
      define([], f);
    } else {
      var g;
      g = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this;
      g.pixiParticles = f();
    }
  }
}(function() {
  return function e(t, n, r) {
    function s(o, u) {
      if (!n[o]) {
        if (!t[o]) {
          var a = "function" == typeof require && require;
          if (!u && a) {
            return a(o, true);
          }
          if (i) {
            return i(o, true);
          }
          var f = new Error("Cannot find module '" + o + "'");
          throw f.code = "MODULE_NOT_FOUND", f;
        }
        var u = n[o] = {
          exports : {}
        };
        t[o][0].call(u.exports, function(e) {
          var n = t[o][1][e];
          return s(n ? n : e);
        }, u, u.exports, e, t, n, r);
      }
      return n[o].exports;
    }
    var i = "function" == typeof require && require;
    var o = 0;
    for (; o < r.length; o++) {
      s(r[o]);
    }
    return s;
  }({
    1 : [function(require, module, canCreateDiscussions) {
      var ParticleUtils = require("./ParticleUtils");
      var View = require("./Particle");
      var Texture = PIXI.Texture;
      var AnimatedParticle = function(name) {
        View.call(this, name);
        this.textures = null;
        this.duration = 0;
        this.framerate = 0;
        this.elapsed = 0;
        this.loop = false;
      };
      var s = View.prototype;
      var p = AnimatedParticle.prototype = Object.create(s);
      p.init = function() {
        this.Particle_init();
        this.elapsed = 0;
        if (this.framerate < 0) {
          this.duration = this.maxLife;
          this.framerate = this.textures.length / this.duration;
        }
      };
      p.applyArt = function(art) {
        this.textures = art.textures;
        this.framerate = art.framerate;
        this.duration = art.duration;
        this.loop = art.loop;
      };
      p.update = function(delta) {
        if (this.Particle_update(delta) >= 0) {
          this.elapsed += delta;
          if (this.elapsed > this.duration) {
            if (this.loop) {
              this.elapsed = this.elapsed % this.duration;
            } else {
              this.elapsed = this.duration - 1e-6;
            }
          }
          var frame = this.elapsed * this.framerate + 1e-7 | 0;
          this.texture = this.textures[frame] || ParticleUtils.EMPTY_TEXTURE;
        }
      };
      p.Particle_destroy = View.prototype.destroy;
      p.destroy = function() {
        this.Particle_destroy();
        this.textures = null;
      };
      AnimatedParticle.parseArt = function(art) {
        var i;
        var data;
        var j;
        var textures;
        var tex;
        var outTextures;
        var output = [];
        i = 0;
        for (; i < art.length; ++i) {
          data = art[i];
          art[i] = output = {};
          output.textures = outTextures = [];
          textures = data.textures;
          j = 0;
          for (; j < textures.length; ++j) {
            if (tex = textures[j], "string" == typeof tex) {
              outTextures.push(Texture.fromImage(tex));
            } else {
              if (tex instanceof Texture) {
                outTextures.push(tex);
              } else {
                var l = tex.count || 1;
                tex = "string" == typeof tex.texture ? Texture.fromImage(tex.texture) : tex.texture;
                for (; l > 0; --l) {
                  outTextures.push(tex);
                }
              }
            }
          }
          if ("matchLife" == data.framerate) {
            output.framerate = -1;
            output.duration = 0;
            output.loop = false;
          } else {
            output.loop = !!data.loop;
            output.framerate = data.framerate > 0 ? data.framerate : 60;
            output.duration = outTextures.length / output.framerate;
          }
        }
        return art;
      };
      module.exports = AnimatedParticle;
    }, {
      "./Particle" : 3,
      "./ParticleUtils" : 4
    }],
    2 : [function(require, module, canCreateDiscussions) {
      var ParticleUtils = require("./ParticleUtils");
      var Particle = require("./Particle");
      var ParticleContainer = PIXI.particles.ParticleContainer || PIXI.ParticleContainer;
      var shared = PIXI.ticker.shared;
      var Emitter = function(obj, a, c) {
        this._particleConstructor = Particle;
        this.particleImages = null;
        this.startAlpha = 1;
        this.endAlpha = 1;
        this.startSpeed = 0;
        this.endSpeed = 0;
        this.minimumSpeedMultiplier = 1;
        this.acceleration = null;
        this.maxSpeed = NaN;
        this.startScale = 1;
        this.endScale = 1;
        this.minimumScaleMultiplier = 1;
        this.startColor = null;
        this.endColor = null;
        this.minLifetime = 0;
        this.maxLifetime = 0;
        this.minStartRotation = 0;
        this.maxStartRotation = 0;
        this.noRotation = false;
        this.minRotationSpeed = 0;
        this.maxRotationSpeed = 0;
        this.particleBlendMode = 0;
        this.customEase = null;
        this.extraData = null;
        this._frequency = 1;
        this.maxParticles = 1e3;
        this.emitterLifetime = -1;
        this.spawnPos = null;
        this.spawnType = null;
        this._spawnFunc = null;
        this.spawnRect = null;
        this.spawnCircle = null;
        this.particlesPerWave = 1;
        this.particleSpacing = 0;
        this.angleStart = 0;
        this.rotation = 0;
        this.ownerPos = null;
        this._prevEmitterPos = null;
        this._prevPosIsValid = false;
        this._posChanged = false;
        this._parentIsPC = false;
        this._parent = null;
        this.addAtBack = false;
        this.particleCount = 0;
        this._emit = false;
        this._spawnTimer = 0;
        this._emitterLife = -1;
        this._activeParticlesFirst = null;
        this._activeParticlesLast = null;
        this._poolFirst = null;
        this._origConfig = null;
        this._origArt = null;
        this._autoUpdate = false;
        this._destroyWhenComplete = false;
        this._completeCallback = null;
        this.parent = obj;
        if (a && c) {
          this.init(a, c);
        }
        this.recycle = this.recycle;
        this.update = this.update;
        this.rotate = this.rotate;
        this.updateSpawnPos = this.updateSpawnPos;
        this.updateOwnerPos = this.updateOwnerPos;
      };
      var p = Emitter.prototype = {};
      var helperPoint = new PIXI.Point;
      Object.defineProperty(p, "frequency", {
        get : function() {
          return this._frequency;
        },
        set : function(value) {
          if ("number" == typeof value && value > 0) {
            this._frequency = value;
          } else {
            this._frequency = 1;
          }
        }
      });
      Object.defineProperty(p, "particleConstructor", {
        get : function() {
          return this._particleConstructor;
        },
        set : function(value) {
          if (value != this._particleConstructor) {
            this._particleConstructor = value;
            this.cleanup();
            var particle = this._poolFirst;
            for (; particle; particle = particle.next) {
              particle.destroy();
            }
            this._poolFirst = null;
            if (this._origConfig && this._origArt) {
              this.init(this._origArt, this._origConfig);
            }
          }
        }
      });
      Object.defineProperty(p, "parent", {
        get : function() {
          return this._parent;
        },
        set : function(value) {
          if (this._parentIsPC) {
            var particle = this._poolFirst;
            for (; particle; particle = particle.next) {
              if (particle.parent) {
                particle.parent.removeChild(particle);
              }
            }
          }
          this.cleanup();
          this._parent = value;
          this._parentIsPC = ParticleContainer && value && value instanceof ParticleContainer;
        }
      });
      p.init = function(art, config) {
        if (art && config) {
          this.cleanup();
          this._origConfig = config;
          this._origArt = art;
          art = Array.isArray(art) ? art.slice() : [art];
          var partClass = this._particleConstructor;
          this.particleImages = partClass.parseArt ? partClass.parseArt(art) : art;
          if (config.alpha) {
            this.startAlpha = config.alpha.start;
            this.endAlpha = config.alpha.end;
          } else {
            this.startAlpha = this.endAlpha = 1;
          }
          if (config.speed) {
            this.startSpeed = config.speed.start;
            this.endSpeed = config.speed.end;
            this.minimumSpeedMultiplier = config.speed.minimumSpeedMultiplier || 1;
          } else {
            this.minimumSpeedMultiplier = 1;
            this.startSpeed = this.endSpeed = 0;
          }
          var acceleration = config.acceleration;
          if (acceleration && (acceleration.x || acceleration.y)) {
            this.endSpeed = this.startSpeed;
            this.acceleration = new PIXI.Point(acceleration.x, acceleration.y);
            this.maxSpeed = config.maxSpeed || NaN;
          } else {
            this.acceleration = new PIXI.Point;
          }
          if (config.scale) {
            this.startScale = config.scale.start;
            this.endScale = config.scale.end;
            this.minimumScaleMultiplier = config.scale.minimumScaleMultiplier || 1;
          } else {
            this.startScale = this.endScale = this.minimumScaleMultiplier = 1;
          }
          if (config.color) {
            this.startColor = ParticleUtils.hexToRGB(config.color.start);
            if (config.color.start != config.color.end) {
              this.endColor = ParticleUtils.hexToRGB(config.color.end);
            } else {
              this.endColor = null;
            }
          }
          if (config.startRotation) {
            this.minStartRotation = config.startRotation.min;
            this.maxStartRotation = config.startRotation.max;
          } else {
            this.minStartRotation = this.maxStartRotation = 0;
          }
          if (config.noRotation && (this.minStartRotation || this.maxStartRotation)) {
            this.noRotation = !!config.noRotation;
          } else {
            this.noRotation = false;
          }
          if (config.rotationSpeed) {
            this.minRotationSpeed = config.rotationSpeed.min;
            this.maxRotationSpeed = config.rotationSpeed.max;
          } else {
            this.minRotationSpeed = this.maxRotationSpeed = 0;
          }
          this.minLifetime = config.lifetime.min;
          this.maxLifetime = config.lifetime.max;
          this.particleBlendMode = ParticleUtils.getBlendMode(config.blendMode);
          if (config.ease) {
            this.customEase = "function" == typeof config.ease ? config.ease : ParticleUtils.generateEase(config.ease);
          } else {
            this.customEase = null;
          }
          if (partClass.parseData) {
            this.extraData = partClass.parseData(config.extraData);
          } else {
            this.extraData = config.extraData || null;
          }
          this.spawnRect = this.spawnCircle = null;
          this.particlesPerWave = 1;
          this.particleSpacing = 0;
          this.angleStart = 0;
          var spawnCircle;
          switch(config.spawnType) {
            case "rect":
              this.spawnType = "rect";
              this._spawnFunc = this._spawnRect;
              var spawnRect = config.spawnRect;
              this.spawnRect = new PIXI.Rectangle(spawnRect.x, spawnRect.y, spawnRect.w, spawnRect.h);
              break;
            case "circle":
              this.spawnType = "circle";
              this._spawnFunc = this._spawnCircle;
              spawnCircle = config.spawnCircle;
              this.spawnCircle = new PIXI.Circle(spawnCircle.x, spawnCircle.y, spawnCircle.r);
              break;
            case "ring":
              this.spawnType = "ring";
              this._spawnFunc = this._spawnRing;
              spawnCircle = config.spawnCircle;
              this.spawnCircle = new PIXI.Circle(spawnCircle.x, spawnCircle.y, spawnCircle.r);
              this.spawnCircle.minRadius = spawnCircle.minR;
              break;
            case "burst":
              this.spawnType = "burst";
              this._spawnFunc = this._spawnBurst;
              this.particlesPerWave = config.particlesPerWave;
              this.particleSpacing = config.particleSpacing;
              this.angleStart = config.angleStart ? config.angleStart : 0;
              break;
            case "point":
              this.spawnType = "point";
              this._spawnFunc = this._spawnPoint;
              break;
            default:
              this.spawnType = "point";
              this._spawnFunc = this._spawnPoint;
          }
          this.frequency = config.frequency;
          this.emitterLifetime = config.emitterLifetime || -1;
          this.maxParticles = config.maxParticles > 0 ? config.maxParticles : 1E3;
          this.addAtBack = !!config.addAtBack;
          this.rotation = 0;
          this.ownerPos = new PIXI.Point;
          this.spawnPos = new PIXI.Point(config.pos.x, config.pos.y);
          this._prevEmitterPos = this.spawnPos.clone();
          this._prevPosIsValid = false;
          this._spawnTimer = 0;
          this.emit = void 0 === config.emit || !!config.emit;
          this.autoUpdate = void 0 !== config.autoUpdate && !!config.autoUpdate;
        }
      };
      p.recycle = function(particle) {
        if (particle.next) {
          particle.next.prev = particle.prev;
        }
        if (particle.prev) {
          particle.prev.next = particle.next;
        }
        if (particle == this._activeParticlesLast) {
          this._activeParticlesLast = particle.prev;
        }
        if (particle == this._activeParticlesFirst) {
          this._activeParticlesFirst = particle.next;
        }
        particle.prev = null;
        particle.next = this._poolFirst;
        this._poolFirst = particle;
        if (this._parentIsPC) {
          particle.alpha = 0;
          particle.visible = false;
        } else {
          if (particle.parent) {
            particle.parent.removeChild(particle);
          }
        }
        --this.particleCount;
      };
      p.rotate = function(value) {
        if (this.rotation != value) {
          var diff = value - this.rotation;
          this.rotation = value;
          ParticleUtils.rotatePoint(diff, this.spawnPos);
          this._posChanged = true;
        }
      };
      p.updateSpawnPos = function(x, y) {
        this._posChanged = true;
        this.spawnPos.x = x;
        this.spawnPos.y = y;
      };
      p.updateOwnerPos = function(x, y) {
        this._posChanged = true;
        this.ownerPos.x = x;
        this.ownerPos.y = y;
      };
      p.resetPositionTracking = function() {
        this._prevPosIsValid = false;
      };
      Object.defineProperty(p, "emit", {
        get : function() {
          return this._emit;
        },
        set : function(target) {
          this._emit = !!target;
          this._emitterLife = this.emitterLifetime;
        }
      });
      Object.defineProperty(p, "autoUpdate", {
        get : function() {
          return this._autoUpdate;
        },
        set : function(value) {
          if (this._autoUpdate && !value) {
            shared.remove(this.update, this);
          } else {
            if (!this._autoUpdate && value) {
              shared.add(this.update, this);
            }
          }
          this._autoUpdate = !!value;
        }
      });
      p.playOnceAndDestroy = function(callback) {
        this.autoUpdate = true;
        this.emit = true;
        this._destroyWhenComplete = true;
        this._completeCallback = callback;
      };
      p.playOnce = function(callback) {
        this.autoUpdate = true;
        this.emit = true;
        this._completeCallback = callback;
      };
      p.update = function(delta) {
        if (this._autoUpdate && (delta = delta / PIXI.settings.TARGET_FPMS / 1E3), this._parent) {
          var i;
          var particle;
          var next;
          particle = this._activeParticlesFirst;
          for (; particle; particle = next) {
            next = particle.next;
            particle.update(delta);
          }
          var prevX;
          var prevY;
          if (this._prevPosIsValid) {
            prevX = this._prevEmitterPos.x;
            prevY = this._prevEmitterPos.y;
          }
          var curX = this.ownerPos.x + this.spawnPos.x;
          var curY = this.ownerPos.y + this.spawnPos.y;
          if (this._emit) {
            this._spawnTimer -= delta;
            for (; this._spawnTimer <= 0;) {
              if (this._emitterLife > 0 && (this._emitterLife -= this._frequency, this._emitterLife <= 0)) {
                this._spawnTimer = 0;
                this._emitterLife = 0;
                this.emit = false;
                break;
              }
              if (this.particleCount >= this.maxParticles) {
                this._spawnTimer += this._frequency;
              } else {
                var lifetime;
                if (lifetime = this.minLifetime == this.maxLifetime ? this.minLifetime : Math.random() * (this.maxLifetime - this.minLifetime) + this.minLifetime, -this._spawnTimer < lifetime) {
                  var emitPosX;
                  var emitPosY;
                  if (this._prevPosIsValid && this._posChanged) {
                    var lerp = 1 + this._spawnTimer / delta;
                    emitPosX = (curX - prevX) * lerp + prevX;
                    emitPosY = (curY - prevY) * lerp + prevY;
                  } else {
                    emitPosX = curX;
                    emitPosY = curY;
                  }
                  i = 0;
                  var len = Math.min(this.particlesPerWave, this.maxParticles - this.particleCount);
                  for (; i < len; ++i) {
                    var p;
                    var rand;
                    if (this._poolFirst ? (p = this._poolFirst, this._poolFirst = this._poolFirst.next, p.next = null) : p = new this.particleConstructor(this), this.particleImages.length > 1 ? p.applyArt(this.particleImages[Math.floor(Math.random() * this.particleImages.length)]) : p.applyArt(this.particleImages[0]), p.startAlpha = this.startAlpha, p.endAlpha = this.endAlpha, 1 != this.minimumSpeedMultiplier ? (rand = Math.random() * (1 - this.minimumSpeedMultiplier) + this.minimumSpeedMultiplier, 
                    p.startSpeed = this.startSpeed * rand, p.endSpeed = this.endSpeed * rand) : (p.startSpeed = this.startSpeed, p.endSpeed = this.endSpeed), p.acceleration.x = this.acceleration.x, p.acceleration.y = this.acceleration.y, p.maxSpeed = this.maxSpeed, 1 != this.minimumScaleMultiplier ? (rand = Math.random() * (1 - this.minimumScaleMultiplier) + this.minimumScaleMultiplier, p.startScale = this.startScale * rand, p.endScale = this.endScale * rand) : (p.startScale = this.startScale, p.endScale = 
                    this.endScale), p.startColor = this.startColor, p.endColor = this.endColor, this.minRotationSpeed == this.maxRotationSpeed ? p.rotationSpeed = this.minRotationSpeed : p.rotationSpeed = Math.random() * (this.maxRotationSpeed - this.minRotationSpeed) + this.minRotationSpeed, p.noRotation = this.noRotation, p.maxLife = lifetime, p.blendMode = this.particleBlendMode, p.ease = this.customEase, p.extraData = this.extraData, this._spawnFunc(p, emitPosX, emitPosY, i), p.init(), p.update(-this._spawnTimer), 
                    this._parentIsPC && p.parent) {
                      var children = this._parent.children;
                      if (children[0] == p) {
                        children.shift();
                      } else {
                        if (children[children.length - 1] == p) {
                          children.pop();
                        } else {
                          var reflexIndex = children.indexOf(p);
                          children.splice(reflexIndex, 1);
                        }
                      }
                      if (this.addAtBack) {
                        children.unshift(p);
                      } else {
                        children.push(p);
                      }
                    } else {
                      if (this.addAtBack) {
                        this._parent.addChildAt(p, 0);
                      } else {
                        this._parent.addChild(p);
                      }
                    }
                    if (this._activeParticlesLast) {
                      this._activeParticlesLast.next = p;
                      p.prev = this._activeParticlesLast;
                      this._activeParticlesLast = p;
                    } else {
                      this._activeParticlesLast = this._activeParticlesFirst = p;
                    }
                    ++this.particleCount;
                  }
                }
                this._spawnTimer += this._frequency;
              }
            }
          }
          if (this._posChanged) {
            this._prevEmitterPos.x = curX;
            this._prevEmitterPos.y = curY;
            this._prevPosIsValid = true;
            this._posChanged = false;
          }
          if (!(this._emit || this._activeParticlesFirst)) {
            if (this._completeCallback) {
              this._completeCallback();
            }
            if (this._destroyWhenComplete) {
              this.destroy();
            }
          }
        }
      };
      p._spawnPoint = function(p, emitPosX, emitPosY) {
        if (this.minStartRotation == this.maxStartRotation) {
          p.rotation = this.minStartRotation + this.rotation;
        } else {
          p.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation;
        }
        p.position.x = emitPosX;
        p.position.y = emitPosY;
      };
      p._spawnRect = function(p, emitPosX, emitPosY) {
        if (this.minStartRotation == this.maxStartRotation) {
          p.rotation = this.minStartRotation + this.rotation;
        } else {
          p.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation;
        }
        helperPoint.x = Math.random() * this.spawnRect.width + this.spawnRect.x;
        helperPoint.y = Math.random() * this.spawnRect.height + this.spawnRect.y;
        if (0 !== this.rotation) {
          ParticleUtils.rotatePoint(this.rotation, helperPoint);
        }
        p.position.x = emitPosX + helperPoint.x;
        p.position.y = emitPosY + helperPoint.y;
      };
      p._spawnCircle = function(p, emitPosX, emitPosY) {
        if (this.minStartRotation == this.maxStartRotation) {
          p.rotation = this.minStartRotation + this.rotation;
        } else {
          p.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation;
        }
        helperPoint.x = Math.random() * this.spawnCircle.radius;
        helperPoint.y = 0;
        ParticleUtils.rotatePoint(360 * Math.random(), helperPoint);
        helperPoint.x += this.spawnCircle.x;
        helperPoint.y += this.spawnCircle.y;
        if (0 !== this.rotation) {
          ParticleUtils.rotatePoint(this.rotation, helperPoint);
        }
        p.position.x = emitPosX + helperPoint.x;
        p.position.y = emitPosY + helperPoint.y;
      };
      p._spawnRing = function(p, emitPosX, emitPosY) {
        var spawnCircle = this.spawnCircle;
        if (this.minStartRotation == this.maxStartRotation) {
          p.rotation = this.minStartRotation + this.rotation;
        } else {
          p.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation;
        }
        if (spawnCircle.minRadius == spawnCircle.radius) {
          helperPoint.x = Math.random() * (spawnCircle.radius - spawnCircle.minRadius) + spawnCircle.minRadius;
        } else {
          helperPoint.x = spawnCircle.radius;
        }
        helperPoint.y = 0;
        var angle = 360 * Math.random();
        p.rotation += angle;
        ParticleUtils.rotatePoint(angle, helperPoint);
        helperPoint.x += this.spawnCircle.x;
        helperPoint.y += this.spawnCircle.y;
        if (0 !== this.rotation) {
          ParticleUtils.rotatePoint(this.rotation, helperPoint);
        }
        p.position.x = emitPosX + helperPoint.x;
        p.position.y = emitPosY + helperPoint.y;
      };
      p._spawnBurst = function(p, emitPosX, emitPosY, i) {
        if (0 === this.particleSpacing) {
          p.rotation = 360 * Math.random();
        } else {
          p.rotation = this.angleStart + this.particleSpacing * i + this.rotation;
        }
        p.position.x = emitPosX;
        p.position.y = emitPosY;
      };
      p.cleanup = function() {
        var particle;
        var next;
        particle = this._activeParticlesFirst;
        for (; particle; particle = next) {
          next = particle.next;
          this.recycle(particle);
          if (particle.parent) {
            particle.parent.removeChild(particle);
          }
        }
        this._activeParticlesFirst = this._activeParticlesLast = null;
        this.particleCount = 0;
      };
      p.destroy = function() {
        this.autoUpdate = false;
        this.cleanup();
        var next;
        var particle = this._poolFirst;
        for (; particle; particle = next) {
          next = particle.next;
          particle.destroy();
        }
        this._poolFirst = this._parent = this.particleImages = this.spawnPos = this.ownerPos = this.startColor = this.endColor = this.customEase = this._completeCallback = null;
      };
      module.exports = Emitter;
    }, {
      "./Particle" : 3,
      "./ParticleUtils" : 4
    }],
    3 : [function(require, module, canCreateDiscussions) {
      var ParticleUtils = require("./ParticleUtils");
      var Sprite = PIXI.Sprite;
      var Particle = function(type) {
        Sprite.call(this);
        this.emitter = type;
        this.anchor.x = this.anchor.y = .5;
        this.velocity = new PIXI.Point;
        this.maxLife = 0;
        this.age = 0;
        this.ease = null;
        this.extraData = null;
        this.startAlpha = 0;
        this.endAlpha = 0;
        this.startSpeed = 0;
        this.endSpeed = 0;
        this.acceleration = new PIXI.Point;
        this.maxSpeed = NaN;
        this.startScale = 0;
        this.endScale = 0;
        this.startColor = null;
        this._sR = 0;
        this._sG = 0;
        this._sB = 0;
        this.endColor = null;
        this._eR = 0;
        this._eG = 0;
        this._eB = 0;
        this._doAlpha = false;
        this._doScale = false;
        this._doSpeed = false;
        this._doAcceleration = false;
        this._doColor = false;
        this._doNormalMovement = false;
        this._oneOverLife = 0;
        this.next = null;
        this.prev = null;
        this.init = this.init;
        this.Particle_init = this.Particle_init;
        this.update = this.update;
        this.Particle_update = this.Particle_update;
        this.applyArt = this.applyArt;
        this.kill = this.kill;
      };
      var p = Particle.prototype = Object.create(Sprite.prototype);
      p.init = p.Particle_init = function() {
        this.age = 0;
        this.velocity.x = this.startSpeed;
        this.velocity.y = 0;
        ParticleUtils.rotatePoint(this.rotation, this.velocity);
        if (this.noRotation) {
          this.rotation = 0;
        } else {
          this.rotation *= ParticleUtils.DEG_TO_RADS;
        }
        this.rotationSpeed *= ParticleUtils.DEG_TO_RADS;
        this.alpha = this.startAlpha;
        this.scale.x = this.scale.y = this.startScale;
        if (this.startColor) {
          this._sR = this.startColor[0];
          this._sG = this.startColor[1];
          this._sB = this.startColor[2];
          if (this.endColor) {
            this._eR = this.endColor[0];
            this._eG = this.endColor[1];
            this._eB = this.endColor[2];
          }
        }
        this._doAlpha = this.startAlpha != this.endAlpha;
        this._doSpeed = this.startSpeed != this.endSpeed;
        this._doScale = this.startScale != this.endScale;
        this._doColor = !!this.endColor;
        this._doAcceleration = 0 !== this.acceleration.x || 0 !== this.acceleration.y;
        this._doNormalMovement = this._doSpeed || 0 !== this.startSpeed || this._doAcceleration;
        this._oneOverLife = 1 / this.maxLife;
        this.tint = ParticleUtils.combineRGBComponents(this._sR, this._sG, this._sB);
        this.visible = true;
      };
      p.applyArt = function(art) {
        this.texture = art || ParticleUtils.EMPTY_TEXTURE;
      };
      p.update = p.Particle_update = function(delta) {
        if (this.age += delta, this.age >= this.maxLife) {
          return this.kill(), -1;
        }
        var lerp = this.age * this._oneOverLife;
        if (this.ease && (lerp = 4 == this.ease.length ? this.ease(lerp, 0, 1, 1) : this.ease(lerp)), this._doAlpha && (this.alpha = (this.endAlpha - this.startAlpha) * lerp + this.startAlpha), this._doScale) {
          var scale = (this.endScale - this.startScale) * lerp + this.startScale;
          this.scale.x = this.scale.y = scale;
        }
        if (this._doNormalMovement) {
          if (this._doSpeed) {
            var speed = (this.endSpeed - this.startSpeed) * lerp + this.startSpeed;
            ParticleUtils.normalize(this.velocity);
            ParticleUtils.scaleBy(this.velocity, speed);
          } else {
            if (this._doAcceleration && (this.velocity.x += this.acceleration.x * delta, this.velocity.y += this.acceleration.y * delta, this.maxSpeed)) {
              var currentSpeed = ParticleUtils.length(this.velocity);
              if (currentSpeed > this.maxSpeed) {
                ParticleUtils.scaleBy(this.velocity, this.maxSpeed / currentSpeed);
              }
            }
          }
          this.position.x += this.velocity.x * delta;
          this.position.y += this.velocity.y * delta;
        }
        if (this._doColor) {
          var r = (this._eR - this._sR) * lerp + this._sR;
          var g = (this._eG - this._sG) * lerp + this._sG;
          var b = (this._eB - this._sB) * lerp + this._sB;
          this.tint = ParticleUtils.combineRGBComponents(r, g, b);
        }
        return 0 !== this.rotationSpeed ? this.rotation += this.rotationSpeed * delta : this.acceleration && !this.noRotation && (this.rotation = Math.atan2(this.velocity.y, this.velocity.x)), lerp;
      };
      p.kill = function() {
        this.emitter.recycle(this);
      };
      p.Sprite_Destroy = Sprite.prototype.destroy;
      p.destroy = function() {
        if (this.parent) {
          this.parent.removeChild(this);
        }
        if (this.Sprite_Destroy) {
          this.Sprite_Destroy();
        }
        this.emitter = this.velocity = this.startColor = this.endColor = this.ease = this.next = this.prev = null;
      };
      Particle.parseArt = function(art) {
        var i;
        i = art.length;
        for (; i >= 0; --i) {
          if ("string" == typeof art[i]) {
            art[i] = PIXI.Texture.fromImage(art[i]);
          }
        }
        if (ParticleUtils.verbose) {
          i = art.length - 1;
          for (; i > 0; --i) {
            if (art[i].baseTexture != art[i - 1].baseTexture) {
              if (window.console) {
                console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");
              }
              break;
            }
          }
        }
        return art;
      };
      Particle.parseData = function(data) {
        return data;
      };
      module.exports = Particle;
    }, {
      "./ParticleUtils" : 4
    }],
    4 : [function(canCreateDiscussions, module, isSlidingUp) {
      var BLEND_MODES = PIXI.BLEND_MODES || PIXI.blendModes;
      var Texture = PIXI.Texture;
      var ParticleUtils = {};
      ParticleUtils.verbose = false;
      var toRadian = ParticleUtils.DEG_TO_RADS = Math.PI / 180;
      var o = ParticleUtils.EMPTY_TEXTURE = Texture.EMPTY;
      o.on = o.destroy = o.once = o.emit = function() {
      };
      ParticleUtils.rotatePoint = function(angle, p) {
        if (angle) {
          angle = angle * toRadian;
          var c = Math.sin(angle);
          var s = Math.cos(angle);
          var Longitude = p.x * s - p.y * c;
          var phy = p.x * c + p.y * s;
          p.x = Longitude;
          p.y = phy;
        }
      };
      ParticleUtils.combineRGBComponents = function(r, g, b) {
        return r << 16 | g << 8 | b;
      };
      ParticleUtils.normalize = function(point) {
        var factor = 1 / ParticleUtils.length(point);
        point.x *= factor;
        point.y *= factor;
      };
      ParticleUtils.scaleBy = function(point, factor) {
        point.x *= factor;
        point.y *= factor;
      };
      ParticleUtils.length = function(type) {
        return Math.sqrt(type.x * type.x + type.y * type.y);
      };
      ParticleUtils.hexToRGB = function(hex, output) {
        if (output) {
          output.length = 0;
        } else {
          output = [];
        }
        if ("#" == hex.charAt(0)) {
          hex = hex.substr(1);
        } else {
          if (0 === hex.indexOf("0x")) {
            hex = hex.substr(2);
          }
        }
        var statusCode;
        return 8 == hex.length && (statusCode = hex.substr(0, 2), hex = hex.substr(2)), output.push(parseInt(hex.substr(0, 2), 16)), output.push(parseInt(hex.substr(2, 2), 16)), output.push(parseInt(hex.substr(4, 2), 16)), statusCode && output.push(parseInt(statusCode, 16)), output;
      };
      ParticleUtils.generateEase = function(segments) {
        var length = segments.length;
        var step = 1 / length;
        var simpleEase = function(val) {
          var t;
          var s;
          var i = length * val | 0;
          return t = (val - i * step) * length, s = segments[i] || segments[length - 1], s.s + t * (2 * (1 - t) * (s.cp - s.s) + t * (s.e - s.s));
        };
        return simpleEase;
      };
      ParticleUtils.getBlendMode = function(name) {
        if (!name) {
          return BLEND_MODES.NORMAL;
        }
        name = name.toUpperCase();
        for (; name.indexOf(" ") >= 0;) {
          name = name.replace(" ", "_");
        }
        return BLEND_MODES[name] || BLEND_MODES.NORMAL;
      };
      module.exports = ParticleUtils;
    }, {}],
    5 : [function($, module, canCreateDiscussions) {
      var self = $("./ParticleUtils");
      var container = $("./Particle");
      var Particle = function(type) {
        container.call(this, type);
        this.path = null;
        this.initialRotation = 0;
        this.initialPosition = new PIXI.Point;
        this.movement = 0;
      };
      var parent = container.prototype;
      var p = Particle.prototype = Object.create(parent);
      var point = new PIXI.Point;
      p.init = function() {
        this.initialRotation = this.rotation;
        this.Particle_init();
        this.path = this.extraData.path;
        this._doNormalMovement = !this.path;
        this.movement = 0;
        this.initialPosition.x = this.position.x;
        this.initialPosition.y = this.position.y;
      };
      var ret = ["pow", "sqrt", "abs", "floor", "round", "ceil", "E", "PI", "sin", "cos", "tan", "asin", "acos", "atan", "atan2", "log"];
      var r = "[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]";
      var subModelKey = ret.length - 1;
      for (; subModelKey >= 0; --subModelKey) {
        r = r + ("|" + ret[subModelKey]);
      }
      r = new RegExp(r, "g");
      var require = function(f) {
        var images = f.match(r);
        var i = images.length - 1;
        for (; i >= 0; --i) {
          if (ret.indexOf(images[i]) >= 0) {
            images[i] = "Math." + images[i];
          }
        }
        return f = images.join(""), new Function("x", "return " + f + ";");
      };
      p.update = function(delta) {
        var lerp = this.Particle_update(delta);
        if (lerp >= 0 && this.path) {
          var speed = (this.endSpeed - this.startSpeed) * lerp + this.startSpeed;
          this.movement += speed * delta;
          point.x = this.movement;
          point.y = this.path(this.movement);
          self.rotatePoint(this.initialRotation, point);
          this.position.x = this.initialPosition.x + point.x;
          this.position.y = this.initialPosition.y + point.y;
        }
      };
      p.Particle_destroy = container.prototype.destroy;
      p.destroy = function() {
        this.Particle_destroy();
        this.path = this.initialPosition = null;
      };
      Particle.parseArt = function(art) {
        return container.parseArt(art);
      };
      Particle.parseData = function(options) {
        var result = {};
        if (options && options.path) {
          try {
            result.path = require(options.path);
          } catch (t) {
            if (self.verbose) {
              console.error("PathParticle: error in parsing path expression");
            }
            result.path = null;
          }
        } else {
          if (self.verbose) {
            console.error("PathParticle requires a path string in extraData!");
          }
          result.path = null;
        }
        return result;
      };
      module.exports = Particle;
    }, {
      "./Particle" : 3,
      "./ParticleUtils" : 4
    }],
    6 : [function(canCreateDiscussions, i, isSlidingUp) {
    }, {}],
    7 : [function(require, i, exports) {
      exports.ParticleUtils = require("./ParticleUtils.js");
      exports.Particle = require("./Particle.js");
      exports.Emitter = require("./Emitter.js");
      exports.PathParticle = require("./PathParticle.js");
      exports.AnimatedParticle = require("./AnimatedParticle.js");
      require("./deprecation.js");
    }, {
      "./AnimatedParticle.js" : 1,
      "./Emitter.js" : 2,
      "./Particle.js" : 3,
      "./ParticleUtils.js" : 4,
      "./PathParticle.js" : 5,
      "./deprecation.js" : 6
    }],
    8 : [function(require, module, canCreateDiscussions) {
      var global = "undefined" != typeof window ? window : GLOBAL;
      if (global.PIXI.particles || (global.PIXI.particles = {}), "undefined" != typeof module && module.exports) {
        if ("undefined" == typeof PIXI) {
          require("pixi.js");
        }
        module.exports = global.PIXI.particles || particles;
      } else {
        if ("undefined" == typeof PIXI) {
          throw "pixi-particles requires pixi.js to be loaded first";
        }
      }
      var particles = require("./particles");
      var i;
      for (i in particles) {
        global.PIXI.particles[i] = particles[i];
      }
    }, {
      "./particles" : 7,
      "pixi.js" : void 0
    }]
  }, {}, [8])(8);
});
!function(require) {
  if ("object" == typeof exports && "undefined" != typeof module) {
    module.exports = require();
  } else {
    if ("function" == typeof define && define.amd) {
      define([], require);
    } else {
      var exports;
      exports = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this;
      exports.PriorityQueue = require();
    }
  }
}(function() {
  return function e(t, n, r) {
    function s(o, s) {
      if (!n[o]) {
        if (!t[o]) {
          var i = "function" == typeof require && require;
          if (!s && i) {
            return i(o, true);
          }
          if (a) {
            return a(o, true);
          }
          var f = new Error("Cannot find module '" + o + "'");
          throw f.code = "MODULE_NOT_FOUND", f;
        }
        var u = n[o] = {
          exports : {}
        };
        t[o][0].call(u.exports, function(e) {
          var n = t[o][1][e];
          return s(n ? n : e);
        }, u, u.exports, e, t, n, r);
      }
      return n[o].exports;
    }
    var a = "function" == typeof require && require;
    var o = 0;
    for (; o < r.length; o++) {
      s(r[o]);
    }
    return s;
  }({
    1 : [function(require, module, i) {
      var rsa;
      var HeadlessApi;
      var DaliApi;
      var strategy;
      var self;
      var Extend = function(ChildClass, SuperClass) {
        function BaseConstructor() {
          this.constructor = ChildClass;
        }
        var key;
        for (key in SuperClass) {
          if (__hasProp.call(SuperClass, key)) {
            ChildClass[key] = SuperClass[key];
          }
        }
        return BaseConstructor.prototype = SuperClass.prototype, ChildClass.prototype = new BaseConstructor, ChildClass.__super__ = SuperClass.prototype, ChildClass;
      };
      var __hasProp = {}.hasOwnProperty;
      rsa = require("./PriorityQueue/AbstractPriorityQueue");
      HeadlessApi = require("./PriorityQueue/ArrayStrategy");
      strategy = require("./PriorityQueue/BinaryHeapStrategy");
      DaliApi = require("./PriorityQueue/BHeapStrategy");
      self = function(SelectAdapter) {
        function ArrayAdapter(options) {
          if (!options) {
            options = {};
          }
          if (!options.strategy) {
            options.strategy = strategy;
          }
          if (!options.comparator) {
            options.comparator = function(a, b) {
              return (a || 0) - (b || 0);
            };
          }
          ArrayAdapter.__super__.constructor.call(this, options);
        }
        return Extend(ArrayAdapter, SelectAdapter), ArrayAdapter;
      }(rsa);
      self.ArrayStrategy = HeadlessApi;
      self.BinaryHeapStrategy = strategy;
      self.BHeapStrategy = DaliApi;
      module.exports = self;
    }, {
      "./PriorityQueue/AbstractPriorityQueue" : 2,
      "./PriorityQueue/ArrayStrategy" : 3,
      "./PriorityQueue/BHeapStrategy" : 4,
      "./PriorityQueue/BinaryHeapStrategy" : 5
    }],
    2 : [function(canCreateDiscussions, module, i) {
      var RestfulModelCollection;
      module.exports = RestfulModelCollection = function() {
        function self(data) {
          var namesCache;
          if (null == (null != data ? data.strategy : void 0)) {
            throw "Must pass options.strategy, a strategy";
          }
          if (null == (null != data ? data.comparator : void 0)) {
            throw "Must pass options.comparator, a comparator";
          }
          this.priv = new data.strategy(data);
          this.length = (null != data && null != (namesCache = data.initialValues) ? namesCache.length : void 0) || 0;
        }
        return self.prototype.queue = function(c) {
          this.length++;
          this.priv.queue(c);
        }, self.prototype.dequeue = function(type) {
          if (!this.length) {
            throw "Empty queue";
          }
          return this.length--, this.priv.dequeue();
        }, self.prototype.peek = function(maxElems) {
          if (!this.length) {
            throw "Empty queue";
          }
          return this.priv.peek();
        }, self.prototype.clear = function() {
          return this.length = 0, this.priv.clear();
        }, self;
      }();
    }, {}],
    3 : [function(canCreateDiscussions, module, i) {
      var RestfulModelCollection;
      var find;
      find = function(array, value, compare) {
        var index;
        var from;
        var i;
        from = 0;
        index = array.length;
        for (; index > from;) {
          i = from + index >>> 1;
          if (compare(array[i], value) >= 0) {
            from = i + 1;
          } else {
            index = i;
          }
        }
        return from;
      };
      module.exports = RestfulModelCollection = function() {
        function handler(options) {
          var quickList;
          this.options = options;
          this.comparator = this.options.comparator;
          this.data = (null != (quickList = this.options.initialValues) ? quickList.slice(0) : void 0) || [];
          this.data.sort(this.comparator).reverse();
        }
        return handler.prototype.queue = function(key) {
          var ret;
          ret = find(this.data, key, this.comparator);
          this.data.splice(ret, 0, key);
        }, handler.prototype.dequeue = function() {
          return this.data.pop();
        }, handler.prototype.peek = function() {
          return this.data[this.data.length - 1];
        }, handler.prototype.clear = function() {
          this.data.length = 0;
        }, handler;
      }();
    }, {}],
    4 : [function(canCreateDiscussions, module, i) {
      var RestfulModelCollection;
      module.exports = RestfulModelCollection = function() {
        function self(opts) {
          var newNodeLists;
          var origCount;
          var j;
          var cur;
          var i;
          var ref;
          var s;
          var shift;
          var c;
          this.comparator = (null != opts ? opts.comparator : void 0) || function(c, thing) {
            return c - thing;
          };
          this.pageSize = (null != opts ? opts.pageSize : void 0) || 512;
          this.length = 0;
          shift = 0;
          for (; 1 << shift < this.pageSize;) {
            shift = shift + 1;
          }
          if (1 << shift !== this.pageSize) {
            throw "pageSize must be a power of two";
          }
          this._shift = shift;
          this._emptyMemoryPageTemplate = newNodeLists = [];
          origCount = j = 0;
          ref = this.pageSize;
          for (; ref >= 0 ? ref > j : j > ref; origCount = ref >= 0 ? ++j : --j) {
            newNodeLists.push(null);
          }
          if (this._memory = [], this._mask = this.pageSize - 1, opts.initialValues) {
            s = opts.initialValues;
            cur = 0;
            i = s.length;
            for (; i > cur; cur++) {
              c = s[cur];
              this.queue(c);
            }
          }
        }
        return self.prototype.queue = function(key) {
          this.length += 1;
          this._write(this.length, key);
          this._bubbleUp(this.length, key);
        }, self.prototype.dequeue = function() {
          var c;
          var options;
          return c = this._read(1), options = this._read(this.length), this.length -= 1, this.length > 0 && (this._write(1, options), this._bubbleDown(1, options)), c;
        }, self.prototype.peek = function() {
          return this._read(1);
        }, self.prototype.clear = function() {
          this.length = 0;
          this._memory.length = 0;
        }, self.prototype._write = function(i, value) {
          var j;
          j = i >> this._shift;
          for (; j >= this._memory.length;) {
            this._memory.push(this._emptyMemoryPageTemplate.slice(0));
          }
          return this._memory[j][i & this._mask] = value;
        }, self.prototype._read = function(num) {
          return this._memory[num >> this._shift][num & this._mask];
        }, self.prototype._bubbleUp = function(i, data) {
          var value;
          var day;
          var n;
          var str;
          value = this.comparator;
          for (; i > 1 && (day = i & this._mask, i < this.pageSize || day > 3 ? n = i & ~this._mask | day >> 1 : 2 > day ? (n = i - this.pageSize >> this._shift, n = n + (n & ~(this._mask >> 1)), n = n | this.pageSize >> 1) : n = i - 2, str = this._read(n), !(value(str, data) < 0));) {
            this._write(n, data);
            this._write(i, str);
            i = n;
          }
        }, self.prototype._bubbleDown = function(index, options) {
          var i;
          var n;
          var e;
          var c;
          var p;
          p = this.comparator;
          for (; index < this.length;) {
            if (index > this._mask && !(index & this._mask - 1) ? i = n = index + 2 : index & this.pageSize >> 1 ? (i = (index & ~this._mask) >> 1, i = i | index & this._mask >> 1, i = i + 1 << this._shift, n = i + 1) : (i = index + (index & this._mask), n = i + 1), i !== n && n <= this.length) {
              if (e = this._read(i), c = this._read(n), p(e, options) < 0 && p(e, c) <= 0) {
                this._write(i, options);
                this._write(index, e);
                index = i;
              } else {
                if (!(p(c, options) < 0)) {
                  break;
                }
                this._write(n, options);
                this._write(index, c);
                index = n;
              }
            } else {
              if (!(i <= this.length)) {
                break;
              }
              if (e = this._read(i), !(p(e, options) < 0)) {
                break;
              }
              this._write(i, options);
              this._write(index, e);
              index = i;
            }
          }
        }, self;
      }();
    }, {}],
    5 : [function(canCreateDiscussions, module, i) {
      var RestfulModelCollection;
      module.exports = RestfulModelCollection = function() {
        function BinaryHeapPriorityQueue(options) {
          var awsSTSToken;
          this.comparator = (null != options ? options.comparator : void 0) || function(c, thing) {
            return c - thing;
          };
          this.length = 0;
          this.data = (null != (awsSTSToken = options.initialValues) ? awsSTSToken.slice(0) : void 0) || [];
          this._heapify();
        }
        return BinaryHeapPriorityQueue.prototype._heapify = function() {
          var i;
          var j;
          var ref;
          if (this.data.length > 0) {
            i = j = 1;
            ref = this.data.length;
            for (; ref >= 1 ? ref > j : j > ref; i = ref >= 1 ? ++j : --j) {
              this._bubbleUp(i);
            }
          }
        }, BinaryHeapPriorityQueue.prototype.queue = function(type) {
          this.data.push(type);
          this._bubbleUp(this.data.length - 1);
        }, BinaryHeapPriorityQueue.prototype.dequeue = function() {
          var val;
          var okfunc;
          return okfunc = this.data[0], val = this.data.pop(), this.data.length > 0 && (this.data[0] = val, this._bubbleDown(0)), okfunc;
        }, BinaryHeapPriorityQueue.prototype.peek = function() {
          return this.data[0];
        }, BinaryHeapPriorityQueue.prototype.clear = function() {
          this.length = 0;
          this.data.length = 0;
        }, BinaryHeapPriorityQueue.prototype._bubbleUp = function(i) {
          var index;
          var value;
          for (; i > 0 && (index = i - 1 >>> 1, this.comparator(this.data[i], this.data[index]) < 0);) {
            value = this.data[index];
            this.data[index] = this.data[i];
            this.data[i] = value;
            i = index;
          }
        }, BinaryHeapPriorityQueue.prototype._bubbleDown = function(name) {
          var j;
          var p;
          var index;
          var i;
          var value;
          j = this.data.length - 1;
          for (;;) {
            if (p = (name << 1) + 1, i = p + 1, index = name, j >= p && this.comparator(this.data[p], this.data[index]) < 0 && (index = p), j >= i && this.comparator(this.data[i], this.data[index]) < 0 && (index = i), index === name) {
              break;
            }
            value = this.data[index];
            this.data[index] = this.data[name];
            this.data[name] = value;
            name = index;
          }
        }, BinaryHeapPriorityQueue;
      }();
    }, {}]
  }, {}, [1])(1);
});
var $jscomp = {
  scope : {}
};
$jscomp.defineProperty = "function" == typeof Object.defineProperties ? Object.defineProperty : function(object, name, descriptor) {
  if (descriptor.get || descriptor.set) {
    throw new TypeError("ES3 does not support getters and setters.");
  }
  if (object != Array.prototype && object != Object.prototype) {
    object[name] = descriptor.value;
  }
};
$jscomp.getGlobal = function(key) {
  return "undefined" != typeof window && window === key ? key : "undefined" != typeof global && null != global ? global : key;
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
$jscomp.initSymbol = function() {
  $jscomp.initSymbol = function() {
  };
  if (!$jscomp.global.Symbol) {
    $jscomp.global.Symbol = $jscomp.Symbol;
  }
};
$jscomp.symbolCounter_ = 0;
$jscomp.Symbol = function(name) {
  return $jscomp.SYMBOL_PREFIX + (name || "") + $jscomp.symbolCounter_++;
};
$jscomp.initSymbolIterator = function() {
  $jscomp.initSymbol();
  var i = $jscomp.global.Symbol.iterator;
  if (!i) {
    i = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator");
  }
  if ("function" != typeof Array.prototype[i]) {
    $jscomp.defineProperty(Array.prototype, i, {
      configurable : true,
      writable : true,
      value : function() {
        return $jscomp.arrayIterator(this);
      }
    });
  }
  $jscomp.initSymbolIterator = function() {
  };
};
$jscomp.arrayIterator = function(array) {
  var i = 0;
  return $jscomp.iteratorPrototype(function() {
    return i < array.length ? {
      done : false,
      value : array[i++]
    } : {
      done : true
    };
  });
};
$jscomp.iteratorPrototype = function(g) {
  $jscomp.initSymbolIterator();
  g = {
    next : g
  };
  g[$jscomp.global.Symbol.iterator] = function() {
    return this;
  };
  return g;
};
$jscomp.array = $jscomp.array || {};
$jscomp.iteratorFromArray = function(s, f) {
  $jscomp.initSymbolIterator();
  if (s instanceof String) {
    s = s + "";
  }
  var index = 0;
  var iterable = {
    next : function() {
      if (index < s.length) {
        var i = index++;
        return {
          value : f(i, s[i]),
          done : false
        };
      }
      iterable.next = function() {
        return {
          done : true,
          value : void 0
        };
      };
      return iterable.next();
    }
  };
  iterable[Symbol.iterator] = function() {
    return iterable;
  };
  return iterable;
};
$jscomp.polyfill = function(k, c, target, name) {
  if (c) {
    target = $jscomp.global;
    k = k.split(".");
    name = 0;
    for (; name < k.length - 1; name++) {
      var prop = k[name];
      if (!(prop in target)) {
        target[prop] = {};
      }
      target = target[prop];
    }
    k = k[k.length - 1];
    name = target[k];
    c = c(name);
    if (c != name && null != c) {
      $jscomp.defineProperty(target, k, {
        configurable : true,
        writable : true,
        value : c
      });
    }
  }
};
$jscomp.polyfill("Array.prototype.keys", function(restart) {
  return restart ? restart : function() {
    return $jscomp.iteratorFromArray(this, function(canCreateDiscussions) {
      return canCreateDiscussions;
    });
  };
}, "es6-impl", "es3");
var $jscomp$this = this;
(function(self, e) {
  if ("function" === typeof define && define.amd) {
    define([], e);
  } else {
    if ("object" === typeof module && module.exports) {
      module.exports = e();
    } else {
      self.anime = e();
    }
  }
})(this, function() {
  function test(n) {
    if (!self.col(n)) {
      try {
        return document.querySelectorAll(n);
      } catch (c) {
      }
    }
  }
  function resolve(a, fn) {
    var az = a.length;
    var matchEl = 2 <= arguments.length ? arguments[1] : void 0;
    var expected = [];
    var i = 0;
    for (; i < az; i++) {
      if (i in a) {
        var k = a[i];
        if (fn.call(matchEl, k, i, a)) {
          expected.push(k);
        }
      }
    }
    return expected;
  }
  function merge(a) {
    return a.reduce(function(array, val) {
      return array.concat(self.arr(val) ? merge(val) : val);
    }, []);
  }
  function write(value) {
    if (self.arr(value)) {
      return value;
    }
    if (self.str(value)) {
      value = test(value) || value;
    }
    return value instanceof NodeList || value instanceof HTMLCollection ? [].slice.call(value) : [value];
  }
  function isArray(value, object) {
    return value.some(function(argType) {
      return argType === object;
    });
  }
  function require(x) {
    var res = {};
    var name;
    for (name in x) {
      res[name] = x[name];
    }
    return res;
  }
  function template(target, options) {
    var output = require(target);
    var name;
    for (name in target) {
      output[name] = options.hasOwnProperty(name) ? options[name] : target[name];
    }
    return output;
  }
  function cb(value, index) {
    var coords = require(value);
    var j;
    for (j in index) {
      coords[j] = self.und(value[j]) ? index[j] : value[j];
    }
    return coords;
  }
  function wrap(value) {
    value = value.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function(a, w, h, rx) {
      return w + w + h + h + rx + rx;
    });
    var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(value);
    value = parseInt(c[1], 16);
    var whiteRating = parseInt(c[2], 16);
    c = parseInt(c[3], 16);
    return "rgba(" + value + "," + whiteRating + "," + c + ",1)";
  }
  function reducer(value) {
    function filter(value, max, min) {
      if (0 > min) {
        min = min + 1;
      }
      if (1 < min) {
        --min;
      }
      return min < 1 / 6 ? value + 6 * (max - value) * min : .5 > min ? max : min < 2 / 3 ? value + (max - value) * (2 / 3 - min) * 6 : value;
    }
    var d = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(value) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(value);
    value = parseInt(d[1]) / 360;
    var s = parseInt(d[2]) / 100;
    var b = parseInt(d[3]) / 100;
    d = d[4] || 1;
    if (0 == s) {
      b = s = value = b;
    } else {
      var a = .5 > b ? b * (1 + s) : b + s - b * s;
      var c = 2 * b - a;
      b = filter(c, a, value + 1 / 3);
      s = filter(c, a, value);
      value = filter(c, a, value - 1 / 3);
    }
    return "rgba(" + 255 * b + "," + 255 * s + "," + 255 * value + "," + d + ")";
  }
  function isFunction(value) {
    if (value = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(value)) {
      return value[2];
    }
  }
  function factory(c) {
    if (-1 < c.indexOf("translate") || "perspective" === c) {
      return "px";
    }
    if (-1 < c.indexOf("rotate") || -1 < c.indexOf("skew")) {
      return "deg";
    }
  }
  function fn(callback, args) {
    return self.fnc(callback) ? callback(args.target, args.id, args.total) : callback;
  }
  function check(context, val) {
    if (val in context.style) {
      return getComputedStyle(context).getPropertyValue(val.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()) || "0";
    }
  }
  function getValue(target, val) {
    if (self.dom(target) && isArray(source, val)) {
      return "transform";
    }
    if (self.dom(target) && (target.getAttribute(val) || self.svg(target) && target[val])) {
      return "attribute";
    }
    if (self.dom(target) && "transform" !== val && check(target, val)) {
      return "css";
    }
    if (null != target[val]) {
      return "object";
    }
  }
  function get(val, name) {
    var item = factory(name);
    item = -1 < name.indexOf("scale") ? 1 : 0 + item;
    val = val.style.transform;
    if (!val) {
      return item;
    }
    var result = [];
    var deps = [];
    var contacts = [];
    var regEvalVal = /(\w+)\((.+?)\)/g;
    for (; result = regEvalVal.exec(val);) {
      deps.push(result[1]);
      contacts.push(result[2]);
    }
    val = resolve(contacts, function(a, n) {
      return deps[n] === name;
    });
    return val.length ? val[0] : item;
  }
  function parse(a, b) {
    switch(getValue(a, b)) {
      case "transform":
        return get(a, b);
      case "css":
        return check(a, b);
      case "attribute":
        return a.getAttribute(b);
    }
    return a[b] || 0;
  }
  function log(a, c) {
    var els = /^(\*=|\+=|-=)/.exec(a);
    if (!els) {
      return a;
    }
    var b = isFunction(a) || 0;
    c = parseFloat(c);
    a = parseFloat(a.replace(els[0], ""));
    switch(els[0][0]) {
      case "+":
        return c + a + b;
      case "-":
        return c - a + b;
      case "*":
        return c * a + b;
    }
  }
  function callback(position, data) {
    return Math.sqrt(Math.pow(data.x - position.x, 2) + Math.pow(data.y - position.y, 2));
  }
  function line(points) {
    points = points.points;
    var html = 0;
    var val;
    var i = 0;
    for (; i < points.numberOfItems; i++) {
      var x = points.getItem(i);
      if (0 < i) {
        html = html + callback(val, x);
      }
      val = x;
    }
    return html;
  }
  function draw(node) {
    if (node.getTotalLength) {
      return node.getTotalLength();
    }
    switch(node.tagName.toLowerCase()) {
      case "circle":
        return 2 * Math.PI * node.getAttribute("r");
      case "rect":
        return 2 * node.getAttribute("width") + 2 * node.getAttribute("height");
      case "line":
        return callback({
          x : node.getAttribute("x1"),
          y : node.getAttribute("y1")
        }, {
          x : node.getAttribute("x2"),
          y : node.getAttribute("y2")
        });
      case "polyline":
        return line(node);
      case "polygon":
        var points = node.points;
        return line(node) + callback(points.getItem(points.numberOfItems - 1), points.getItem(0));
    }
  }
  function render(options, val) {
    function getData(length) {
      length = void 0 === length ? 0 : length;
      return options.el.getPointAtLength(1 <= val + length ? val + length : 0);
    }
    var con = getData();
    var Cpoints = getData(-1);
    var point = getData(1);
    switch(options.property) {
      case "x":
        return con.x;
      case "y":
        return con.y;
      case "angle":
        return 180 * Math.atan2(point.y - Cpoints.y, point.x - Cpoints.x) / Math.PI;
    }
  }
  function next(obj, content) {
    var d = /-?\d*\.?\d+/g;
    var value;
    value = self.pth(obj) ? obj.totalLength : obj;
    if (self.col(value)) {
      if (self.rgb(value)) {
        var text = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(value);
        value = text ? "rgba(" + text[1] + ",1)" : value;
      } else {
        value = self.hex(value) ? wrap(value) : self.hsl(value) ? reducer(value) : void 0;
      }
    } else {
      text = (text = isFunction(value)) ? value.substr(0, value.length - text.length) : value;
      value = content && !/\s/g.test(value) ? text + content : text;
    }
    value = value + "";
    return {
      original : value,
      numbers : value.match(d) ? value.match(d).map(Number) : [0],
      strings : self.str(obj) || content ? value.split(d) : []
    };
  }
  function read(obj) {
    obj = obj ? merge(self.arr(obj) ? obj.map(write) : write(obj)) : [];
    return resolve(obj, function(sceneUid, canCreateDiscussions, scenes) {
      return scenes.indexOf(sceneUid) === canCreateDiscussions;
    });
  }
  function each(a) {
    var result = read(a);
    return result.map(function(slicedTarget, newWayId) {
      return {
        target : slicedTarget,
        id : newWayId,
        total : result.length
      };
    });
  }
  function forEach(value, action) {
    var ctx = require(action);
    if (self.arr(value)) {
      var size = value.length;
      if (2 !== size || self.obj(value[0])) {
        if (!self.fnc(action.duration)) {
          ctx.duration = action.duration / size;
        }
      } else {
        value = {
          value : value
        };
      }
    }
    return write(value).map(function(data, delay) {
      delay = delay ? 0 : action.delay;
      data = self.obj(data) && !self.pth(data) ? data : {
        value : data
      };
      if (self.und(data.delay)) {
        data.delay = delay;
      }
      return data;
    }).map(function(a) {
      return cb(a, ctx);
    });
  }
  function apply(array, val) {
    var d = {};
    var i;
    for (i in array) {
      var obj = fn(array[i], val);
      if (self.arr(obj)) {
        obj = obj.map(function(a) {
          return fn(a, val);
        });
        if (1 === obj.length) {
          obj = obj[0];
        }
      }
      d[i] = obj;
    }
    d.duration = parseFloat(d.duration);
    d.delay = parseFloat(d.delay);
    return d;
  }
  function insert(name) {
    return self.arr(name) ? value.apply(this, name) : easings[name];
  }
  function update(obj, args) {
    var path;
    return obj.tweens.map(function(options) {
      options = apply(options, args);
      var val = options.value;
      var file = parse(args.target, obj.name);
      var value = path ? path.to.original : file;
      value = self.arr(val) ? val[0] : value;
      var x = log(self.arr(val) ? val[1] : val, value);
      file = isFunction(x) || isFunction(value) || isFunction(file);
      options.from = next(value, file);
      options.to = next(x, file);
      options.start = path ? path.end : obj.offset;
      options.end = options.start + options.delay + options.duration;
      options.easing = insert(options.easing);
      options.elasticity = (1E3 - Math.min(Math.max(options.elasticity, 1), 999)) / 1E3;
      options.isPath = self.pth(val);
      options.isColor = self.col(options.from.original);
      if (options.isColor) {
        options.round = 1;
      }
      return path = options;
    });
  }
  function _update(match, array) {
    return resolve(merge(match.map(function(event) {
      return array.map(function(options) {
        var mediaType = getValue(event.target, options.name);
        if (mediaType) {
          var args = update(options, event);
          options = {
            type : mediaType,
            property : options.name,
            animatable : event,
            tweens : args,
            duration : args[args.length - 1].end,
            delay : args[0].delay
          };
        } else {
          options = void 0;
        }
        return options;
      });
    })), function(a) {
      return !self.und(a);
    });
  }
  function format(interval, args, config, data) {
    var isStemUp = "delay" === interval;
    return args.length ? (isStemUp ? Math.min : Math.max).apply(Math, args.map(function(xdriller) {
      return xdriller[interval];
    })) : isStemUp ? data.delay : config.offset + data.delay + data.duration;
  }
  function create(args) {
    var message = template(config, args);
    var item = template(props, args);
    var index = each(args.targets);
    var _new = [];
    var event = cb(message, item);
    var id;
    for (id in args) {
      if (!(event.hasOwnProperty(id) || "targets" === id)) {
        _new.push({
          name : id,
          offset : event.offset,
          tweens : forEach(args[id], item)
        });
      }
    }
    args = _update(index, _new);
    return cb(message, {
      children : [],
      animatables : index,
      animations : args,
      duration : format("duration", args, message, item),
      delay : format("delay", args, message, item)
    });
  }
  function init(str) {
    function success() {
      return window.Promise && new Promise(function(event) {
        return two = event;
      });
    }
    function callback(val) {
      return self.reversed ? self.duration - val : val;
    }
    function render(start) {
      var a = 0;
      var c = {};
      var b = self.animations;
      var length = b.length;
      for (; a < length;) {
        var e = b[a];
        var element = e.animatable;
        var res = e.tweens;
        var ref = res.length - 1;
        var result = res[ref];
        if (ref) {
          result = resolve(res, function(startToken) {
            return start < startToken.end;
          })[0] || result;
        }
        res = Math.min(Math.max(start - result.start - result.delay, 0), result.duration) / result.duration;
        var i = isNaN(res) ? 1 : result.easing(res, result.elasticity);
        res = result.to.strings;
        var r = result.round;
        ref = [];
        var value = void 0;
        value = result.to.numbers.length;
        var key = 0;
        for (; key < value; key++) {
          var value = void 0;
          value = result.to.numbers[key];
          var info = result.from.numbers[key];
          value = result.isPath ? render(result.value, i * value) : info + i * (value - info);
          if (r) {
            if (!(result.isColor && 2 < key)) {
              value = Math.round(value * r) / r;
            }
          }
          ref.push(value);
        }
        if (result = res.length) {
          value = res[0];
          i = 0;
          for (; i < result; i++) {
            r = res[i + 1];
            key = ref[i];
            if (!isNaN(key)) {
              value = r ? value + (key + r) : value + (key + " ");
            }
          }
        } else {
          value = ref[0];
        }
        options[e.type](element.target, e.property, value, c, element.id);
        e.currentValue = value;
        a++;
      }
      if (a = Object.keys(c).length) {
        b = 0;
        for (; b < a; b++) {
          if (!transform) {
            transform = check(document.body, "transform") ? "transform" : "-webkit-transform";
          }
          self.animatables[b].target.style[transform] = c[b].join(" ");
        }
      }
      self.currentTime = start;
      self.progress = start / self.duration * 100;
    }
    function setTimeout(name) {
      if (self[name]) {
        self[name](self);
      }
    }
    function use() {
      if (self.remaining && true !== self.remaining) {
        self.remaining--;
      }
    }
    function update(val) {
      var b = self.duration;
      var start = self.offset;
      var end = start + self.delay;
      var t = self.currentTime;
      var reversed = self.reversed;
      var value = callback(val);
      if (self.children.length) {
        var tweens = self.children;
        var i = tweens.length;
        if (value >= self.currentTime) {
          var n = 0;
          for (; n < i; n++) {
            tweens[n].seek(value);
          }
        } else {
          for (; i--;) {
            tweens[i].seek(value);
          }
        }
      }
      if (value >= end || !b) {
        if (!self.began) {
          self.began = true;
          setTimeout("begin");
        }
        setTimeout("run");
      }
      if (value > start && value < b) {
        render(value);
      } else {
        if (value <= start && 0 !== t && (render(0), reversed && use()), value >= b && t !== b || !b) {
          render(b);
          if (!reversed) {
            use();
          }
        }
      }
      setTimeout("update");
      if (val >= b) {
        if (self.remaining) {
          distance = i;
          if ("alternate" === self.direction) {
            self.reversed = !self.reversed;
          }
        } else {
          self.pause();
          if (!self.completed) {
            self.completed = true;
            setTimeout("complete");
            if ("Promise" in window) {
              two();
              options = success();
            }
          }
        }
        pby = 0;
      }
    }
    str = void 0 === str ? {} : str;
    var i;
    var distance;
    var pby = 0;
    var two = null;
    var options = success();
    var self = create(str);
    self.reset = function() {
      var d = self.direction;
      var c = self.loop;
      self.currentTime = 0;
      self.progress = 0;
      self.paused = true;
      self.began = false;
      self.completed = false;
      self.reversed = "reverse" === d;
      self.remaining = "alternate" === d && 1 === c ? 2 : c;
      render(0);
      d = self.children.length;
      for (; d--;) {
        self.children[d].reset();
      }
    };
    self.tick = function(finalTick) {
      i = finalTick;
      if (!distance) {
        distance = i;
      }
      update((pby + i - distance) * init.speed);
    };
    self.seek = function(data) {
      update(callback(data));
    };
    self.pause = function() {
      var paneIndex = obj.indexOf(self);
      if (-1 < paneIndex) {
        obj.splice(paneIndex, 1);
      }
      self.paused = true;
    };
    self.play = function() {
      if (self.paused) {
        self.paused = false;
        distance = 0;
        pby = callback(self.currentTime);
        obj.push(self);
        if (!requestID) {
          allVideoIdsReady();
        }
      }
    };
    self.reverse = function() {
      self.reversed = !self.reversed;
      distance = 0;
      pby = callback(self.currentTime);
    };
    self.restart = function() {
      self.pause();
      self.reset();
      self.play();
    };
    self.finished = options;
    self.reset();
    if (self.autoplay) {
      self.play();
    }
    return self;
  }
  var config = {
    update : void 0,
    begin : void 0,
    run : void 0,
    complete : void 0,
    loop : 1,
    direction : "normal",
    autoplay : true,
    offset : 0
  };
  var props = {
    duration : 1E3,
    delay : 0,
    easing : "easeOutElastic",
    elasticity : 500,
    round : 0
  };
  var source = "translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" ");
  var transform;
  var self = {
    arr : function(obj) {
      return Array.isArray(obj);
    },
    obj : function(val) {
      return -1 < Object.prototype.toString.call(val).indexOf("Object");
    },
    pth : function(obj) {
      return self.obj(obj) && obj.hasOwnProperty("totalLength");
    },
    svg : function(type) {
      return type instanceof SVGElement;
    },
    dom : function(o) {
      return o.nodeType || self.svg(o);
    },
    str : function(val) {
      return "string" === typeof val;
    },
    fnc : function(value) {
      return "function" === typeof value;
    },
    und : function(r) {
      return "undefined" === typeof r;
    },
    hex : function(num) {
      return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(num);
    },
    rgb : function(string) {
      return /^rgb/.test(string);
    },
    hsl : function(string) {
      return /^hsl/.test(string);
    },
    col : function(value) {
      return self.hex(value) || self.rgb(value) || self.hsl(value);
    }
  };
  var value = function() {
    function cb(d, s, c) {
      return (((1 - 3 * c + 3 * s) * d + (3 * c - 6 * s)) * d + 3 * s) * d;
    }
    return function(s, undefined, c, name) {
      if (0 <= s && 1 >= s && 0 <= c && 1 >= c) {
        var result = new Float32Array(11);
        if (s !== undefined || c !== name) {
          var i = 0;
          for (; 11 > i; ++i) {
            result[i] = cb(.1 * i, s, c);
          }
        }
        return function(x) {
          if (s === undefined && c === name) {
            return x;
          }
          if (0 === x) {
            return 0;
          }
          if (1 === x) {
            return 1;
          }
          var j = 0;
          var i = 1;
          for (; 10 !== i && result[i] <= x; ++i) {
            j = j + .1;
          }
          --i;
          i = j + (x - result[i]) / (result[i + 1] - result[i]) * .1;
          var width = 3 * (1 - 3 * c + 3 * s) * i * i + 2 * (3 * c - 6 * s) * i + 3 * s;
          if (.001 <= width) {
            j = 0;
            for (; 4 > j; ++j) {
              width = 3 * (1 - 3 * c + 3 * s) * i * i + 2 * (3 * c - 6 * s) * i + 3 * s;
              if (0 === width) {
                break;
              }
              var w = cb(i, s, c) - x;
              i = i - w / width;
            }
            x = i;
          } else {
            if (0 === width) {
              x = i;
            } else {
              i = j;
              j = j + .1;
              var g = 0;
              do {
                w = i + (j - i) / 2;
                width = cb(w, s, c) - x;
                if (0 < width) {
                  j = w;
                } else {
                  i = w;
                }
              } while (1e-7 < Math.abs(width) && 10 > ++g);
              x = w;
            }
          }
          return cb(x, undefined, name);
        };
      }
    };
  }();
  var easings = function() {
    function line(i, p) {
      return 0 === i || 1 === i ? i : -Math.pow(2, 10 * (i - 1)) * Math.sin(2 * (i - 1 - p / (2 * Math.PI) * Math.asin(1)) * Math.PI / p);
    }
    var subwikiListsCache = "Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" ");
    var data = {
      In : [[.55, .085, .68, .53], [.55, .055, .675, .19], [.895, .03, .685, .22], [.755, .05, .855, .06], [.47, 0, .745, .715], [.95, .05, .795, .035], [.6, .04, .98, .335], [.6, -.28, .735, .045], line],
      Out : [[.25, .46, .45, .94], [.215, .61, .355, 1], [.165, .84, .44, 1], [.23, 1, .32, 1], [.39, .575, .565, 1], [.19, 1, .22, 1], [.075, .82, .165, 1], [.175, .885, .32, 1.275], function(b, y1) {
        return 1 - line(1 - b, y1);
      }],
      InOut : [[.455, .03, .515, .955], [.645, .045, .355, 1], [.77, 0, .175, 1], [.86, 0, .07, 1], [.445, .05, .55, .95], [1, 0, 0, 1], [.785, .135, .15, .86], [.68, -.55, .265, 1.55], function(tileWidth, y1) {
        return .5 > tileWidth ? line(2 * tileWidth, y1) / 2 : 1 - line(-2 * tileWidth + 2, y1) / 2;
      }]
    };
    var forDataItem = {
      linear : value(.25, .25, .75, .75)
    };
    var element = {};
    var a;
    for (a in data) {
      element.type = a;
      data[element.type].forEach(function(nextElement) {
        return function(key, wikiId) {
          forDataItem["ease" + nextElement.type + subwikiListsCache[wikiId]] = self.fnc(key) ? key : value.apply($jscomp$this, key);
        };
      }(element));
      element = {
        type : element.type
      };
    }
    return forDataItem;
  }();
  var options = {
    css : function(value, name, data) {
      return value.style[name] = data;
    },
    attribute : function(_element, event, _value) {
      return _element.setAttribute(event, _value);
    },
    object : function(obj, sourcePropKey, sourcePropVal) {
      return obj[sourcePropKey] = sourcePropVal;
    },
    transform : function(type, name, str, data, obj) {
      if (!data[obj]) {
        data[obj] = [];
      }
      data[obj].push(name + "(" + str + ")");
    }
  };
  var obj = [];
  var requestID = 0;
  var allVideoIdsReady = function() {
    function startRetryLeaving() {
      requestID = requestAnimationFrame(tick);
    }
    function tick(finalTick) {
      var patchLen = obj.length;
      if (patchLen) {
        var i = 0;
        for (; i < patchLen;) {
          if (obj[i]) {
            obj[i].tick(finalTick);
          }
          i++;
        }
        startRetryLeaving();
      } else {
        cancelAnimationFrame(requestID);
        requestID = 0;
      }
    }
    return startRetryLeaving;
  }();
  init.version = "2.2.0";
  init.speed = 1;
  init.running = obj;
  init.remove = function(type) {
    type = read(type);
    var current = obj.length;
    for (; current--;) {
      var a = obj[current];
      var animations = a.animations;
      var i = animations.length;
      for (; i--;) {
        if (isArray(type, animations[i].animatable.target)) {
          animations.splice(i, 1);
          if (!animations.length) {
            a.pause();
          }
        }
      }
    }
  };
  init.getValue = parse;
  init.path = function(type, data) {
    var key = self.str(type) ? test(type)[0] : type;
    var pages = data || 100;
    return function(p) {
      return {
        el : key,
        property : p,
        totalLength : draw(key) * (pages / 100)
      };
    };
  };
  init.setDashoffset = function(el) {
    var p = draw(el);
    el.setAttribute("stroke-dasharray", p);
    return p;
  };
  init.bezier = value;
  init.easings = easings;
  init.timeline = function(options) {
    var data = init(options);
    data.pause();
    data.duration = 0;
    data.add = function(type) {
      data.children.forEach(function(self) {
        self.began = true;
        self.completed = true;
      });
      write(type).forEach(function(i) {
        var params = cb(i, template(props, options || {}));
        params.targets = params.targets || options.targets;
        i = data.duration;
        var v = params.offset;
        params.autoplay = false;
        params.direction = data.direction;
        params.offset = self.und(v) ? i : log(v, i);
        data.began = true;
        data.completed = true;
        data.seek(params.offset);
        params = init(params);
        params.began = true;
        params.completed = true;
        if (params.duration > i) {
          data.duration = params.duration;
        }
        data.children.push(params);
      });
      data.seek(0);
      data.reset();
      if (data.autoplay) {
        data.restart();
      }
      return data;
    };
    return data;
  };
  init.random = function(intervalLow, intervalHigh) {
    return Math.floor(Math.random() * (intervalHigh - intervalLow + 1)) + intervalLow;
  };
  return init;
});
(function(context, race) {
  if ("function" == typeof define && define.amd) {
    define([], race);
  } else {
    if ("undefined" != typeof exports) {
      race();
    } else {
      race();
      context.FileSaver = {
        exports : {}
      }.exports;
    }
  }
})(this, function() {
  function $(value, id) {
    return "undefined" == typeof id ? id = {
      autoBom : false
    } : "object" != typeof id && (console.warn("Deprecated: Expected third argument to be a object"), id = {
      autoBom : !id
    }), id.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(value.type) ? new Blob(["\ufeff", value], {
      type : value.type
    }) : value;
  }
  function test(val, options, d) {
    var xhr = new XMLHttpRequest;
    xhr.open("GET", val);
    xhr.responseType = "blob";
    xhr.onload = function() {
      log(xhr.response, options, d);
    };
    xhr.onerror = function() {
      console.error("could not download file");
    };
    xhr.send();
  }
  function _getLastModified(url) {
    var xhr = new XMLHttpRequest;
    return xhr.open("HEAD", url, false), xhr.send(), 200 <= xhr.status && 299 >= xhr.status;
  }
  function click(link) {
    try {
      link.dispatchEvent(new MouseEvent("click"));
    } catch (c) {
      var evt = document.createEvent("MouseEvents");
      evt.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);
      link.dispatchEvent(evt);
    }
  }
  var view = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof global && global.global === global ? global : void 0;
  var log = view.saveAs || ("object" != typeof window || window !== view ? function() {
  } : "download" in HTMLAnchorElement.prototype ? function(data, name, expected) {
    var url = view.URL || view.webkitURL;
    var link = document.createElement("a");
    name = name || data.name || "download";
    link.download = name;
    link.rel = "noopener";
    if ("string" == typeof data) {
      link.href = data;
      if (link.origin === location.origin) {
        click(link);
      } else {
        if (_getLastModified(link.href)) {
          test(data, name, expected);
        } else {
          click(link, link.target = "_blank");
        }
      }
    } else {
      link.href = url.createObjectURL(data);
      setTimeout(function() {
        url.revokeObjectURL(link.href);
      }, 4E4);
      setTimeout(function() {
        click(link);
      }, 0);
    }
  } : "msSaveOrOpenBlob" in navigator ? function(str, name, f) {
    if (name = name || str.name || "download", "string" != typeof str) {
      navigator.msSaveOrOpenBlob($(str, f), name);
    } else {
      if (_getLastModified(str)) {
        test(str, name, f);
      } else {
        var a = document.createElement("a");
        a.href = str;
        a.target = "_blank";
        setTimeout(function() {
          click(a);
        });
      }
    }
  } : function(obj, fn, expected, node) {
    if (node = node || open("", "_blank"), node && (node.document.title = node.document.body.innerText = "downloading..."), "string" == typeof obj) {
      return test(obj, fn, expected);
    }
    var nested = "application/octet-stream" === obj.type;
    var schematype = /constructor/i.test(view.HTMLElement) || view.safari;
    var id = /CriOS\/[\d]+/.test(navigator.userAgent);
    if ((id || nested && schematype) && "object" == typeof FileReader) {
      var fileReader = new FileReader;
      fileReader.onloadend = function() {
        var data = fileReader.result;
        data = id ? data : data.replace(/^data:[^;]*;/, "data:attachment/file;");
        if (node) {
          node.location.href = data;
        } else {
          location = data;
        }
        node = null;
      };
      fileReader.readAsDataURL(obj);
    } else {
      var Url = view.URL || view.webkitURL;
      var src = Url.createObjectURL(obj);
      if (node) {
        node.location = src;
      } else {
        location.href = src;
      }
      node = null;
      setTimeout(function() {
        Url.revokeObjectURL(src);
      }, 4E4);
    }
  });
  view.saveAs = log.saveAs = log;
  if ("undefined" != typeof module) {
    module.exports = log;
  }
});
!function(global) {
  function animate(timestamp) {
    if (id = requestAnimationFrame(animate), !(timestamp < tref + handled)) {
      t = t + (timestamp - tref);
      tref = timestamp;
      error(timestamp, t);
      if (timestamp > lastExecutionTime + fpsUpdateInterval) {
        permissionPromise = mmCoreSecondsDay * daysToStart * 1e3 / (timestamp - lastExecutionTime) + (1 - mmCoreSecondsDay) * permissionPromise;
        lastExecutionTime = timestamp;
        daysToStart = 0;
      }
      daysToStart++;
      numUpdateSteps = 0;
      for (; t >= d;) {
        if (update(d), t = t - d, ++numUpdateSteps >= 240) {
          accounts = true;
          break;
        }
      }
      callback(t / d);
      end(permissionPromise, accounts);
      accounts = false;
    }
  }
  var id;
  var now;
  var dt;
  var then;
  var sArrDayId;
  var d = 1e3 / 60;
  var t = 0;
  var tref = 0;
  var permissionPromise = 60;
  var mmCoreSecondsDay = .9;
  var fpsUpdateInterval = 1e3;
  var lastExecutionTime = 0;
  var daysToStart = 0;
  var numUpdateSteps = 0;
  var handled = 0;
  var okval = false;
  var func = false;
  var accounts = false;
  var root = "object" == typeof window ? window : global;
  var requestAnimationFrame = 84 != (!!(sArrDayId = navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)) && parseInt(sArrDayId[2], 10)) && root.requestAnimationFrame || (then = Date.now(), function(callback) {
    return now = Date.now(), dt = Math.max(0, d - (now - then)), then = now + dt, setTimeout(function() {
      callback(now + dt);
    }, dt);
  });
  var cancelAnimationFrame = root.cancelAnimationFrame || clearTimeout;
  var undefined = function() {
  };
  var error = undefined;
  var update = undefined;
  var callback = undefined;
  var end = undefined;
  global.MainLoop = {
    getSimulationTimestep : function() {
      return d;
    },
    setSimulationTimestep : function(data) {
      return d = data, this;
    },
    getFPS : function() {
      return permissionPromise;
    },
    getMaxAllowedFPS : function() {
      return 1e3 / handled;
    },
    setMaxAllowedFPS : function(object) {
      return void 0 === object && (object = 1 / 0), 0 === object ? this.stop() : handled = 1e3 / object, this;
    },
    resetFrameDelta : function() {
      var dur4 = t;
      return t = 0, dur4;
    },
    setBegin : function(data) {
      return error = data || error, this;
    },
    setUpdate : function(type) {
      return update = type || update, this;
    },
    setDraw : function(cb) {
      return callback = cb || callback, this;
    },
    setEnd : function(options) {
      return end = options || end, this;
    },
    start : function() {
      return func || (func = true, id = requestAnimationFrame(function(timestamp) {
        callback(1);
        okval = true;
        tref = timestamp;
        lastExecutionTime = timestamp;
        daysToStart = 0;
        id = requestAnimationFrame(animate);
      })), this;
    },
    stop : function() {
      return okval = false, func = false, cancelAnimationFrame(id), this;
    },
    isRunning : function() {
      return okval;
    }
  };
  if ("function" == typeof define && define.amd) {
    define(global.MainLoop);
  } else {
    if ("object" == typeof module && null !== module && "object" == typeof module.exports) {
      module.exports = global.MainLoop;
    }
  }
}(this);
!function(global, factory) {
  if ("object" == typeof module && "object" == typeof module.exports) {
    module.exports = global.document ? factory(global, true) : function(item) {
      if (!item.document) {
        throw new Error("jQuery requires a window with a document");
      }
      return factory(item);
    };
  } else {
    factory(global);
  }
}("undefined" != typeof window ? window : this, function(window, noGlobal) {
  function isArrayLike(obj) {
    var length = !!obj && "length" in obj && obj.length;
    var ltype = jQuery.type(obj);
    return "function" !== ltype && !jQuery.isWindow(obj) && ("array" === ltype || 0 === length || "number" == typeof length && length > 0 && length - 1 in obj);
  }
  function winnow(elements, value, type) {
    if (jQuery.isFunction(value)) {
      return jQuery.grep(elements, function(context, i) {
        return !!value.call(context, i, context) !== type;
      });
    }
    if (value.nodeType) {
      return jQuery.grep(elements, function(existingValue) {
        return existingValue === value !== type;
      });
    }
    if ("string" == typeof value) {
      if (trueRE.test(value)) {
        return jQuery.filter(value, elements, type);
      }
      value = jQuery.filter(value, elements);
    }
    return jQuery.grep(elements, function(elem) {
      return jQuery.inArray(elem, value) > -1 !== type;
    });
  }
  function sibling(elem, dir) {
    do {
      elem = elem[dir];
    } while (elem && 1 !== elem.nodeType);
    return elem;
  }
  function detach() {
    if (document.addEventListener) {
      document.removeEventListener("DOMContentLoaded", handler);
      window.removeEventListener("load", handler);
    } else {
      document.detachEvent("onreadystatechange", handler);
      window.detachEvent("onload", handler);
    }
  }
  function handler() {
    if (document.addEventListener || "load" === window.event.type || "complete" === document.readyState) {
      detach();
      jQuery.ready();
    }
  }
  function dataAttr(elem, key, data) {
    if (void 0 === data && 1 === elem.nodeType) {
      var name = "data-" + key.replace(rmultiDash, "-$1").toLowerCase();
      if ("string" == typeof(data = elem.getAttribute(name))) {
        try {
          data = "true" === data || "false" !== data && ("null" === data ? null : +data + "" === data ? +data : rbrace.test(data) ? jQuery.parseJSON(data) : data);
        } catch (e) {
        }
        jQuery.data(elem, key, data);
      } else {
        data = void 0;
      }
    }
    return data;
  }
  function isEmptyDataObject(obj) {
    var index;
    for (index in obj) {
      if (("data" !== index || !jQuery.isEmptyObject(obj[index])) && "toJSON" !== index) {
        return false;
      }
    }
    return true;
  }
  function internalData(elem, name, data, pvt) {
    if (acceptData(elem)) {
      var ret;
      var thisCache;
      var internalKey = jQuery.expando;
      var isNode = elem.nodeType;
      var cache = isNode ? jQuery.cache : elem;
      var id = isNode ? elem[internalKey] : elem[internalKey] && internalKey;
      if (id && cache[id] && (pvt || cache[id].data) || void 0 !== data || "string" != typeof name) {
        return id || (id = isNode ? elem[internalKey] = arr.pop() || jQuery.guid++ : internalKey), cache[id] || (cache[id] = isNode ? {} : {
          toJSON : jQuery.noop
        }), "object" != typeof name && "function" != typeof name || (pvt ? cache[id] = jQuery.extend(cache[id], name) : cache[id].data = jQuery.extend(cache[id].data, name)), thisCache = cache[id], pvt || (thisCache.data || (thisCache.data = {}), thisCache = thisCache.data), void 0 !== data && (thisCache[jQuery.camelCase(name)] = data), "string" == typeof name ? null == (ret = thisCache[name]) && (ret = thisCache[jQuery.camelCase(name)]) : ret = thisCache, ret;
      }
    }
  }
  function internalRemoveData(elem, name, pvt) {
    if (acceptData(elem)) {
      var thisCache;
      var i;
      var isNode = elem.nodeType;
      var cache = isNode ? jQuery.cache : elem;
      var id = isNode ? elem[jQuery.expando] : jQuery.expando;
      if (cache[id]) {
        if (name && (thisCache = pvt ? cache[id] : cache[id].data)) {
          i = (name = jQuery.isArray(name) ? name.concat(jQuery.map(name, jQuery.camelCase)) : name in thisCache ? [name] : (name = jQuery.camelCase(name)) in thisCache ? [name] : name.split(" ")).length;
          for (; i--;) {
            delete thisCache[name[i]];
          }
          if (pvt ? !isEmptyDataObject(thisCache) : !jQuery.isEmptyObject(thisCache)) {
            return;
          }
        }
        if (pvt || (delete cache[id].data, isEmptyDataObject(cache[id]))) {
          if (isNode) {
            jQuery.cleanData([elem], true);
          } else {
            if (support.deleteExpando || cache != cache.window) {
              delete cache[id];
            } else {
              cache[id] = void 0;
            }
          }
        }
      }
    }
  }
  function adjustCSS(elem, prop, valueParts, tween) {
    var adjusted;
    var scale = 1;
    var maxIterations = 20;
    var currentValue = tween ? function() {
      return tween.cur();
    } : function() {
      return jQuery.css(elem, prop, "");
    };
    var initial = currentValue();
    var unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? "" : "px");
    var initialInUnit = (jQuery.cssNumber[prop] || "px" !== unit && +initial) && regex.exec(jQuery.css(elem, prop));
    if (initialInUnit && initialInUnit[3] !== unit) {
      unit = unit || initialInUnit[3];
      valueParts = valueParts || [];
      initialInUnit = +initial || 1;
      do {
        initialInUnit = initialInUnit / (scale = scale || ".5");
        jQuery.style(elem, prop, initialInUnit + unit);
      } while (scale !== (scale = currentValue() / initial) && 1 !== scale && --maxIterations);
    }
    return valueParts && (initialInUnit = +initialInUnit || +initial || 0, adjusted = valueParts[1] ? initialInUnit + (valueParts[1] + 1) * valueParts[2] : +valueParts[2], tween && (tween.unit = unit, tween.start = initialInUnit, tween.end = adjusted)), adjusted;
  }
  function createSafeFragment(document) {
    var deadPool = componentsStr.split("|");
    var safeFrag = document.createDocumentFragment();
    if (safeFrag.createElement) {
      for (; deadPool.length;) {
        safeFrag.createElement(deadPool.pop());
      }
    }
    return safeFrag;
  }
  function getAll(context, tag) {
    var elems;
    var elem;
    var i = 0;
    var ret = void 0 !== context.getElementsByTagName ? context.getElementsByTagName(tag || "*") : void 0 !== context.querySelectorAll ? context.querySelectorAll(tag || "*") : void 0;
    if (!ret) {
      ret = [];
      elems = context.childNodes || context;
      for (; null != (elem = elems[i]); i++) {
        if (!tag || jQuery.nodeName(elem, tag)) {
          ret.push(elem);
        } else {
          jQuery.merge(ret, getAll(elem, tag));
        }
      }
    }
    return void 0 === tag || tag && jQuery.nodeName(context, tag) ? jQuery.merge([context], ret) : ret;
  }
  function setGlobalEval(elems, refElements) {
    var elem;
    var i = 0;
    for (; null != (elem = elems[i]); i++) {
      jQuery._data(elem, "globalEval", !refElements || jQuery._data(refElements[i], "globalEval"));
    }
  }
  function fixDefaultChecked(elem) {
    if (manipulation_rcheckableType.test(elem.type)) {
      elem.defaultChecked = elem.checked;
    }
  }
  function buildFragment(elems, context, element, result, ignored) {
    var j;
    var elem;
    var ret;
    var tmp;
    var tag;
    var tbody;
    var wrap;
    var length = elems.length;
    var safe = createSafeFragment(context);
    var nodes = [];
    var i = 0;
    for (; i < length; i++) {
      if ((elem = elems[i]) || 0 === elem) {
        if ("object" === jQuery.type(elem)) {
          jQuery.merge(nodes, elem.nodeType ? [elem] : elem);
        } else {
          if (rhtml.test(elem)) {
            tmp = tmp || safe.appendChild(context.createElement("div"));
            tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
            wrap = wrapMap[tag] || wrapMap._default;
            tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2];
            j = wrap[0];
            for (; j--;) {
              tmp = tmp.lastChild;
            }
            if (!support.leadingWhitespace && rleadingWhitespace.test(elem) && nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0])), !support.tbody) {
              j = (elem = "table" !== tag || rtbody.test(elem) ? "<table>" !== wrap[1] || rtbody.test(elem) ? 0 : tmp : tmp.firstChild) && elem.childNodes.length;
              for (; j--;) {
                if (jQuery.nodeName(tbody = elem.childNodes[j], "tbody") && !tbody.childNodes.length) {
                  elem.removeChild(tbody);
                }
              }
            }
            jQuery.merge(nodes, tmp.childNodes);
            tmp.textContent = "";
            for (; tmp.firstChild;) {
              tmp.removeChild(tmp.firstChild);
            }
            tmp = safe.lastChild;
          } else {
            nodes.push(context.createTextNode(elem));
          }
        }
      }
    }
    if (tmp) {
      safe.removeChild(tmp);
    }
    if (!support.appendChecked) {
      jQuery.grep(getAll(nodes, "input"), fixDefaultChecked);
    }
    i = 0;
    for (; elem = nodes[i++];) {
      if (result && jQuery.inArray(elem, result) > -1) {
        if (ignored) {
          ignored.push(elem);
        }
      } else {
        if (ret = jQuery.contains(elem.ownerDocument, elem), tmp = getAll(safe.appendChild(elem), "script"), ret && setGlobalEval(tmp), element) {
          j = 0;
          for (; elem = tmp[j++];) {
            if (opacityRe.test(elem.type || "")) {
              element.push(elem);
            }
          }
        }
      }
    }
    return tmp = null, safe;
  }
  function returnTrue() {
    return true;
  }
  function returnFalse() {
    return false;
  }
  function safeActiveElement() {
    try {
      return document.activeElement;
    } catch (err) {
    }
  }
  function on(el, value, selector, data, handler, one) {
    var fn;
    var type;
    if ("object" == typeof value) {
      for (type in "string" != typeof selector && (data = data || selector, selector = void 0), value) {
        on(el, type, selector, data, value[type], one);
      }
      return el;
    }
    if (null == data && null == handler ? (handler = selector, data = selector = void 0) : null == handler && ("string" == typeof selector ? (handler = data, data = void 0) : (handler = data, data = selector, selector = void 0)), false === handler) {
      handler = returnFalse;
    } else {
      if (!handler) {
        return el;
      }
    }
    return 1 === one && (fn = handler, (handler = function(date) {
      return jQuery().off(date), fn.apply(this, arguments);
    }).guid = fn.guid || (fn.guid = jQuery.guid++)), el.each(function() {
      jQuery.event.add(this, value, handler, data, selector);
    });
  }
  function manipulationTarget(elem, content) {
    return jQuery.nodeName(elem, "table") && jQuery.nodeName(11 !== content.nodeType ? content : content.firstChild, "tr") ? elem.getElementsByTagName("tbody")[0] || elem.appendChild(elem.ownerDocument.createElement("tbody")) : elem;
  }
  function disableScript(elem) {
    return elem.type = (null !== jQuery.find.attr(elem, "type")) + "/" + elem.type, elem;
  }
  function restoreScript(elem) {
    var match = rscriptTypeMasked.exec(elem.type);
    return match ? elem.type = match[1] : elem.removeAttribute("type"), elem;
  }
  function cloneCopyEvent(src, dest) {
    if (1 === dest.nodeType && jQuery.hasData(src)) {
      var type;
      var i;
      var l;
      var oldData = jQuery._data(src);
      var curData = jQuery._data(dest, oldData);
      var events = oldData.events;
      if (events) {
        for (type in delete curData.handle, curData.events = {}, events) {
          i = 0;
          l = events[type].length;
          for (; i < l; i++) {
            jQuery.event.add(dest, type, events[type][i]);
          }
        }
      }
      if (curData.data) {
        curData.data = jQuery.extend({}, curData.data);
      }
    }
  }
  function fixCloneNodeIssues(src, dest) {
    var undefined;
    var type;
    var data;
    if (1 === dest.nodeType) {
      if (undefined = dest.nodeName.toLowerCase(), !support.noCloneEvent && dest[jQuery.expando]) {
        for (type in(data = jQuery._data(dest)).events) {
          jQuery.removeEvent(dest, type, data.handle);
        }
        dest.removeAttribute(jQuery.expando);
      }
      if ("script" === undefined && dest.text !== src.text) {
        disableScript(dest).text = src.text;
        restoreScript(dest);
      } else {
        if ("object" === undefined) {
          if (dest.parentNode) {
            dest.outerHTML = src.outerHTML;
          }
          if (support.html5Clone && src.innerHTML && !jQuery.trim(dest.innerHTML)) {
            dest.innerHTML = src.innerHTML;
          }
        } else {
          if ("input" === undefined && manipulation_rcheckableType.test(src.type)) {
            dest.defaultChecked = dest.checked = src.checked;
            if (dest.value !== src.value) {
              dest.value = src.value;
            }
          } else {
            if ("option" === undefined) {
              dest.defaultSelected = dest.selected = src.defaultSelected;
            } else {
              if (!("input" !== undefined && "textarea" !== undefined)) {
                dest.defaultValue = src.defaultValue;
              }
            }
          }
        }
      }
    }
  }
  function domManip(collection, args, callback, ignored) {
    args = concat.apply([], args);
    var first;
    var node;
    var tableslen;
    var nodes;
    var elem;
    var fragment;
    var i = 0;
    var l = collection.length;
    var iNoClone = l - 1;
    var value = args[0];
    var isFunction = jQuery.isFunction(value);
    if (isFunction || l > 1 && "string" == typeof value && !support.checkClone && rchecked.test(value)) {
      return collection.each(function(index) {
        var self = collection.eq(index);
        if (isFunction) {
          args[0] = value.call(this, index, self.html());
        }
        domManip(self, args, callback, ignored);
      });
    }
    if (l && (first = (fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored)).firstChild, 1 === fragment.childNodes.length && (fragment = first), first || ignored)) {
      tableslen = (nodes = jQuery.map(getAll(fragment, "script"), disableScript)).length;
      for (; i < l; i++) {
        node = fragment;
        if (i !== iNoClone) {
          node = jQuery.clone(node, true, true);
          if (tableslen) {
            jQuery.merge(nodes, getAll(node, "script"));
          }
        }
        callback.call(collection[i], node, i);
      }
      if (tableslen) {
        elem = nodes[nodes.length - 1].ownerDocument;
        jQuery.map(nodes, restoreScript);
        i = 0;
        for (; i < tableslen; i++) {
          node = nodes[i];
          if (opacityRe.test(node.type || "") && !jQuery._data(node, "globalEval") && jQuery.contains(elem, node)) {
            if (node.src) {
              if (jQuery._evalUrl) {
                jQuery._evalUrl(node.src);
              }
            } else {
              jQuery.globalEval((node.text || node.textContent || node.innerHTML || "").replace(rcleanScript, ""));
            }
          }
        }
      }
      fragment = first = null;
    }
    return collection;
  }
  function remove(value, key, keepData) {
    var elem;
    var result = key ? jQuery.filter(key, value) : value;
    var i = 0;
    for (; null != (elem = result[i]); i++) {
      if (!(keepData || 1 !== elem.nodeType)) {
        jQuery.cleanData(getAll(elem));
      }
      if (elem.parentNode) {
        if (keepData && jQuery.contains(elem.ownerDocument, elem)) {
          setGlobalEval(getAll(elem, "script"));
        }
        elem.parentNode.removeChild(elem);
      }
    }
    return value;
  }
  function actualDisplay(name, doc) {
    var elem = jQuery(doc.createElement(name)).appendTo(doc.body);
    var style1 = jQuery.css(elem[0], "display");
    return elem.detach(), style1;
  }
  function defaultDisplay(nodeName) {
    var doc = document;
    var display = elemdisplay[nodeName];
    return display || ("none" !== (display = actualDisplay(nodeName, doc)) && display || ((doc = ((iframe = (iframe || jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement))[0].contentWindow || iframe[0].contentDocument).document).write(), doc.close(), display = actualDisplay(nodeName, doc), iframe.detach()), elemdisplay[nodeName] = display), display;
  }
  function addGetHookIf(conditionFn, hookFn) {
    return {
      get : function() {
        if (!conditionFn()) {
          return (this.get = hookFn).apply(this, arguments);
        }
        delete this.get;
      }
    };
  }
  function vendorPropName(name) {
    if (name in style) {
      return name;
    }
    var UserSelect = name.charAt(0).toUpperCase() + name.slice(1);
    var i = prefixes.length;
    for (; i--;) {
      if ((name = prefixes[i] + UserSelect) in style) {
        return name;
      }
    }
  }
  function showHide(elements, show) {
    var display;
    var elem;
    var hidden;
    var values = [];
    var index = 0;
    var length = elements.length;
    for (; index < length; index++) {
      if ((elem = elements[index]).style) {
        values[index] = jQuery._data(elem, "olddisplay");
        display = elem.style.display;
        if (show) {
          if (!(values[index] || "none" !== display)) {
            elem.style.display = "";
          }
          if ("" === elem.style.display && toggle(elem)) {
            values[index] = jQuery._data(elem, "olddisplay", defaultDisplay(elem.nodeName));
          }
        } else {
          hidden = toggle(elem);
          if (display && "none" !== display || !hidden) {
            jQuery._data(elem, "olddisplay", hidden ? display : jQuery.css(elem, "display"));
          }
        }
      }
    }
    index = 0;
    for (; index < length; index++) {
      if ((elem = elements[index]).style) {
        if (!(show && "none" !== elem.style.display && "" !== elem.style.display)) {
          elem.style.display = show ? values[index] || "" : "none";
        }
      }
    }
    return elements;
  }
  function setPositiveNumber(value, elem, type) {
    var transition = rnumsplit.exec(elem);
    return transition ? Math.max(0, transition[1] - (type || 0)) + (transition[2] || "px") : elem;
  }
  function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {
    var i = extra === (isBorderBox ? "border" : "content") ? 4 : "width" === name ? 1 : 0;
    var val = 0;
    for (; i < 4; i = i + 2) {
      if ("margin" === extra) {
        val = val + jQuery.css(elem, extra + cssExpand[i], true, styles);
      }
      if (isBorderBox) {
        if ("content" === extra) {
          val = val - jQuery.css(elem, "padding" + cssExpand[i], true, styles);
        }
        if ("margin" !== extra) {
          val = val - jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
        }
      } else {
        val = val + jQuery.css(elem, "padding" + cssExpand[i], true, styles);
        if ("padding" !== extra) {
          val = val + jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
        }
      }
    }
    return val;
  }
  function getWidthOrHeight(elem, name, extra) {
    var valueIsBorderBox = true;
    var val = "width" === name ? elem.offsetWidth : elem.offsetHeight;
    var styles = getStyles(elem);
    var isBorderBox = support.boxSizing && "border-box" === jQuery.css(elem, "boxSizing", false, styles);
    if (val <= 0 || null == val) {
      if (((val = curCSS(elem, name, styles)) < 0 || null == val) && (val = elem.style[name]), rnumnonpx.test(val)) {
        return val;
      }
      valueIsBorderBox = isBorderBox && (support.boxSizingReliable() || val === elem.style[name]);
      val = parseFloat(val) || 0;
    }
    return val + augmentWidthOrHeight(elem, name, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles) + "px";
  }
  function Tween(type, key, object, end, easing) {
    return new Tween.prototype.init(type, key, object, end, easing);
  }
  function createFxNow() {
    return window.setTimeout(function() {
      fxNow = void 0;
    }), fxNow = jQuery.now();
  }
  function genFx(type, includeWidth) {
    var which;
    var attrs = {
      height : type
    };
    var i = 0;
    includeWidth = includeWidth ? 1 : 0;
    for (; i < 4; i = i + (2 - includeWidth)) {
      attrs["margin" + (which = cssExpand[i])] = attrs["padding" + which] = type;
    }
    return includeWidth && (attrs.opacity = attrs.width = type), attrs;
  }
  function createTween(value, prop, animation) {
    var tween;
    var data = (Animation.tweeners[prop] || []).concat(Animation.tweeners["*"]);
    var i = 0;
    var nbElts = data.length;
    for (; i < nbElts; i++) {
      if (tween = data[i].call(animation, prop, value)) {
        return tween;
      }
    }
  }
  function Animation(elem, properties, options) {
    var result;
    var stopped;
    var index = 0;
    var ncells = Animation.prefilters.length;
    var deferred = jQuery.Deferred().always(function() {
      delete tick.elem;
    });
    var tick = function() {
      if (stopped) {
        return false;
      }
      var currentTime = fxNow || createFxNow();
      var remaining = Math.max(0, animation.startTime + animation.duration - currentTime);
      var percent = 1 - (remaining / animation.duration || 0);
      var i = 0;
      var length = animation.tweens.length;
      for (; i < length; i++) {
        animation.tweens[i].run(percent);
      }
      return deferred.notifyWith(elem, [animation, percent, remaining]), percent < 1 && length ? remaining : (deferred.resolveWith(elem, [animation]), false);
    };
    var animation = deferred.promise({
      elem : elem,
      props : jQuery.extend({}, properties),
      opts : jQuery.extend(true, {
        specialEasing : {},
        easing : jQuery.easing._default
      }, options),
      originalProperties : properties,
      originalOptions : options,
      startTime : fxNow || createFxNow(),
      duration : options.duration,
      tweens : [],
      createTween : function(name, value) {
        var result = jQuery.Tween(elem, animation.opts, name, value, animation.opts.specialEasing[name] || animation.opts.easing);
        return animation.tweens.push(result), result;
      },
      stop : function(gotoEnd) {
        var i = 0;
        var length = gotoEnd ? animation.tweens.length : 0;
        if (stopped) {
          return this;
        }
        stopped = true;
        for (; i < length; i++) {
          animation.tweens[i].run(1);
        }
        return gotoEnd ? (deferred.notifyWith(elem, [animation, 1, 0]), deferred.resolveWith(elem, [animation, gotoEnd])) : deferred.rejectWith(elem, [animation, gotoEnd]), this;
      }
    });
    var props = animation.props;
    !function(res, object) {
      var key;
      var name;
      var value;
      var obj;
      var hooks;
      for (key in res) {
        if (value = object[name = jQuery.camelCase(key)], obj = res[key], jQuery.isArray(obj) && (value = obj[1], obj = res[key] = obj[0]), key !== name && (res[name] = obj, delete res[key]), (hooks = jQuery.cssHooks[name]) && "expand" in hooks) {
          for (key in obj = hooks.expand(obj), delete res[name], obj) {
            if (!(key in res)) {
              res[key] = obj[key];
              object[key] = value;
            }
          }
        } else {
          object[name] = value;
        }
      }
    }(props, animation.opts.specialEasing);
    for (; index < ncells; index++) {
      if (result = Animation.prefilters[index].call(animation, elem, props, animation.opts)) {
        return jQuery.isFunction(result.stop) && (jQuery._queueHooks(animation.elem, animation.opts.queue).stop = jQuery.proxy(result.stop, result)), result;
      }
    }
    return jQuery.map(props, createTween, animation), jQuery.isFunction(animation.opts.start) && animation.opts.start.call(elem, animation), jQuery.fx.timer(jQuery.extend(tick, {
      elem : elem,
      anim : animation,
      queue : animation.opts.queue
    })), animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);
  }
  function getClass(value) {
    return jQuery.attr(value, "class") || "";
  }
  function addToPrefiltersOrTransports(structure) {
    return function(url, type) {
      if ("string" != typeof url) {
        type = url;
        url = "*";
      }
      var name;
      var callbackCount = 0;
      var callbackVals = url.toLowerCase().match(rnotwhite) || [];
      if (jQuery.isFunction(type)) {
        for (; name = callbackVals[callbackCount++];) {
          if ("+" === name.charAt(0)) {
            name = name.slice(1) || "*";
            (structure[name] = structure[name] || []).unshift(type);
          } else {
            (structure[name] = structure[name] || []).push(type);
          }
        }
      }
    };
  }
  function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
    function inspect(index) {
      var expectedProperty;
      return items[index] = true, jQuery.each(structure[index] || [], function(canCreateDiscussions, prefilterOrFactory) {
        var name = prefilterOrFactory(options, originalOptions, jqXHR);
        return "string" != typeof name || seekingTransport || items[name] ? seekingTransport ? !(expectedProperty = name) : void 0 : (options.dataTypes.unshift(name), inspect(name), false);
      }), expectedProperty;
    }
    var items = {};
    var seekingTransport = structure === transports;
    return inspect(options.dataTypes[0]) || !items["*"] && inspect("*");
  }
  function ajaxExtend(target, opts) {
    var deep;
    var key;
    var flatOptions = jQuery.ajaxSettings.flatOptions || {};
    for (key in opts) {
      if (void 0 !== opts[key]) {
        (flatOptions[key] ? target : deep || (deep = {}))[key] = opts[key];
      }
    }
    return deep && jQuery.extend(true, target, deep), target;
  }
  function getStyle(elem) {
    return elem.style && elem.style.display || jQuery.css(elem, "display");
  }
  function buildParams(prefix, obj, traditional, add) {
    var name;
    if (jQuery.isArray(obj)) {
      jQuery.each(obj, function(i, obj) {
        if (traditional || PATTERN_TAG_URI.test(prefix)) {
          add(prefix, obj);
        } else {
          buildParams(prefix + "[" + ("object" == typeof obj && null != obj ? i : "") + "]", obj, traditional, add);
        }
      });
    } else {
      if (traditional || "object" !== jQuery.type(obj)) {
        add(prefix, obj);
      } else {
        for (name in obj) {
          buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
        }
      }
    }
  }
  function createStandardXHR() {
    try {
      return new window.XMLHttpRequest;
    } catch (e) {
    }
  }
  function getNewXmlHttpRequest() {
    try {
      return new window.ActiveXObject("Microsoft.XMLHTTP");
    } catch (e) {
    }
  }
  function getWindow(elem) {
    return jQuery.isWindow(elem) ? elem : 9 === elem.nodeType && (elem.defaultView || elem.parentWindow);
  }
  var arr = [];
  var document = window.document;
  var slice = arr.slice;
  var concat = arr.concat;
  var push = arr.push;
  var indexOf = arr.indexOf;
  var class2type = {};
  var toString = class2type.toString;
  var hasOwn = class2type.hasOwnProperty;
  var support = {};
  var jQuery = function(selector, context) {
    return new jQuery.fn.init(selector, context);
  };
  var REGEX_ESCAPE_EXPR = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
  var rmsPrefix = /^-ms-/;
  var rdashAlpha = /-([\da-z])/gi;
  var camelCaseHandler = function(all, letter) {
    return letter.toUpperCase();
  };
  jQuery.fn = jQuery.prototype = {
    jquery : "1.12.4",
    constructor : jQuery,
    selector : "",
    length : 0,
    toArray : function() {
      return slice.call(this);
    },
    get : function(target) {
      return null != target ? target < 0 ? this[target + this.length] : this[target] : slice.call(this);
    },
    pushStack : function(selector) {
      var ret = jQuery.merge(this.constructor(), selector);
      return ret.prevObject = this, ret.context = this.context, ret;
    },
    each : function(data) {
      return jQuery.each(this, data);
    },
    map : function(fn) {
      return this.pushStack(jQuery.map(this, function(elem, event) {
        return fn.call(elem, event, elem);
      }));
    },
    slice : function() {
      return this.pushStack(slice.apply(this, arguments));
    },
    first : function() {
      return this.eq(0);
    },
    last : function() {
      return this.eq(-1);
    },
    eq : function(i) {
      var len = this.length;
      var j = +i + (i < 0 ? len : 0);
      return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
    },
    end : function() {
      return this.prevObject || this.constructor();
    },
    push : push,
    sort : arr.sort,
    splice : arr.splice
  };
  jQuery.extend = jQuery.fn.extend = function() {
    var src;
    var copyIsArray;
    var copy;
    var name;
    var options;
    var clone;
    var target = arguments[0] || {};
    var i = 1;
    var length = arguments.length;
    var deep = false;
    if ("boolean" == typeof target) {
      deep = target;
      target = arguments[i] || {};
      i++;
    }
    if (!("object" == typeof target || jQuery.isFunction(target))) {
      target = {};
    }
    if (i === length) {
      target = this;
      i--;
    }
    for (; i < length; i++) {
      if (null != (options = arguments[i])) {
        for (name in options) {
          src = target[name];
          if (target !== (copy = options[name])) {
            if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {
              if (copyIsArray) {
                copyIsArray = false;
                clone = src && jQuery.isArray(src) ? src : [];
              } else {
                clone = src && jQuery.isPlainObject(src) ? src : {};
              }
              target[name] = jQuery.extend(deep, clone, copy);
            } else {
              if (void 0 !== copy) {
                target[name] = copy;
              }
            }
          }
        }
      }
    }
    return target;
  };
  jQuery.extend({
    expando : "jQuery" + ("1.12.4" + Math.random()).replace(/\D/g, ""),
    isReady : true,
    error : function(type) {
      throw new Error(type);
    },
    noop : function() {
    },
    isFunction : function(obj) {
      return "function" === jQuery.type(obj);
    },
    isArray : Array.isArray || function(arr) {
      return "array" === jQuery.type(arr);
    },
    isWindow : function(obj) {
      return null != obj && obj == obj.window;
    },
    isNumeric : function(obj) {
      var realStringObj = obj && obj.toString();
      return !jQuery.isArray(obj) && realStringObj - parseFloat(realStringObj) + 1 >= 0;
    },
    isEmptyObject : function(obj) {
      var key;
      for (key in obj) {
        return false;
      }
      return true;
    },
    isPlainObject : function(o) {
      var key;
      if (!o || "object" !== jQuery.type(o) || o.nodeType || jQuery.isWindow(o)) {
        return false;
      }
      try {
        if (o.constructor && !hasOwn.call(o, "constructor") && !hasOwn.call(o.constructor.prototype, "isPrototypeOf")) {
          return false;
        }
      } catch (e) {
        return false;
      }
      if (!support.ownFirst) {
        for (key in o) {
          return hasOwn.call(o, key);
        }
      }
      for (key in o) {
      }
      return void 0 === key || hasOwn.call(o, key);
    },
    type : function(type) {
      return null == type ? type + "" : "object" == typeof type || "function" == typeof type ? class2type[toString.call(type)] || "object" : typeof type;
    },
    globalEval : function(data) {
      if (data && jQuery.trim(data)) {
        (window.execScript || function(data) {
          window.eval.call(window, data);
        })(data);
      }
    },
    camelCase : function(string) {
      return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, camelCaseHandler);
    },
    nodeName : function(elem, name) {
      return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
    },
    each : function(object, callback) {
      var aLength;
      var i = 0;
      if (isArrayLike(object)) {
        aLength = object.length;
        for (; i < aLength && false !== callback.call(object[i], i, object[i]); i++) {
        }
      } else {
        for (i in object) {
          if (false === callback.call(object[i], i, object[i])) {
            break;
          }
        }
      }
      return object;
    },
    trim : function(text) {
      return null == text ? "" : (text + "").replace(REGEX_ESCAPE_EXPR, "");
    },
    makeArray : function(arr, results) {
      var ret = results || [];
      return null != arr && (isArrayLike(Object(arr)) ? jQuery.merge(ret, "string" == typeof arr ? [arr] : arr) : push.call(ret, arr)), ret;
    },
    inArray : function(item, arr, i) {
      var len;
      if (arr) {
        if (indexOf) {
          return indexOf.call(arr, item, i);
        }
        len = arr.length;
        i = i ? i < 0 ? Math.max(0, len + i) : i : 0;
        for (; i < len; i++) {
          if (i in arr && arr[i] === item) {
            return i;
          }
        }
      }
      return -1;
    },
    merge : function(first, second) {
      var pos = +second.length;
      var j = 0;
      var i = first.length;
      for (; j < pos;) {
        first[i++] = second[j++];
      }
      if (pos != pos) {
        for (; void 0 !== second[j];) {
          first[i++] = second[j++];
        }
      }
      return first.length = i, first;
    },
    grep : function(elements, callback, invert) {
      var ret = [];
      var i = 0;
      var eL = elements.length;
      var callbackExpect = !invert;
      for (; i < eL; i++) {
        if (!callback(elements[i], i) !== callbackExpect) {
          ret.push(elements[i]);
        }
      }
      return ret;
    },
    map : function(obj, callback, type) {
      var l;
      var value;
      var i = 0;
      var array = [];
      if (isArrayLike(obj)) {
        l = obj.length;
        for (; i < l; i++) {
          if (null != (value = callback(obj[i], i, type))) {
            array.push(value);
          }
        }
      } else {
        for (i in obj) {
          if (null != (value = callback(obj[i], i, type))) {
            array.push(value);
          }
        }
      }
      return concat.apply([], array);
    },
    guid : 1,
    proxy : function(obj, type) {
      var headArgs;
      var proxyFn;
      var o;
      if ("string" == typeof type && (o = obj[type], type = obj, obj = o), jQuery.isFunction(obj)) {
        return headArgs = slice.call(arguments, 2), (proxyFn = function() {
          return obj.apply(type || this, headArgs.concat(slice.call(arguments)));
        }).guid = obj.guid = obj.guid || jQuery.guid++, proxyFn;
      }
    },
    now : function() {
      return +new Date;
    },
    support : support
  });
  if ("function" == typeof Symbol) {
    jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
  }
  jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(i, name) {
    class2type["[object " + name + "]"] = name.toLowerCase();
  });
  var Sizzle = function(window) {
    function Sizzle(selector, context, results, seed) {
      var m;
      var i;
      var elem;
      var nid;
      var nidselect;
      var match;
      var groups;
      var newSelector;
      var newContext = context && context.ownerDocument;
      var undefined = context ? context.nodeType : 9;
      if (results = results || [], "string" != typeof selector || !selector || 1 !== undefined && 9 !== undefined && 11 !== undefined) {
        return results;
      }
      if (!seed && ((context ? context.ownerDocument || context : preferredDoc) !== document && setDocument(context), context = context || document, documentIsHTML)) {
        if (11 !== undefined && (match = rquickExpr.exec(selector))) {
          if (m = match[1]) {
            if (9 === undefined) {
              if (!(elem = context.getElementById(m))) {
                return results;
              }
              if (elem.id === m) {
                return results.push(elem), results;
              }
            } else {
              if (newContext && (elem = newContext.getElementById(m)) && contains(context, elem) && elem.id === m) {
                return results.push(elem), results;
              }
            }
          } else {
            if (match[2]) {
              return push.apply(results, context.getElementsByTagName(selector)), results;
            }
            if ((m = match[3]) && support.getElementsByClassName && context.getElementsByClassName) {
              return push.apply(results, context.getElementsByClassName(m)), results;
            }
          }
        }
        if (support.qsa && !compilerCache[selector + " "] && (!rbuggyQSA || !rbuggyQSA.test(selector))) {
          if (1 !== undefined) {
            newContext = context;
            newSelector = selector;
          } else {
            if ("object" !== context.nodeName.toLowerCase()) {
              if (nid = context.getAttribute("id")) {
                nid = nid.replace(rescape, "\\$&");
              } else {
                context.setAttribute("id", nid = expando);
              }
              i = (groups = tokenize(selector)).length;
              nidselect = ridentifier.test(nid) ? "#" + nid : "[id='" + nid + "']";
              for (; i--;) {
                groups[i] = nidselect + " " + toSelector(groups[i]);
              }
              newSelector = groups.join(",");
              newContext = rsibling.test(selector) && testContext(context.parentNode) || context;
            }
          }
          if (newSelector) {
            try {
              return push.apply(results, newContext.querySelectorAll(newSelector)), results;
            } catch (qsaError) {
            } finally {
              if (nid === expando) {
                context.removeAttribute("id");
              }
            }
          }
        }
      }
      return select(selector.replace(rtrim, "$1"), context, results, seed);
    }
    function createCache() {
      var buf = [];
      return function cache(key, value) {
        return buf.push(key + " ") > Expr.cacheLength && delete cache[buf.shift()], cache[key + " "] = value;
      };
    }
    function markFunction(fn) {
      return fn[expando] = true, fn;
    }
    function assert(fn) {
      var div = document.createElement("div");
      try {
        return !!fn(div);
      } catch (e) {
        return false;
      } finally {
        if (div.parentNode) {
          div.parentNode.removeChild(div);
        }
        div = null;
      }
    }
    function addHandle(attrs, handler) {
      var arr = attrs.split("|");
      var i = arr.length;
      for (; i--;) {
        Expr.attrHandle[arr[i]] = handler;
      }
    }
    function siblingCheck(a, b) {
      var cur = b && a;
      var diff = cur && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);
      if (diff) {
        return diff;
      }
      if (cur) {
        for (; cur = cur.nextSibling;) {
          if (cur === b) {
            return -1;
          }
        }
      }
      return a ? 1 : -1;
    }
    function createInputPseudo(type) {
      return function(elem) {
        return "input" === elem.nodeName.toLowerCase() && elem.type === type;
      };
    }
    function createButtonPseudo(type) {
      return function(elem) {
        var undefined = elem.nodeName.toLowerCase();
        return ("input" === undefined || "button" === undefined) && elem.type === type;
      };
    }
    function createPositionalPseudo(fn) {
      return markFunction(function(argument) {
        return argument = +argument, markFunction(function(s, attr) {
          var j;
          var matchIndexes = fn([], s.length, argument);
          var i = matchIndexes.length;
          for (; i--;) {
            if (s[j = matchIndexes[i]]) {
              s[j] = !(attr[j] = s[j]);
            }
          }
        });
      });
    }
    function testContext(context) {
      return context && void 0 !== context.getElementsByTagName && context;
    }
    function setFilters() {
    }
    function toSelector(tokens) {
      var i = 0;
      var numTokens = tokens.length;
      var selector = "";
      for (; i < numTokens; i++) {
        selector = selector + tokens[i].value;
      }
      return selector;
    }
    function addCombinator(matcher, combinator, base) {
      var dir = combinator.dir;
      var checkNonElements = base && "parentNode" === dir;
      var doneName = done++;
      return combinator.first ? function(elem, stat, context) {
        for (; elem = elem[dir];) {
          if (1 === elem.nodeType || checkNonElements) {
            return matcher(elem, stat, context);
          }
        }
      } : function(elem, context, xml) {
        var oldCache;
        var _base;
        var outerCache;
        var newCache = [dirruns, doneName];
        if (xml) {
          for (; elem = elem[dir];) {
            if ((1 === elem.nodeType || checkNonElements) && matcher(elem, context, xml)) {
              return true;
            }
          }
        } else {
          for (; elem = elem[dir];) {
            if (1 === elem.nodeType || checkNonElements) {
              if ((oldCache = (_base = (outerCache = elem[expando] || (elem[expando] = {}))[elem.uniqueID] || (outerCache[elem.uniqueID] = {}))[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {
                return newCache[2] = oldCache[2];
              }
              if (_base[dir] = newCache, newCache[2] = matcher(elem, context, xml)) {
                return true;
              }
            }
          }
        }
      };
    }
    function elementMatcher(matchers) {
      return matchers.length > 1 ? function(elem, context, xml) {
        var i = matchers.length;
        for (; i--;) {
          if (!matchers[i](elem, context, xml)) {
            return false;
          }
        }
        return true;
      } : matchers[0];
    }
    function condense(map, name, filter, context, xml) {
      var m;
      var output = [];
      var j = 0;
      var mapWidth = map.length;
      var nameChanges = null != name;
      for (; j < mapWidth; j++) {
        if (m = map[j]) {
          if (!(filter && !filter(m, context, xml))) {
            output.push(m);
            if (nameChanges) {
              name.push(j);
            }
          }
        }
      }
      return output;
    }
    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
      return postFilter && !postFilter[expando] && (postFilter = setMatcher(postFilter)), postFinder && !postFinder[expando] && (postFinder = setMatcher(postFinder, postSelector)), markFunction(function(seed, results, context, xml) {
        var temp;
        var i;
        var elem;
        var preMap = [];
        var postMap = [];
        var preexisting = results.length;
        var elems = seed || function(selector, set, results) {
          var i = 0;
          var l = set.length;
          for (; i < l; i++) {
            Sizzle(selector, set[i], results);
          }
          return results;
        }(selector || "*", context.nodeType ? [context] : context, []);
        var matcherIn = !preFilter || !seed && selector ? elems : condense(elems, preMap, preFilter, context, xml);
        var data = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;
        if (matcher && matcher(matcherIn, data, context, xml), postFilter) {
          temp = condense(data, postMap);
          postFilter(temp, [], context, xml);
          i = temp.length;
          for (; i--;) {
            if (elem = temp[i]) {
              data[postMap[i]] = !(matcherIn[postMap[i]] = elem);
            }
          }
        }
        if (seed) {
          if (postFinder || preFilter) {
            if (postFinder) {
              temp = [];
              i = data.length;
              for (; i--;) {
                if (elem = data[i]) {
                  temp.push(matcherIn[i] = elem);
                }
              }
              postFinder(null, data = [], temp, xml);
            }
            i = data.length;
            for (; i--;) {
              if ((elem = data[i]) && (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {
                seed[temp] = !(results[temp] = elem);
              }
            }
          }
        } else {
          data = condense(data === results ? data.splice(preexisting, data.length) : data);
          if (postFinder) {
            postFinder(null, results, data, xml);
          } else {
            push.apply(results, data);
          }
        }
      });
    }
    function matcherFromTokens(tokens) {
      var checkContext;
      var matcher;
      var j;
      var len = tokens.length;
      var leadingRelative = Expr.relative[tokens[0].type];
      var implicitRelative = leadingRelative || Expr.relative[" "];
      var i = leadingRelative ? 1 : 0;
      var matchContext = addCombinator(function(elem) {
        return elem === checkContext;
      }, implicitRelative, true);
      var matchAnyContext = addCombinator(function(value) {
        return indexOf(checkContext, value) > -1;
      }, implicitRelative, true);
      var matchers = [function(elem, context, xml) {
        var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));
        return checkContext = null, ret;
      }];
      for (; i < len; i++) {
        if (matcher = Expr.relative[tokens[i].type]) {
          matchers = [addCombinator(elementMatcher(matchers), matcher)];
        } else {
          if ((matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches))[expando]) {
            j = ++i;
            for (; j < len && !Expr.relative[tokens[j].type]; j++) {
            }
            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({
              value : " " === tokens[i - 2].type ? "*" : ""
            })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));
          }
          matchers.push(matcher);
        }
      }
      return elementMatcher(matchers);
    }
    var i;
    var support;
    var Expr;
    var getText;
    var isXML;
    var tokenize;
    var compile;
    var select;
    var outermostContext;
    var sortInput;
    var gotThis;
    var setDocument;
    var document;
    var docElem;
    var documentIsHTML;
    var rbuggyQSA;
    var rbuggyMatches;
    var matches;
    var contains;
    var expando = "sizzle" + 1 * new Date;
    var preferredDoc = window.document;
    var dirruns = 0;
    var done = 0;
    var classCache = createCache();
    var tokenCache = createCache();
    var compilerCache = createCache();
    var sortOrder = function(i, a) {
      return i === a && (gotThis = true), 0;
    };
    var MAX_NEGATIVE = 1 << 31;
    var hasOwn = {}.hasOwnProperty;
    var arr = [];
    var pop = arr.pop;
    var push_native = arr.push;
    var push = arr.push;
    var slice = arr.slice;
    var indexOf = function(list, value) {
      var i = 0;
      var listLength = list.length;
      for (; i < listLength; i++) {
        if (list[i] === value) {
          return i;
        }
      }
      return -1;
    };
    var value = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped";
    var whitespace = "[\\x20\\t\\r\\n\\f]";
    var identifier = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+";
    var attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace + "*([*^$|!~]?=)" + whitespace + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace + "*\\]";
    var pseudos = ":(" + identifier + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|.*)\\)|)";
    var entityEscapeRegExp = new RegExp(whitespace + "+", "g");
    var rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g");
    var chunker = new RegExp("^" + whitespace + "*," + whitespace + "*");
    var rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*");
    var rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g");
    var rpseudo = new RegExp(pseudos);
    var ridentifier = new RegExp("^" + identifier + "$");
    var matchExpr = {
      ID : new RegExp("^#(" + identifier + ")"),
      CLASS : new RegExp("^\\.(" + identifier + ")"),
      TAG : new RegExp("^(" + identifier + "|[*])"),
      ATTR : new RegExp("^" + attributes),
      PSEUDO : new RegExp("^" + pseudos),
      CHILD : new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
      bool : new RegExp("^(?:" + value + ")$", "i"),
      needsContext : new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
    };
    var rnoType = /^(?:input|select|textarea|button)$/i;
    var rheader = /^h\d$/i;
    var rnative = /^[^{]+\{\s*\[native \w/;
    var rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/;
    var rsibling = /[+~]/;
    var rescape = /'|\\/g;
    var runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig");
    var funescape = function(_, escaped, escapedWhitespace) {
      var c = "0x" + escaped - 65536;
      return c != c || escapedWhitespace ? escaped : c < 0 ? String.fromCharCode(c + 65536) : String.fromCharCode(c >> 10 | 55296, 1023 & c | 56320);
    };
    var unloadHandler = function() {
      setDocument();
    };
    try {
      push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes);
      arr[preferredDoc.childNodes.length].nodeType;
    } catch (e) {
      push = {
        apply : arr.length ? function(target, input) {
          push_native.apply(target, slice.call(input));
        } : function(target, input) {
          var j = target.length;
          var i = 0;
          for (; target[j++] = input[i++];) {
          }
          target.length = j - 1;
        }
      };
    }
    for (i in support = Sizzle.support = {}, isXML = Sizzle.isXML = function(elem) {
      var documentElement = elem && (elem.ownerDocument || elem).documentElement;
      return !!documentElement && "HTML" !== documentElement.nodeName;
    }, setDocument = Sizzle.setDocument = function(node) {
      var hasCompare;
      var parent;
      var doc = node ? node.ownerDocument || node : preferredDoc;
      return doc !== document && 9 === doc.nodeType && doc.documentElement ? (docElem = (document = doc).documentElement, documentIsHTML = !isXML(document), (parent = document.defaultView) && parent.top !== parent && (parent.addEventListener ? parent.addEventListener("unload", unloadHandler, false) : parent.attachEvent && parent.attachEvent("onunload", unloadHandler)), support.attributes = assert(function(div) {
        return div.className = "i", !div.getAttribute("className");
      }), support.getElementsByTagName = assert(function(testee) {
        return testee.appendChild(document.createComment("")), !testee.getElementsByTagName("*").length;
      }), support.getElementsByClassName = rnative.test(document.getElementsByClassName), support.getById = assert(function(body) {
        return docElem.appendChild(body).id = expando, !document.getElementsByName || !document.getElementsByName(expando).length;
      }), support.getById ? (Expr.find.ID = function(elem, context) {
        if (void 0 !== context.getElementById && documentIsHTML) {
          var val = context.getElementById(elem);
          return val ? [val] : [];
        }
      }, Expr.filter.ID = function(id) {
        var attrId = id.replace(runescape, funescape);
        return function(elem) {
          return elem.getAttribute("id") === attrId;
        };
      }) : (delete Expr.find.ID, Expr.filter.ID = function(id) {
        var attrId = id.replace(runescape, funescape);
        return function(elem) {
          var node = void 0 !== elem.getAttributeNode && elem.getAttributeNode("id");
          return node && node.value === attrId;
        };
      }), Expr.find.TAG = support.getElementsByTagName ? function(v, context) {
        return void 0 !== context.getElementsByTagName ? context.getElementsByTagName(v) : support.qsa ? context.querySelectorAll(v) : void 0;
      } : function(selector, document) {
        var elem;
        var tmp = [];
        var i = 0;
        var results = document.getElementsByTagName(selector);
        if ("*" === selector) {
          for (; elem = results[i++];) {
            if (1 === elem.nodeType) {
              tmp.push(elem);
            }
          }
          return tmp;
        }
        return results;
      }, Expr.find.CLASS = support.getElementsByClassName && function(string, context) {
        if (void 0 !== context.getElementsByClassName && documentIsHTML) {
          return context.getElementsByClassName(string);
        }
      }, rbuggyMatches = [], rbuggyQSA = [], (support.qsa = rnative.test(document.querySelectorAll)) && (assert(function(container) {
        docElem.appendChild(container).innerHTML = "<a id='" + expando + "'></a><select id='" + expando + "-\r\\' msallowcapture=''><option selected=''></option></select>";
        if (container.querySelectorAll("[msallowcapture^='']").length) {
          rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")");
        }
        if (!container.querySelectorAll("[selected]").length) {
          rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + value + ")");
        }
        if (!container.querySelectorAll("[id~=" + expando + "-]").length) {
          rbuggyQSA.push("~=");
        }
        if (!container.querySelectorAll(":checked").length) {
          rbuggyQSA.push(":checked");
        }
        if (!container.querySelectorAll("a#" + expando + "+*").length) {
          rbuggyQSA.push(".#.+[+~]");
        }
      }), assert(function(div) {
        var element = document.createElement("input");
        element.setAttribute("type", "hidden");
        div.appendChild(element).setAttribute("name", "D");
        if (div.querySelectorAll("[name=d]").length) {
          rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?=");
        }
        if (!div.querySelectorAll(":enabled").length) {
          rbuggyQSA.push(":enabled", ":disabled");
        }
        div.querySelectorAll("*,:x");
        rbuggyQSA.push(",.*:");
      })), (support.matchesSelector = rnative.test(matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)) && assert(function(el) {
        support.disconnectedMatch = matches.call(el, "div");
        matches.call(el, "[s!='']:x");
        rbuggyMatches.push("!=", pseudos);
      }), rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|")), rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|")), hasCompare = rnative.test(docElem.compareDocumentPosition), contains = hasCompare || rnative.test(docElem.contains) ? function(elem, node) {
        var cache = 9 === elem.nodeType ? elem.documentElement : elem;
        var parent = node && node.parentNode;
        return elem === parent || !(!parent || 1 !== parent.nodeType || !(cache.contains ? cache.contains(parent) : elem.compareDocumentPosition && 16 & elem.compareDocumentPosition(parent)));
      } : function(a, b) {
        if (b) {
          for (; b = b.parentNode;) {
            if (b === a) {
              return true;
            }
          }
        }
        return false;
      }, sortOrder = hasCompare ? function(a, b) {
        if (a === b) {
          return gotThis = true, 0;
        }
        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
        return compare || (1 & (compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1) || !support.sortDetached && b.compareDocumentPosition(a) === compare ? a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ? -1 : b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0 : 4 & compare ? -1 : 1);
      } : function(a, b) {
        if (a === b) {
          return gotThis = true, 0;
        }
        var cur;
        var i = 0;
        var aup = a.parentNode;
        var bup = b.parentNode;
        var ap = [a];
        var bp = [b];
        if (!aup || !bup) {
          return a === document ? -1 : b === document ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0;
        }
        if (aup === bup) {
          return siblingCheck(a, b);
        }
        cur = a;
        for (; cur = cur.parentNode;) {
          ap.unshift(cur);
        }
        cur = b;
        for (; cur = cur.parentNode;) {
          bp.unshift(cur);
        }
        for (; ap[i] === bp[i];) {
          i++;
        }
        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;
      }, document) : document;
    }, Sizzle.matches = function(selector, elements) {
      return Sizzle(selector, null, null, elements);
    }, Sizzle.matchesSelector = function(elem, expr) {
      if ((elem.ownerDocument || elem) !== document && setDocument(elem), expr = expr.replace(rattributeQuotes, "='$1']"), support.matchesSelector && documentIsHTML && !compilerCache[expr + " "] && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {
        try {
          var ret = matches.call(elem, expr);
          if (ret || support.disconnectedMatch || elem.document && 11 !== elem.document.nodeType) {
            return ret;
          }
        } catch (e) {
        }
      }
      return Sizzle(expr, document, null, [elem]).length > 0;
    }, Sizzle.contains = function(context, selector) {
      return (context.ownerDocument || context) !== document && setDocument(context), contains(context, selector);
    }, Sizzle.attr = function(elem, name) {
      if ((elem.ownerDocument || elem) !== document) {
        setDocument(elem);
      }
      var fn = Expr.attrHandle[name.toLowerCase()];
      var val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : void 0;
      return void 0 !== val ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
    }, Sizzle.error = function(type) {
      throw new Error("Syntax error, unrecognized expression: " + type);
    }, Sizzle.uniqueSort = function(results) {
      var elem;
      var duplicates = [];
      var j = 0;
      var i = 0;
      if (gotThis = !support.detectDuplicates, sortInput = !support.sortStable && results.slice(0), results.sort(sortOrder), gotThis) {
        for (; elem = results[i++];) {
          if (elem === results[i]) {
            j = duplicates.push(i);
          }
        }
        for (; j--;) {
          results.splice(duplicates[j], 1);
        }
      }
      return sortInput = null, results;
    }, getText = Sizzle.getText = function(type) {
      var c;
      var result = "";
      var n = 0;
      var t = type.nodeType;
      if (t) {
        if (1 === t || 9 === t || 11 === t) {
          if ("string" == typeof type.textContent) {
            return type.textContent;
          }
          type = type.firstChild;
          for (; type; type = type.nextSibling) {
            result = result + getText(type);
          }
        } else {
          if (3 === t || 4 === t) {
            return type.nodeValue;
          }
        }
      } else {
        for (; c = type[n++];) {
          result = result + getText(c);
        }
      }
      return result;
    }, (Expr = Sizzle.selectors = {
      cacheLength : 50,
      createPseudo : markFunction,
      match : matchExpr,
      attrHandle : {},
      find : {},
      relative : {
        ">" : {
          dir : "parentNode",
          first : true
        },
        " " : {
          dir : "parentNode"
        },
        "+" : {
          dir : "previousSibling",
          first : true
        },
        "~" : {
          dir : "previousSibling"
        }
      },
      preFilter : {
        ATTR : function(match) {
          return match[1] = match[1].replace(runescape, funescape), match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape), "~=" === match[2] && (match[3] = " " + match[3] + " "), match.slice(0, 4);
        },
        CHILD : function(match) {
          return match[1] = match[1].toLowerCase(), "nth" === match[1].slice(0, 3) ? (match[3] || Sizzle.error(match[0]), match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * ("even" === match[3] || "odd" === match[3])), match[5] = +(match[7] + match[8] || "odd" === match[3])) : match[3] && Sizzle.error(match[0]), match;
        },
        PSEUDO : function(match) {
          var excess;
          var unquoted = !match[6] && match[2];
          return matchExpr.CHILD.test(match[0]) ? null : (match[3] ? match[2] = match[4] || match[5] || "" : unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length) && (match[0] = match[0].slice(0, excess), match[2] = unquoted.slice(0, excess)), match.slice(0, 3));
        }
      },
      filter : {
        TAG : function(nodeNameSelector) {
          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
          return "*" === nodeNameSelector ? function() {
            return true;
          } : function(elem) {
            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
          };
        },
        CLASS : function(className) {
          var pattern = classCache[className + " "];
          return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function(elem) {
            return pattern.test("string" == typeof elem.className && elem.className || void 0 !== elem.getAttribute && elem.getAttribute("class") || "");
          });
        },
        ATTR : function(name, string, value) {
          return function(elem) {
            var key = Sizzle.attr(elem, name);
            return null == key ? "!=" === string : !string || (key = key + "", "=" === string ? key === value : "!=" === string ? key !== value : "^=" === string ? value && 0 === key.indexOf(value) : "*=" === string ? value && key.indexOf(value) > -1 : "$=" === string ? value && key.slice(-value.length) === value : "~=" === string ? (" " + key.replace(entityEscapeRegExp, " ") + " ").indexOf(value) > -1 : "|=" === string && (key === value || key.slice(0, value.length + 1) === value + "-"));
          };
        },
        CHILD : function(type, what, argument, first, last) {
          var simple = "nth" !== type.slice(0, 3);
          var forward = "last" !== type.slice(-4);
          var ofType = "of-type" === what;
          return 1 === first && 0 === last ? function(elem) {
            return !!elem.parentNode;
          } : function(elem, context, xml) {
            var cache;
            var uniqueCache;
            var outerCache;
            var node;
            var nodeIndex;
            var start;
            var dir = simple !== forward ? "nextSibling" : "previousSibling";
            var parent = elem.parentNode;
            var name = ofType && elem.nodeName.toLowerCase();
            var useCache = !xml && !ofType;
            var diff = false;
            if (parent) {
              if (simple) {
                for (; dir;) {
                  node = elem;
                  for (; node = node[dir];) {
                    if (ofType ? node.nodeName.toLowerCase() === name : 1 === node.nodeType) {
                      return false;
                    }
                  }
                  start = dir = "only" === type && !start && "nextSibling";
                }
                return true;
              }
              if (start = [forward ? parent.firstChild : parent.lastChild], forward && useCache) {
                diff = (nodeIndex = (cache = (uniqueCache = (outerCache = (node = parent)[expando] || (node[expando] = {}))[node.uniqueID] || (outerCache[node.uniqueID] = {}))[type] || [])[0] === dirruns && cache[1]) && cache[2];
                node = nodeIndex && parent.childNodes[nodeIndex];
                for (; node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop();) {
                  if (1 === node.nodeType && ++diff && node === elem) {
                    uniqueCache[type] = [dirruns, nodeIndex, diff];
                    break;
                  }
                }
              } else {
                if (useCache && (diff = nodeIndex = (cache = (uniqueCache = (outerCache = (node = elem)[expando] || (node[expando] = {}))[node.uniqueID] || (outerCache[node.uniqueID] = {}))[type] || [])[0] === dirruns && cache[1]), false === diff) {
                  for (; (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) && ((ofType ? node.nodeName.toLowerCase() !== name : 1 !== node.nodeType) || !++diff || (useCache && ((uniqueCache = (outerCache = node[expando] || (node[expando] = {}))[node.uniqueID] || (outerCache[node.uniqueID] = {}))[type] = [dirruns, diff]), node !== elem));) {
                  }
                }
              }
              return (diff = diff - last) === first || diff % first == 0 && diff / first >= 0;
            }
          };
        },
        PSEUDO : function(pseudo, argument) {
          var args;
          var fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo);
          return fn[expando] ? fn(argument) : fn.length > 1 ? (args = [pseudo, pseudo, "", argument], Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function(seed, result) {
            var j;
            var matched = fn(seed, argument);
            var i = matched.length;
            for (; i--;) {
              seed[j = indexOf(seed, matched[i])] = !(result[j] = matched[i]);
            }
          }) : function(responce) {
            return fn(responce, 0, args);
          }) : fn;
        }
      },
      pseudos : {
        not : markFunction(function(selector) {
          var a = [];
          var results = [];
          var matcher = compile(selector.replace(rtrim, "$1"));
          return matcher[expando] ? markFunction(function(seed, results, context, xml) {
            var elem;
            var unmatched = matcher(seed, null, xml, []);
            var i = seed.length;
            for (; i--;) {
              if (elem = unmatched[i]) {
                seed[i] = !(results[i] = elem);
              }
            }
          }) : function(sNewObjName, mmCoreSecondsYear, context) {
            return a[0] = sNewObjName, matcher(a, null, context, results), a[0] = null, !results.pop();
          };
        }),
        has : markFunction(function(selector) {
          return function(elem) {
            return Sizzle(selector, elem).length > 0;
          };
        }),
        contains : markFunction(function(text) {
          return text = text.replace(runescape, funescape), function(elem) {
            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;
          };
        }),
        lang : markFunction(function(lang) {
          return ridentifier.test(lang || "") || Sizzle.error("unsupported lang: " + lang), lang = lang.replace(runescape, funescape).toLowerCase(), function(elem) {
            var elemLang;
            do {
              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang")) {
                return (elemLang = elemLang.toLowerCase()) === lang || 0 === elemLang.indexOf(lang + "-");
              }
            } while ((elem = elem.parentNode) && 1 === elem.nodeType);
            return false;
          };
        }),
        target : function(type) {
          var charListNotLatin = window.location && window.location.hash;
          return charListNotLatin && charListNotLatin.slice(1) === type.id;
        },
        root : function(elem) {
          return elem === docElem;
        },
        focus : function(type) {
          return type === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(type.type || type.href || ~type.tabIndex);
        },
        enabled : function(elem) {
          return false === elem.disabled;
        },
        disabled : function(elem) {
          return true === elem.disabled;
        },
        checked : function(type) {
          var custom = type.nodeName.toLowerCase();
          return "input" === custom && !!type.checked || "option" === custom && !!type.selected;
        },
        selected : function(elem) {
          return elem.parentNode && elem.parentNode.selectedIndex, true === elem.selected;
        },
        empty : function(type) {
          type = type.firstChild;
          for (; type; type = type.nextSibling) {
            if (type.nodeType < 6) {
              return false;
            }
          }
          return true;
        },
        parent : function(type) {
          return !Expr.pseudos.empty(type);
        },
        header : function(elem) {
          return rheader.test(elem.nodeName);
        },
        input : function(elem) {
          return rnoType.test(elem.nodeName);
        },
        button : function(type) {
          var left = type.nodeName.toLowerCase();
          return "input" === left && "button" === type.type || "button" === left;
        },
        text : function(type) {
          var EXT;
          return "input" === type.nodeName.toLowerCase() && "text" === type.type && (null == (EXT = type.getAttribute("type")) || "text" === EXT.toLowerCase());
        },
        first : createPositionalPseudo(function() {
          return [0];
        }),
        last : createPositionalPseudo(function(matchIndexes, canCreateDiscussions) {
          return [canCreateDiscussions - 1];
        }),
        eq : createPositionalPseudo(function(matchIndexes, length, argument) {
          return [argument < 0 ? argument + length : argument];
        }),
        even : createPositionalPseudo(function(p_collection, maxResolutionCount) {
          var i = 0;
          for (; i < maxResolutionCount; i = i + 2) {
            p_collection.push(i);
          }
          return p_collection;
        }),
        odd : createPositionalPseudo(function(p_collection, maxResolutionCount) {
          var i = 1;
          for (; i < maxResolutionCount; i = i + 2) {
            p_collection.push(i);
          }
          return p_collection;
        }),
        lt : createPositionalPseudo(function(lightInstances, j, i) {
          var index = i < 0 ? i + j : i;
          for (; --index >= 0;) {
            lightInstances.push(index);
          }
          return lightInstances;
        }),
        gt : createPositionalPseudo(function(p_collection, length, argument) {
          var i = argument < 0 ? argument + length : argument;
          for (; ++i < length;) {
            p_collection.push(i);
          }
          return p_collection;
        })
      }
    }).pseudos.nth = Expr.pseudos.eq, {
      radio : true,
      checkbox : true,
      file : true,
      password : true,
      image : true
    }) {
      Expr.pseudos[i] = createInputPseudo(i);
    }
    for (i in{
      submit : true,
      reset : true
    }) {
      Expr.pseudos[i] = createButtonPseudo(i);
    }
    return setFilters.prototype = Expr.filters = Expr.pseudos, Expr.setFilters = new setFilters, tokenize = Sizzle.tokenize = function(selector, parseOnly) {
      var matched;
      var match;
      var tokens;
      var type;
      var soFar;
      var groups;
      var preFilters;
      var cached = tokenCache[selector + " "];
      if (cached) {
        return parseOnly ? 0 : cached.slice(0);
      }
      soFar = selector;
      groups = [];
      preFilters = Expr.preFilter;
      for (; soFar;) {
        for (type in matched && !(match = chunker.exec(soFar)) || (match && (soFar = soFar.slice(match[0].length) || soFar), groups.push(tokens = [])), matched = false, (match = rcombinators.exec(soFar)) && (matched = match.shift(), tokens.push({
          value : matched,
          type : match[0].replace(rtrim, " ")
        }), soFar = soFar.slice(matched.length)), Expr.filter) {
          if (!(!(match = matchExpr[type].exec(soFar)) || preFilters[type] && !(match = preFilters[type](match)))) {
            matched = match.shift();
            tokens.push({
              value : matched,
              type : type,
              matches : match
            });
            soFar = soFar.slice(matched.length);
          }
        }
        if (!matched) {
          break;
        }
      }
      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);
    }, compile = Sizzle.compile = function(selector, group) {
      var i;
      var setMatchers = [];
      var elementMatchers = [];
      var cached = compilerCache[selector + " "];
      if (!cached) {
        if (!group) {
          group = tokenize(selector);
        }
        i = group.length;
        for (; i--;) {
          if ((cached = matcherFromTokens(group[i]))[expando]) {
            setMatchers.push(cached);
          } else {
            elementMatchers.push(cached);
          }
        }
        (cached = compilerCache(selector, function(elementMatchers, setMatchers) {
          var bySet = setMatchers.length > 0;
          var byElement = elementMatchers.length > 0;
          var superMatcher = function(seed, context, xml, results, outermost) {
            var elem;
            var j;
            var matcher;
            var matchedCount = 0;
            var i = "0";
            var unmatched = seed && [];
            var data = [];
            var contextBackup = outermostContext;
            var elems = seed || byElement && Expr.find.TAG("*", outermost);
            var dirrunsUnique = dirruns = dirruns + (null == contextBackup ? 1 : Math.random() || .1);
            var length = elems.length;
            if (outermost) {
              outermostContext = context === document || context || outermost;
            }
            for (; i !== length && null != (elem = elems[i]); i++) {
              if (byElement && elem) {
                j = 0;
                if (!(context || elem.ownerDocument === document)) {
                  setDocument(elem);
                  xml = !documentIsHTML;
                }
                for (; matcher = elementMatchers[j++];) {
                  if (matcher(elem, context || document, xml)) {
                    results.push(elem);
                    break;
                  }
                }
                if (outermost) {
                  dirruns = dirrunsUnique;
                }
              }
              if (bySet) {
                if (elem = !matcher && elem) {
                  matchedCount--;
                }
                if (seed) {
                  unmatched.push(elem);
                }
              }
            }
            if (matchedCount = matchedCount + i, bySet && i !== matchedCount) {
              j = 0;
              for (; matcher = setMatchers[j++];) {
                matcher(unmatched, data, context, xml);
              }
              if (seed) {
                if (matchedCount > 0) {
                  for (; i--;) {
                    if (!(unmatched[i] || data[i])) {
                      data[i] = pop.call(results);
                    }
                  }
                }
                data = condense(data);
              }
              push.apply(results, data);
              if (outermost && !seed && data.length > 0 && matchedCount + setMatchers.length > 1) {
                Sizzle.uniqueSort(results);
              }
            }
            return outermost && (dirruns = dirrunsUnique, outermostContext = contextBackup), unmatched;
          };
          return bySet ? markFunction(superMatcher) : superMatcher;
        }(elementMatchers, setMatchers))).selector = selector;
      }
      return cached;
    }, select = Sizzle.select = function(selector, context, results, seed) {
      var i;
      var tokens;
      var token;
      var type;
      var find;
      var compiled = "function" == typeof selector && selector;
      var match = !seed && tokenize(selector = compiled.selector || selector);
      if (results = results || [], 1 === match.length) {
        if ((tokens = match[0] = match[0].slice(0)).length > 2 && "ID" === (token = tokens[0]).type && support.getById && 9 === context.nodeType && documentIsHTML && Expr.relative[tokens[1].type]) {
          if (!(context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0])) {
            return results;
          }
          if (compiled) {
            context = context.parentNode;
          }
          selector = selector.slice(tokens.shift().value.length);
        }
        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;
        for (; i-- && (token = tokens[i], !Expr.relative[type = token.type]);) {
          if ((find = Expr.find[type]) && (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context))) {
            if (tokens.splice(i, 1), !(selector = seed.length && toSelector(tokens))) {
              return push.apply(results, seed), results;
            }
            break;
          }
        }
      }
      return (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context), results;
    }, support.sortStable = expando.split("").sort(sortOrder).join("") === expando, support.detectDuplicates = !!gotThis, setDocument(), support.sortDetached = assert(function(div1) {
      return 1 & div1.compareDocumentPosition(document.createElement("div"));
    }), assert(function(div) {
      return div.innerHTML = "<a href='#'></a>", "#" === div.firstChild.getAttribute("href");
    }) || addHandle("type|href|height|width", function(elem, name, isXML) {
      if (!isXML) {
        return elem.getAttribute(name, "type" === name.toLowerCase() ? 1 : 2);
      }
    }), support.attributes && assert(function(div) {
      return div.innerHTML = "<input/>", div.firstChild.setAttribute("value", ""), "" === div.firstChild.getAttribute("value");
    }) || addHandle("value", function(elem, name, isXML) {
      if (!isXML && "input" === elem.nodeName.toLowerCase()) {
        return elem.defaultValue;
      }
    }), assert(function(div) {
      return null == div.getAttribute("disabled");
    }) || addHandle(value, function(elem, name, isXML) {
      var val;
      if (!isXML) {
        return true === elem[name] ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
      }
    }), Sizzle;
  }(window);
  jQuery.find = Sizzle;
  jQuery.expr = Sizzle.selectors;
  jQuery.expr[":"] = jQuery.expr.pseudos;
  jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
  jQuery.text = Sizzle.getText;
  jQuery.isXMLDoc = Sizzle.isXML;
  jQuery.contains = Sizzle.contains;
  var dir = function(elem, dir, until) {
    var matched = [];
    var truncate = void 0 !== until;
    for (; (elem = elem[dir]) && 9 !== elem.nodeType;) {
      if (1 === elem.nodeType) {
        if (truncate && jQuery(elem).is(until)) {
          break;
        }
        matched.push(elem);
      }
    }
    return matched;
  };
  var _sibling = function(node, elem) {
    var result = [];
    for (; node; node = node.nextSibling) {
      if (1 === node.nodeType && node !== elem) {
        result.push(node);
      }
    }
    return result;
  };
  var RE_HTMLTAG = jQuery.expr.match.needsContext;
  var rsingleTag = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;
  var trueRE = /^.[^:#\[\.,]*$/;
  jQuery.filter = function(type, data, node) {
    var elem = data[0];
    return node && (type = ":not(" + type + ")"), 1 === data.length && 1 === elem.nodeType ? jQuery.find.matchesSelector(elem, type) ? [elem] : [] : jQuery.find.matches(type, jQuery.grep(data, function(elem) {
      return 1 === elem.nodeType;
    }));
  };
  jQuery.fn.extend({
    find : function(selector) {
      var i;
      var ret = [];
      var self = this;
      var len = self.length;
      if ("string" != typeof selector) {
        return this.pushStack(jQuery(selector).filter(function() {
          i = 0;
          for (; i < len; i++) {
            if (jQuery.contains(self[i], this)) {
              return true;
            }
          }
        }));
      }
      i = 0;
      for (; i < len; i++) {
        jQuery.find(selector, self[i], ret);
      }
      return (ret = this.pushStack(len > 1 ? jQuery.unique(ret) : ret)).selector = this.selector ? this.selector + " " + selector : selector, ret;
    },
    filter : function(type) {
      return this.pushStack(winnow(this, type || [], false));
    },
    not : function(selector) {
      return this.pushStack(winnow(this, selector || [], true));
    },
    is : function(value) {
      return !!winnow(this, "string" == typeof value && RE_HTMLTAG.test(value) ? jQuery(value) : value || [], false).length;
    }
  });
  var rootjQuery;
  var rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
  (jQuery.fn.init = function(selector, context, root) {
    var match;
    var elem;
    if (!selector) {
      return this;
    }
    if (root = root || rootjQuery, "string" == typeof selector) {
      if (!(match = "<" === selector.charAt(0) && ">" === selector.charAt(selector.length - 1) && selector.length >= 3 ? [null, selector, null] : rquickExpr.exec(selector)) || !match[1] && context) {
        return !context || context.jquery ? (context || root).find(selector) : this.constructor(context).find(selector);
      }
      if (match[1]) {
        if (context = context instanceof jQuery ? context[0] : context, jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true)), rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
          for (match in context) {
            if (jQuery.isFunction(this[match])) {
              this[match](context[match]);
            } else {
              this.attr(match, context[match]);
            }
          }
        }
        return this;
      }
      if ((elem = document.getElementById(match[2])) && elem.parentNode) {
        if (elem.id !== match[2]) {
          return rootjQuery.find(selector);
        }
        this.length = 1;
        this[0] = elem;
      }
      return this.context = document, this.selector = selector, this;
    }
    return selector.nodeType ? (this.context = this[0] = selector, this.length = 1, this) : jQuery.isFunction(selector) ? void 0 !== root.ready ? root.ready(selector) : selector(jQuery) : (void 0 !== selector.selector && (this.selector = selector.selector, this.context = selector.context), jQuery.makeArray(selector, this));
  }).prototype = jQuery.fn;
  rootjQuery = jQuery(document);
  var rparentsprev = /^(?:parents|prev(?:Until|All))/;
  var guaranteedUnique = {
    children : true,
    contents : true,
    next : true,
    prev : true
  };
  jQuery.fn.extend({
    has : function(value) {
      var i;
      var obj = jQuery(value, this);
      var l = obj.length;
      return this.filter(function() {
        i = 0;
        for (; i < l; i++) {
          if (jQuery.contains(this, obj[i])) {
            return true;
          }
        }
      });
    },
    closest : function(value, context) {
      var cur;
      var i = 0;
      var l = this.length;
      var ret = [];
      var pos = RE_HTMLTAG.test(value) || "string" != typeof value ? jQuery(value, context || this.context) : 0;
      for (; i < l; i++) {
        cur = this[i];
        for (; cur && cur !== context; cur = cur.parentNode) {
          if (cur.nodeType < 11 && (pos ? pos.index(cur) > -1 : 1 === cur.nodeType && jQuery.find.matchesSelector(cur, value))) {
            ret.push(cur);
            break;
          }
        }
      }
      return this.pushStack(ret.length > 1 ? jQuery.uniqueSort(ret) : ret);
    },
    index : function(type) {
      return type ? "string" == typeof type ? jQuery.inArray(this[0], jQuery(type)) : jQuery.inArray(type.jquery ? type[0] : type, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
    },
    add : function(type, data) {
      return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(type, data))));
    },
    addBack : function(selector) {
      return this.add(null == selector ? this.prevObject : this.prevObject.filter(selector));
    }
  });
  jQuery.each({
    parent : function(type) {
      var p = type.parentNode;
      return p && 11 !== p.nodeType ? p : null;
    },
    parents : function(elem) {
      return dir(elem, "parentNode");
    },
    parentsUntil : function(elem, i, until) {
      return dir(elem, "parentNode", until);
    },
    next : function(type) {
      return sibling(type, "nextSibling");
    },
    prev : function(type) {
      return sibling(type, "previousSibling");
    },
    nextAll : function(elem) {
      return dir(elem, "nextSibling");
    },
    prevAll : function(elem) {
      return dir(elem, "previousSibling");
    },
    nextUntil : function(elem, i, until) {
      return dir(elem, "nextSibling", until);
    },
    prevUntil : function(elem, i, until) {
      return dir(elem, "previousSibling", until);
    },
    siblings : function(elem) {
      return _sibling((elem.parentNode || {}).firstChild, elem);
    },
    children : function(elem) {
      return _sibling(elem.firstChild);
    },
    contents : function(elem) {
      return jQuery.nodeName(elem, "iframe") ? elem.contentDocument || elem.contentWindow.document : jQuery.merge([], elem.childNodes);
    }
  }, function(name, opts) {
    jQuery.fn[name] = function(callback, fn) {
      var ret = jQuery.map(this, opts, callback);
      return "Until" !== name.slice(-5) && (fn = callback), fn && "string" == typeof fn && (ret = jQuery.filter(fn, ret)), this.length > 1 && (guaranteedUnique[name] || (ret = jQuery.uniqueSort(ret)), rparentsprev.test(name) && (ret = ret.reverse())), this.pushStack(ret);
    };
  });
  var readyList;
  var t;
  var rnotwhite = /\S+/g;
  for (t in jQuery.Callbacks = function(options) {
    options = "string" == typeof options ? function(options) {
      var subwikiListsCache = {};
      return jQuery.each(options.match(rnotwhite) || [], function(canCreateDiscussions, wikiId) {
        subwikiListsCache[wikiId] = true;
      }), subwikiListsCache;
    }(options) : jQuery.extend({}, options);
    var costSum;
    var p;
    var gasSum;
    var locked;
    var list = [];
    var queue = [];
    var firingIndex = -1;
    var fire = function() {
      locked = options.once;
      gasSum = costSum = true;
      for (; queue.length; firingIndex = -1) {
        p = queue.shift();
        for (; ++firingIndex < list.length;) {
          if (false === list[firingIndex].apply(p[0], p[1]) && options.stopOnFalse) {
            firingIndex = list.length;
            p = false;
          }
        }
      }
      if (!options.memory) {
        p = false;
      }
      costSum = false;
      if (locked) {
        list = p ? [] : "";
      }
    };
    var self = {
      add : function() {
        return list && (p && !costSum && (firingIndex = list.length - 1, queue.push(p)), function add(callback) {
          jQuery.each(callback, function(canCreateDiscussions, name) {
            if (jQuery.isFunction(name)) {
              if (!(options.unique && self.has(name))) {
                list.push(name);
              }
            } else {
              if (name && name.length && "string" !== jQuery.type(name)) {
                add(name);
              }
            }
          });
        }(arguments), p && !costSum && fire()), this;
      },
      remove : function() {
        return jQuery.each(arguments, function(canCreateDiscussions, arg) {
          var index;
          for (; (index = jQuery.inArray(arg, list, index)) > -1;) {
            list.splice(index, 1);
            if (index <= firingIndex) {
              firingIndex--;
            }
          }
        }), this;
      },
      has : function(className) {
        return className ? jQuery.inArray(className, list) > -1 : list.length > 0;
      },
      empty : function() {
        return list && (list = []), this;
      },
      disable : function() {
        return locked = queue = [], list = p = "", this;
      },
      disabled : function() {
        return !list;
      },
      lock : function() {
        return locked = true, p || self.disable(), this;
      },
      locked : function() {
        return !!locked;
      },
      fireWith : function(context, args) {
        return locked || (args = [context, (args = args || []).slice ? args.slice() : args], queue.push(args), costSum || fire()), this;
      },
      fire : function() {
        return self.fireWith(this, arguments), this;
      },
      fired : function() {
        return !!gasSum;
      }
    };
    return self;
  }, jQuery.extend({
    Deferred : function(func) {
      var d = [["resolve", "done", jQuery.Callbacks("once memory"), "resolved"], ["reject", "fail", jQuery.Callbacks("once memory"), "rejected"], ["notify", "progress", jQuery.Callbacks("memory")]];
      var state = "pending";
      var promise = {
        state : function() {
          return state;
        },
        always : function() {
          return deferred.done(arguments).fail(arguments), this;
        },
        then : function() {
          var fns = arguments;
          return jQuery.Deferred(function(newDefer) {
            jQuery.each(d, function(i, tuple) {
              var fn = jQuery.isFunction(fns[i]) && fns[i];
              deferred[tuple[1]](function() {
                var returned = fn && fn.apply(this, arguments);
                if (returned && jQuery.isFunction(returned.promise)) {
                  returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);
                } else {
                  newDefer[tuple[0] + "With"](this === promise ? newDefer.promise() : this, fn ? [returned] : arguments);
                }
              });
            });
            fns = null;
          }).promise();
        },
        promise : function(context) {
          return null != context ? jQuery.extend(context, promise) : promise;
        }
      };
      var deferred = {};
      return promise.pipe = promise.then, jQuery.each(d, function(x2, tuple) {
        var list = tuple[2];
        var stateString = tuple[3];
        promise[tuple[1]] = list.add;
        if (stateString) {
          list.add(function() {
            state = stateString;
          }, d[1 ^ x2][2].disable, d[2][2].lock);
        }
        deferred[tuple[0]] = function() {
          return deferred[tuple[0] + "With"](this === deferred ? promise : this, arguments), this;
        };
        deferred[tuple[0] + "With"] = list.fireWith;
      }), promise.promise(deferred), func && func.call(deferred, deferred), deferred;
    },
    when : function(subordinate) {
      var progressValues;
      var progressContexts;
      var resolveContexts;
      var i = 0;
      var resolveValues = slice.call(arguments);
      var length = resolveValues.length;
      var index = 1 !== length || subordinate && jQuery.isFunction(subordinate.promise) ? length : 0;
      var deferred = 1 === index ? subordinate : jQuery.Deferred();
      var updateFn = function(i, ctx, val) {
        return function(value) {
          ctx[i] = this;
          val[i] = arguments.length > 1 ? slice.call(arguments) : value;
          if (val === progressValues) {
            deferred.notifyWith(ctx, val);
          } else {
            if (!--index) {
              deferred.resolveWith(ctx, val);
            }
          }
        };
      };
      if (length > 1) {
        progressValues = new Array(length);
        progressContexts = new Array(length);
        resolveContexts = new Array(length);
        for (; i < length; i++) {
          if (resolveValues[i] && jQuery.isFunction(resolveValues[i].promise)) {
            resolveValues[i].promise().progress(updateFn(i, progressContexts, progressValues)).done(updateFn(i, resolveContexts, resolveValues)).fail(deferred.reject);
          } else {
            --index;
          }
        }
      }
      return index || deferred.resolveWith(resolveContexts, resolveValues), deferred.promise();
    }
  }), jQuery.fn.ready = function(time) {
    return jQuery.ready.promise().done(time), this;
  }, jQuery.extend({
    isReady : false,
    readyWait : 1,
    holdReady : function(hold) {
      if (hold) {
        jQuery.readyWait++;
      } else {
        jQuery.ready(true);
      }
    },
    ready : function(wait) {
      if (!(true === wait ? --jQuery.readyWait : jQuery.isReady)) {
        jQuery.isReady = true;
        if (!(true !== wait && --jQuery.readyWait > 0)) {
          readyList.resolveWith(document, [jQuery]);
          if (jQuery.fn.triggerHandler) {
            jQuery(document).triggerHandler("ready");
            jQuery(document).off("ready");
          }
        }
      }
    }
  }), jQuery.ready.promise = function(obj) {
    if (!readyList) {
      if (readyList = jQuery.Deferred(), "complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll) {
        window.setTimeout(jQuery.ready);
      } else {
        if (document.addEventListener) {
          document.addEventListener("DOMContentLoaded", handler);
          window.addEventListener("load", handler);
        } else {
          document.attachEvent("onreadystatechange", handler);
          window.attachEvent("onload", handler);
          var docElement = false;
          try {
            docElement = null == window.frameElement && document.documentElement;
          } catch (e) {
          }
          if (docElement && docElement.doScroll) {
            (function doScrollCheck() {
              if (!jQuery.isReady) {
                try {
                  docElement.doScroll("left");
                } catch (e) {
                  return window.setTimeout(doScrollCheck, 50);
                }
                detach();
                jQuery.ready();
              }
            })();
          }
        }
      }
    }
    return readyList.promise(obj);
  }, jQuery.ready.promise(), jQuery(support)) {
    break;
  }
  support.ownFirst = "0" === t;
  support.inlineBlockNeedsLayout = false;
  jQuery(function() {
    var val;
    var div;
    var elem;
    var container;
    if ((elem = document.getElementsByTagName("body")[0]) && elem.style) {
      div = document.createElement("div");
      (container = document.createElement("div")).style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
      elem.appendChild(container).appendChild(div);
      if (void 0 !== div.style.zoom) {
        div.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";
        support.inlineBlockNeedsLayout = val = 3 === div.offsetWidth;
        if (val) {
          elem.style.zoom = 1;
        }
      }
      elem.removeChild(container);
    }
  });
  (function() {
    var div = document.createElement("div");
    support.deleteExpando = true;
    try {
      delete div.test;
    } catch (e) {
      support.deleteExpando = false;
    }
    div = null;
  })();
  var shrinkWrapBlocksVal;
  var acceptData = function(elem) {
    var noData = jQuery.noData[(elem.nodeName + " ").toLowerCase()];
    var nodeType = +elem.nodeType || 1;
    return (1 === nodeType || 9 === nodeType) && (!noData || true !== noData && elem.getAttribute("classid") === noData);
  };
  var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;
  var rmultiDash = /([A-Z])/g;
  jQuery.extend({
    cache : {},
    noData : {
      "applet " : true,
      "embed " : true,
      "object " : "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
    },
    hasData : function(elem) {
      return !!(elem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando]) && !isEmptyDataObject(elem);
    },
    data : function(type, name, data) {
      return internalData(type, name, data);
    },
    removeData : function(elem, name) {
      return internalRemoveData(elem, name);
    },
    _data : function(elem, name, data) {
      return internalData(elem, name, data, true);
    },
    _removeData : function(elem, name) {
      return internalRemoveData(elem, name, true);
    }
  });
  jQuery.fn.extend({
    data : function(type, name) {
      var i;
      var name;
      var data;
      var elem = this[0];
      var attrs = elem && elem.attributes;
      if (void 0 === type) {
        if (this.length && (data = jQuery.data(elem), 1 === elem.nodeType && !jQuery._data(elem, "parsedAttrs"))) {
          i = attrs.length;
          for (; i--;) {
            if (attrs[i] && 0 === (name = attrs[i].name).indexOf("data-")) {
              dataAttr(elem, name = jQuery.camelCase(name.slice(5)), data[name]);
            }
          }
          jQuery._data(elem, "parsedAttrs", true);
        }
        return data;
      }
      return "object" == typeof type ? this.each(function() {
        jQuery.data(this, type);
      }) : arguments.length > 1 ? this.each(function() {
        jQuery.data(this, type, name);
      }) : elem ? dataAttr(elem, type, jQuery.data(elem, type)) : void 0;
    },
    removeData : function(key) {
      return this.each(function() {
        jQuery.removeData(this, key);
      });
    }
  });
  jQuery.extend({
    queue : function(elem, type, data) {
      var q;
      if (elem) {
        return type = (type || "fx") + "queue", q = jQuery._data(elem, type), data && (!q || jQuery.isArray(data) ? q = jQuery._data(elem, type, jQuery.makeArray(data)) : q.push(data)), q || [];
      }
    },
    dequeue : function(elem, type) {
      type = type || "fx";
      var queue = jQuery.queue(elem, type);
      var startLength = queue.length;
      var fn = queue.shift();
      var hooks = jQuery._queueHooks(elem, type);
      if ("inprogress" === fn) {
        fn = queue.shift();
        startLength--;
      }
      if (fn) {
        if ("fx" === type) {
          queue.unshift("inprogress");
        }
        delete hooks.stop;
        fn.call(elem, function() {
          jQuery.dequeue(elem, type);
        }, hooks);
      }
      if (!startLength && hooks) {
        hooks.empty.fire();
      }
    },
    _queueHooks : function(elem, type) {
      var key = type + "queueHooks";
      return jQuery._data(elem, key) || jQuery._data(elem, key, {
        empty : jQuery.Callbacks("once memory").add(function() {
          jQuery._removeData(elem, type + "queue");
          jQuery._removeData(elem, key);
        })
      });
    }
  });
  jQuery.fn.extend({
    queue : function(type, data) {
      var setter = 2;
      return "string" != typeof type && (data = type, type = "fx", setter--), arguments.length < setter ? jQuery.queue(this[0], type) : void 0 === data ? this : this.each(function() {
        var queue = jQuery.queue(this, type, data);
        jQuery._queueHooks(this, type);
        if ("fx" === type && "inprogress" !== queue[0]) {
          jQuery.dequeue(this, type);
        }
      });
    },
    dequeue : function(type) {
      return this.each(function() {
        jQuery.dequeue(this, type);
      });
    },
    clearQueue : function(type) {
      return this.queue(type || "fx", []);
    },
    promise : function(type, result) {
      var sel;
      var count = 1;
      var defer = jQuery.Deferred();
      var elements = this;
      var i = this.length;
      var resolve = function() {
        if (!--count) {
          defer.resolveWith(elements, [elements]);
        }
      };
      if ("string" != typeof type) {
        result = type;
        type = void 0;
      }
      type = type || "fx";
      for (; i--;) {
        if ((sel = jQuery._data(elements[i], type + "queueHooks")) && sel.empty) {
          count++;
          sel.empty.add(resolve);
        }
      }
      return resolve(), defer.promise(result);
    }
  });
  support.shrinkWrapBlocks = function() {
    return null != shrinkWrapBlocksVal ? shrinkWrapBlocksVal : (shrinkWrapBlocksVal = false, (elem = document.getElementsByTagName("body")[0]) && elem.style ? (div = document.createElement("div"), (container = document.createElement("div")).style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", elem.appendChild(container).appendChild(div), void 0 !== div.style.zoom && (div.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", 
    div.appendChild(document.createElement("div")).style.width = "5px", shrinkWrapBlocksVal = 3 !== div.offsetWidth), elem.removeChild(container), shrinkWrapBlocksVal) : void 0);
    var div;
    var elem;
    var container;
  };
  var FSSource = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;
  var regex = new RegExp("^(?:([+-])=|)(" + FSSource + ")([a-z%]*)$", "i");
  var cssExpand = ["Top", "Right", "Bottom", "Left"];
  var toggle = function(context, element) {
    return context = element || context, "none" === jQuery.css(context, "display") || !jQuery.contains(context.ownerDocument, context);
  };
  var elem;
  var fragment;
  var input;
  var access = function(elems, fn, key, value, chainable, emptyGet, raw) {
    var i = 0;
    var len = elems.length;
    var bulk = null == key;
    if ("object" === jQuery.type(key)) {
      for (i in chainable = true, key) {
        access(elems, fn, i, key[i], true, emptyGet, raw);
      }
    } else {
      if (void 0 !== value && (chainable = true, jQuery.isFunction(value) || (raw = true), bulk && (raw ? (fn.call(elems, value), fn = null) : (bulk = fn, fn = function(el, key, value) {
        return bulk.call(jQuery(el), value);
      })), fn)) {
        for (; i < len; i++) {
          fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));
        }
      }
    }
    return chainable ? elems : bulk ? fn.call(elems) : len ? fn(elems[0], key) : emptyGet;
  };
  var manipulation_rcheckableType = /^(?:checkbox|radio)$/i;
  var rtagName = /<([\w:-]+)/;
  var opacityRe = /^$|\/(?:java|ecma)script/i;
  var rleadingWhitespace = /^\s+/;
  var componentsStr = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";
  elem = document.createElement("div");
  fragment = document.createDocumentFragment();
  input = document.createElement("input");
  elem.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
  support.leadingWhitespace = 3 === elem.firstChild.nodeType;
  support.tbody = !elem.getElementsByTagName("tbody").length;
  support.htmlSerialize = !!elem.getElementsByTagName("link").length;
  support.html5Clone = "<:nav></:nav>" !== document.createElement("nav").cloneNode(true).outerHTML;
  input.type = "checkbox";
  input.checked = true;
  fragment.appendChild(input);
  support.appendChecked = input.checked;
  elem.innerHTML = "<textarea>x</textarea>";
  support.noCloneChecked = !!elem.cloneNode(true).lastChild.defaultValue;
  fragment.appendChild(elem);
  (input = document.createElement("input")).setAttribute("type", "radio");
  input.setAttribute("checked", "checked");
  input.setAttribute("name", "t");
  elem.appendChild(input);
  support.checkClone = elem.cloneNode(true).cloneNode(true).lastChild.checked;
  support.noCloneEvent = !!elem.addEventListener;
  elem[jQuery.expando] = 1;
  support.attributes = !elem.getAttribute(jQuery.expando);
  var wrapMap = {
    option : [1, "<select multiple='multiple'>", "</select>"],
    legend : [1, "<fieldset>", "</fieldset>"],
    area : [1, "<map>", "</map>"],
    param : [1, "<object>", "</object>"],
    thead : [1, "<table>", "</table>"],
    tr : [2, "<table><tbody>", "</tbody></table>"],
    col : [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
    td : [3, "<table><tbody><tr>", "</tr></tbody></table>"],
    _default : support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
  };
  wrapMap.optgroup = wrapMap.option;
  wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
  wrapMap.th = wrapMap.td;
  var rhtml = /<|&#?\w+;/;
  var rtbody = /<tbody/i;
  !function() {
    var i;
    var eventName;
    var div = document.createElement("div");
    for (i in{
      submit : true,
      change : true,
      focusin : true
    }) {
      eventName = "on" + i;
      if (!(support[i] = eventName in window)) {
        div.setAttribute(eventName, "t");
        support[i] = false === div.attributes[eventName].expando;
      }
    }
    div = null;
  }();
  var rformElems = /^(?:input|select|textarea)$/i;
  var rkeyEvent = /^key/;
  var rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;
  var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;
  var helpers = /^([^.]*)(?:\.(.+)|)/;
  jQuery.event = {
    global : {},
    add : function(type, data, handler, obj, selector) {
      var BROWSER_ENGINES;
      var events;
      var i;
      var handleObjIn;
      var special;
      var eventHandle;
      var handleObj;
      var handlers;
      var name;
      var namespaces;
      var origType;
      var elemData = jQuery._data(type);
      if (elemData) {
        if (handler.handler) {
          handler = (handleObjIn = handler).handler;
          selector = handleObjIn.selector;
        }
        if (!handler.guid) {
          handler.guid = jQuery.guid++;
        }
        if (!(events = elemData.events)) {
          events = elemData.events = {};
        }
        if (!(eventHandle = elemData.handle)) {
          (eventHandle = elemData.handle = function(event) {
            return void 0 === jQuery || event && jQuery.event.triggered === event.type ? void 0 : jQuery.event.dispatch.apply(eventHandle.elem, arguments);
          }).elem = type;
        }
        i = (data = (data || "").match(rnotwhite) || [""]).length;
        for (; i--;) {
          name = origType = (BROWSER_ENGINES = helpers.exec(data[i]) || [])[1];
          namespaces = (BROWSER_ENGINES[2] || "").split(".").sort();
          if (name) {
            special = jQuery.event.special[name] || {};
            name = (selector ? special.delegateType : special.bindType) || name;
            special = jQuery.event.special[name] || {};
            handleObj = jQuery.extend({
              type : name,
              origType : origType,
              data : obj,
              handler : handler,
              guid : handler.guid,
              selector : selector,
              needsContext : selector && jQuery.expr.match.needsContext.test(selector),
              namespace : namespaces.join(".")
            }, handleObjIn);
            if (!(handlers = events[name])) {
              (handlers = events[name] = []).delegateCount = 0;
              if (!(special.setup && false !== special.setup.call(type, obj, namespaces, eventHandle))) {
                if (type.addEventListener) {
                  type.addEventListener(name, eventHandle, false);
                } else {
                  if (type.attachEvent) {
                    type.attachEvent("on" + name, eventHandle);
                  }
                }
              }
            }
            if (special.add) {
              special.add.call(type, handleObj);
              if (!handleObj.handler.guid) {
                handleObj.handler.guid = handler.guid;
              }
            }
            if (selector) {
              handlers.splice(handlers.delegateCount++, 0, handleObj);
            } else {
              handlers.push(handleObj);
            }
            jQuery.event.global[name] = true;
          }
        }
        type = null;
      }
    },
    remove : function(elem, data, fn, selector, mappedTypes) {
      var i;
      var handleObj;
      var tmp;
      var _;
      var t;
      var events;
      var special;
      var handlers;
      var type;
      var namespaces;
      var origType;
      var elemData = jQuery.hasData(elem) && jQuery._data(elem);
      if (elemData && (events = elemData.events)) {
        t = (data = (data || "").match(rnotwhite) || [""]).length;
        for (; t--;) {
          if (type = origType = (tmp = helpers.exec(data[t]) || [])[1], namespaces = (tmp[2] || "").split(".").sort(), type) {
            special = jQuery.event.special[type] || {};
            handlers = events[type = (selector ? special.delegateType : special.bindType) || type] || [];
            tmp = tmp[2] && new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)");
            _ = i = handlers.length;
            for (; i--;) {
              handleObj = handlers[i];
              if (!(!mappedTypes && origType !== handleObj.origType || fn && fn.guid !== handleObj.guid || tmp && !tmp.test(handleObj.namespace) || selector && selector !== handleObj.selector && ("**" !== selector || !handleObj.selector))) {
                handlers.splice(i, 1);
                if (handleObj.selector) {
                  handlers.delegateCount--;
                }
                if (special.remove) {
                  special.remove.call(elem, handleObj);
                }
              }
            }
            if (_ && !handlers.length) {
              if (!(special.teardown && false !== special.teardown.call(elem, namespaces, elemData.handle))) {
                jQuery.removeEvent(elem, type, elemData.handle);
              }
              delete events[type];
            }
          } else {
            for (type in events) {
              jQuery.event.remove(elem, type + data[t], fn, selector, true);
            }
          }
        }
        if (jQuery.isEmptyObject(events)) {
          delete elemData.handle;
          jQuery._removeData(elem, "events");
        }
      }
    },
    trigger : function(event, value, elem, onlyHandlers) {
      var next;
      var ontype;
      var cur;
      var bubbleType;
      var special;
      var tmp;
      var i;
      var eventPath = [elem || document];
      var type = hasOwn.call(event, "type") ? event.type : event;
      var parts = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
      if (cur = tmp = elem = elem || document, 3 !== elem.nodeType && 8 !== elem.nodeType && !rfocusMorph.test(type + jQuery.event.triggered) && (type.indexOf(".") > -1 && (type = (parts = type.split(".")).shift(), parts.sort()), ontype = type.indexOf(":") < 0 && "on" + type, (event = event[jQuery.expando] ? event : new jQuery.Event(type, "object" == typeof event && event)).isTrigger = onlyHandlers ? 2 : 3, event.namespace = parts.join("."), event.rnamespace = event.namespace ? new RegExp("(^|\\.)" + 
      parts.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, event.result = void 0, event.target || (event.target = elem), value = null == value ? [event] : jQuery.makeArray(value, [event]), special = jQuery.event.special[type] || {}, onlyHandlers || !special.trigger || false !== special.trigger.apply(elem, value))) {
        if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
          bubbleType = special.delegateType || type;
          if (!rfocusMorph.test(bubbleType + type)) {
            cur = cur.parentNode;
          }
          for (; cur; cur = cur.parentNode) {
            eventPath.push(cur);
            tmp = cur;
          }
          if (tmp === (elem.ownerDocument || document)) {
            eventPath.push(tmp.defaultView || tmp.parentWindow || window);
          }
        }
        i = 0;
        for (; (cur = eventPath[i++]) && !event.isPropagationStopped();) {
          event.type = i > 1 ? bubbleType : special.bindType || type;
          if (next = (jQuery._data(cur, "events") || {})[event.type] && jQuery._data(cur, "handle")) {
            next.apply(cur, value);
          }
          if ((next = ontype && cur[ontype]) && next.apply && acceptData(cur)) {
            event.result = next.apply(cur, value);
            if (false === event.result) {
              event.preventDefault();
            }
          }
        }
        if (event.type = type, !onlyHandlers && !event.isDefaultPrevented() && (!special._default || false === special._default.apply(eventPath.pop(), value)) && acceptData(elem) && ontype && elem[type] && !jQuery.isWindow(elem)) {
          if (tmp = elem[ontype]) {
            elem[ontype] = null;
          }
          jQuery.event.triggered = type;
          try {
            elem[type]();
          } catch (e) {
          }
          jQuery.event.triggered = void 0;
          if (tmp) {
            elem[ontype] = tmp;
          }
        }
        return event.result;
      }
    },
    dispatch : function(event) {
      event = jQuery.event.fix(event);
      var i;
      var j;
      var ret;
      var matched;
      var handleObj;
      var handlerQueue;
      var args = slice.call(arguments);
      var handlers = (jQuery._data(this, "events") || {})[event.type] || [];
      var special = jQuery.event.special[event.type] || {};
      if (args[0] = event, event.delegateTarget = this, !special.preDispatch || false !== special.preDispatch.call(this, event)) {
        handlerQueue = jQuery.event.handlers.call(this, event, handlers);
        i = 0;
        for (; (matched = handlerQueue[i++]) && !event.isPropagationStopped();) {
          event.currentTarget = matched.elem;
          j = 0;
          for (; (handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped();) {
            if (!(event.rnamespace && !event.rnamespace.test(handleObj.namespace))) {
              event.handleObj = handleObj;
              event.data = handleObj.data;
              if (void 0 !== (ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args)) && false === (event.result = ret)) {
                event.preventDefault();
                event.stopPropagation();
              }
            }
          }
        }
        return special.postDispatch && special.postDispatch.call(this, event), event.result;
      }
    },
    handlers : function(event, handlers) {
      var i;
      var matches;
      var data;
      var handleObj;
      var handlerQueue = [];
      var delegateCount = handlers.delegateCount;
      var cur = event.target;
      if (delegateCount && cur.nodeType && ("click" !== event.type || isNaN(event.button) || event.button < 1)) {
        for (; cur != this; cur = cur.parentNode || this) {
          if (1 === cur.nodeType && (true !== cur.disabled || "click" !== event.type)) {
            matches = [];
            i = 0;
            for (; i < delegateCount; i++) {
              if (void 0 === matches[data = (handleObj = handlers[i]).selector + " "]) {
                matches[data] = handleObj.needsContext ? jQuery(data, this).index(cur) > -1 : jQuery.find(data, this, null, [cur]).length;
              }
              if (matches[data]) {
                matches.push(handleObj);
              }
            }
            if (matches.length) {
              handlerQueue.push({
                elem : cur,
                handlers : matches
              });
            }
          }
        }
      }
      return delegateCount < handlers.length && handlerQueue.push({
        elem : this,
        handlers : handlers.slice(delegateCount)
      }), handlerQueue;
    },
    fix : function(event) {
      if (event[jQuery.expando]) {
        return event;
      }
      var i;
      var prop;
      var copy;
      var type = event.type;
      var e = event;
      var fixHook = this.fixHooks[type];
      if (!fixHook) {
        this.fixHooks[type] = fixHook = rmouseEvent.test(type) ? this.mouseHooks : rkeyEvent.test(type) ? this.keyHooks : {};
      }
      copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;
      event = new jQuery.Event(e);
      i = copy.length;
      for (; i--;) {
        event[prop = copy[i]] = e[prop];
      }
      return event.target || (event.target = e.srcElement || document), 3 === event.target.nodeType && (event.target = event.target.parentNode), event.metaKey = !!event.metaKey, fixHook.filter ? fixHook.filter(event, e) : event;
    },
    props : "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
    fixHooks : {},
    keyHooks : {
      props : "char charCode key keyCode".split(" "),
      filter : function(type, data) {
        return null == type.which && (type.which = null != data.charCode ? data.charCode : data.keyCode), type;
      }
    },
    mouseHooks : {
      props : "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
      filter : function(type, data) {
        var body;
        var eventDoc;
        var doc;
        var elem = data.button;
        var fromElement = data.fromElement;
        return null == type.pageX && null != data.clientX && (doc = (eventDoc = type.target.ownerDocument || document).documentElement, body = eventDoc.body, type.pageX = data.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0), type.pageY = data.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0)), !type.relatedTarget && fromElement && (type.relatedTarget = 
        fromElement === type.target ? data.toElement : fromElement), type.which || void 0 === elem || (type.which = 1 & elem ? 1 : 2 & elem ? 3 : 4 & elem ? 2 : 0), type;
      }
    },
    special : {
      load : {
        noBubble : true
      },
      focus : {
        trigger : function() {
          if (this !== safeActiveElement() && this.focus) {
            try {
              return this.focus(), false;
            } catch (e) {
            }
          }
        },
        delegateType : "focusin"
      },
      blur : {
        trigger : function() {
          if (this === safeActiveElement() && this.blur) {
            return this.blur(), false;
          }
        },
        delegateType : "focusout"
      },
      click : {
        trigger : function() {
          if (jQuery.nodeName(this, "input") && "checkbox" === this.type && this.click) {
            return this.click(), false;
          }
        },
        _default : function(type) {
          return jQuery.nodeName(type.target, "a");
        }
      },
      beforeunload : {
        postDispatch : function(event) {
          if (void 0 !== event.result && event.originalEvent) {
            event.originalEvent.returnValue = event.result;
          }
        }
      }
    },
    simulate : function(type, elem, event) {
      var e = jQuery.extend(new jQuery.Event, event, {
        type : type,
        isSimulated : true
      });
      jQuery.event.trigger(e, null, elem);
      if (e.isDefaultPrevented()) {
        event.preventDefault();
      }
    }
  };
  jQuery.removeEvent = document.removeEventListener ? function(elem, type, handle) {
    if (elem.removeEventListener) {
      elem.removeEventListener(type, handle);
    }
  } : function(elem, type, loaded) {
    var eventName = "on" + type;
    if (elem.detachEvent) {
      if (void 0 === elem[eventName]) {
        elem[eventName] = null;
      }
      elem.detachEvent(eventName, loaded);
    }
  };
  jQuery.Event = function(src, props) {
    if (!(this instanceof jQuery.Event)) {
      return new jQuery.Event(src, props);
    }
    if (src && src.type) {
      this.originalEvent = src;
      this.type = src.type;
      this.isDefaultPrevented = src.defaultPrevented || void 0 === src.defaultPrevented && false === src.returnValue ? returnTrue : returnFalse;
    } else {
      this.type = src;
    }
    if (props) {
      jQuery.extend(this, props);
    }
    this.timeStamp = src && src.timeStamp || jQuery.now();
    this[jQuery.expando] = true;
  };
  jQuery.Event.prototype = {
    constructor : jQuery.Event,
    isDefaultPrevented : returnFalse,
    isPropagationStopped : returnFalse,
    isImmediatePropagationStopped : returnFalse,
    preventDefault : function() {
      var e = this.originalEvent;
      this.isDefaultPrevented = returnTrue;
      if (e) {
        if (e.preventDefault) {
          e.preventDefault();
        } else {
          e.returnValue = false;
        }
      }
    },
    stopPropagation : function() {
      var e = this.originalEvent;
      this.isPropagationStopped = returnTrue;
      if (e && !this.isSimulated) {
        if (e.stopPropagation) {
          e.stopPropagation();
        }
        e.cancelBubble = true;
      }
    },
    stopImmediatePropagation : function() {
      var e = this.originalEvent;
      this.isImmediatePropagationStopped = returnTrue;
      if (e && e.stopImmediatePropagation) {
        e.stopImmediatePropagation();
      }
      this.stopPropagation();
    }
  };
  jQuery.each({
    mouseenter : "mouseover",
    mouseleave : "mouseout",
    pointerenter : "pointerover",
    pointerleave : "pointerout"
  }, function(orig, fix) {
    jQuery.event.special[orig] = {
      delegateType : fix,
      bindType : fix,
      handle : function(event) {
        var ret;
        var target = event.relatedTarget;
        var handleObj = event.handleObj;
        return target && (target === this || jQuery.contains(this, target)) || (event.type = handleObj.origType, ret = handleObj.handler.apply(this, arguments), event.type = fix), ret;
      }
    };
  });
  if (!support.submit) {
    jQuery.event.special.submit = {
      setup : function() {
        if (jQuery.nodeName(this, "form")) {
          return false;
        }
        jQuery.event.add(this, "click._submit keypress._submit", function(options) {
          var elem = options.target;
          var window = jQuery.nodeName(elem, "input") || jQuery.nodeName(elem, "button") ? jQuery.prop(elem, "form") : void 0;
          if (window && !jQuery._data(window, "submit")) {
            jQuery.event.add(window, "submit._submit", function(event) {
              event._submitBubble = true;
            });
            jQuery._data(window, "submit", true);
          }
        });
      },
      postDispatch : function(event) {
        if (event._submitBubble) {
          delete event._submitBubble;
          if (this.parentNode && !event.isTrigger) {
            jQuery.event.simulate("submit", this.parentNode, event);
          }
        }
      },
      teardown : function() {
        if (jQuery.nodeName(this, "form")) {
          return false;
        }
        jQuery.event.remove(this, "._submit");
      }
    };
  }
  if (!support.change) {
    jQuery.event.special.change = {
      setup : function() {
        if (rformElems.test(this.nodeName)) {
          return "checkbox" !== this.type && "radio" !== this.type || (jQuery.event.add(this, "propertychange._change", function(event) {
            if ("checked" === event.originalEvent.propertyName) {
              this._justChanged = true;
            }
          }), jQuery.event.add(this, "click._change", function(event) {
            if (this._justChanged && !event.isTrigger) {
              this._justChanged = false;
            }
            jQuery.event.simulate("change", this, event);
          })), false;
        }
        jQuery.event.add(this, "beforeactivate._change", function(options) {
          var elem = options.target;
          if (rformElems.test(elem.nodeName) && !jQuery._data(elem, "change")) {
            jQuery.event.add(elem, "change._change", function(event) {
              if (!(!this.parentNode || event.isSimulated || event.isTrigger)) {
                jQuery.event.simulate("change", this.parentNode, event);
              }
            });
            jQuery._data(elem, "change", true);
          }
        });
      },
      handle : function(event) {
        var elem = event.target;
        if (this !== elem || event.isSimulated || event.isTrigger || "radio" !== elem.type && "checkbox" !== elem.type) {
          return event.handleObj.handler.apply(this, arguments);
        }
      },
      teardown : function() {
        return jQuery.event.remove(this, "._change"), !rformElems.test(this.nodeName);
      }
    };
  }
  if (!support.focusin) {
    jQuery.each({
      focus : "focusin",
      blur : "focusout"
    }, function(type, fix) {
      var handler = function(event) {
        jQuery.event.simulate(fix, event.target, jQuery.event.fix(event));
      };
      jQuery.event.special[fix] = {
        setup : function() {
          var doc = this.ownerDocument || this;
          var attaches = jQuery._data(doc, fix);
          if (!attaches) {
            doc.addEventListener(type, handler, true);
          }
          jQuery._data(doc, fix, (attaches || 0) + 1);
        },
        teardown : function() {
          var doc = this.ownerDocument || this;
          var display = jQuery._data(doc, fix) - 1;
          if (display) {
            jQuery._data(doc, fix, display);
          } else {
            doc.removeEventListener(type, handler, true);
            jQuery._removeData(doc, fix);
          }
        }
      };
    });
  }
  jQuery.fn.extend({
    on : function(type, fn, data, context) {
      return on(this, type, fn, data, context);
    },
    one : function(selector, type, data, fn) {
      return on(this, selector, type, data, fn, 1);
    },
    off : function(type, callback, fn) {
      var handleObj;
      var i;
      if (type && type.preventDefault && type.handleObj) {
        return handleObj = type.handleObj, jQuery(type.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler), this;
      }
      if ("object" == typeof type) {
        for (i in type) {
          this.off(i, callback, type[i]);
        }
        return this;
      }
      return false !== callback && "function" != typeof callback || (fn = callback, callback = void 0), false === fn && (fn = returnFalse), this.each(function() {
        jQuery.event.remove(this, type, fn, callback);
      });
    },
    trigger : function(event, data) {
      return this.each(function() {
        jQuery.event.trigger(event, data, this);
      });
    },
    triggerHandler : function(type, data) {
      var parent = this[0];
      if (parent) {
        return jQuery.event.trigger(type, data, parent, true);
      }
    }
  });
  var rinlinejQuery = / jQuery\d+="(?:null|\d+)"/g;
  var exactRegExp = new RegExp("<(?:" + componentsStr + ")[\\s/>]", "i");
  var rCssJsTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;
  var rnoInnerhtml = /<script|<style|<link/i;
  var rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i;
  var rscriptTypeMasked = /^true\/(.*)/;
  var rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
  var fragmentDiv = createSafeFragment(document).appendChild(document.createElement("div"));
  jQuery.extend({
    htmlPrefilter : function(html) {
      return html.replace(rCssJsTag, "<$1></$2>");
    },
    clone : function(elem, dataAndEvents, deepDataAndEvents) {
      var destElements;
      var node;
      var clone;
      var i;
      var srcElements;
      var inPage = jQuery.contains(elem.ownerDocument, elem);
      if (support.html5Clone || jQuery.isXMLDoc(elem) || !exactRegExp.test("<" + elem.nodeName + ">") ? clone = elem.cloneNode(true) : (fragmentDiv.innerHTML = elem.outerHTML, fragmentDiv.removeChild(clone = fragmentDiv.firstChild)), !(support.noCloneEvent && support.noCloneChecked || 1 !== elem.nodeType && 11 !== elem.nodeType || jQuery.isXMLDoc(elem))) {
        destElements = getAll(clone);
        srcElements = getAll(elem);
        i = 0;
        for (; null != (node = srcElements[i]); ++i) {
          if (destElements[i]) {
            fixCloneNodeIssues(node, destElements[i]);
          }
        }
      }
      if (dataAndEvents) {
        if (deepDataAndEvents) {
          srcElements = srcElements || getAll(elem);
          destElements = destElements || getAll(clone);
          i = 0;
          for (; null != (node = srcElements[i]); i++) {
            cloneCopyEvent(node, destElements[i]);
          }
        } else {
          cloneCopyEvent(elem, clone);
        }
      }
      return (destElements = getAll(clone, "script")).length > 0 && setGlobalEval(destElements, !inPage && getAll(elem, "script")), destElements = srcElements = node = null, clone;
    },
    cleanData : function(elems, type) {
      var elem;
      var type;
      var key;
      var data;
      var i = 0;
      var internalKey = jQuery.expando;
      var cache = jQuery.cache;
      var attributes = support.attributes;
      var special = jQuery.event.special;
      for (; null != (elem = elems[i]); i++) {
        if ((type || acceptData(elem)) && (data = (key = elem[internalKey]) && cache[key])) {
          if (data.events) {
            for (type in data.events) {
              if (special[type]) {
                jQuery.event.remove(elem, type);
              } else {
                jQuery.removeEvent(elem, type, data.handle);
              }
            }
          }
          if (cache[key]) {
            delete cache[key];
            if (attributes || void 0 === elem.removeAttribute) {
              elem[internalKey] = void 0;
            } else {
              elem.removeAttribute(internalKey);
            }
            arr.push(key);
          }
        }
      }
    }
  });
  jQuery.fn.extend({
    domManip : domManip,
    detach : function(selector) {
      return remove(this, selector, true);
    },
    remove : function(type) {
      return remove(this, type);
    },
    text : function(type) {
      return access(this, function(value) {
        return void 0 === value ? jQuery.text(this) : this.empty().append((this[0] && this[0].ownerDocument || document).createTextNode(value));
      }, null, type, arguments.length);
    },
    append : function() {
      return domManip(this, arguments, function(elem) {
        if (!(1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType)) {
          manipulationTarget(this, elem).appendChild(elem);
        }
      });
    },
    prepend : function() {
      return domManip(this, arguments, function(elem) {
        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
          var target = manipulationTarget(this, elem);
          target.insertBefore(elem, target.firstChild);
        }
      });
    },
    before : function() {
      return domManip(this, arguments, function(elem) {
        if (this.parentNode) {
          this.parentNode.insertBefore(elem, this);
        }
      });
    },
    after : function() {
      return domManip(this, arguments, function(elem) {
        if (this.parentNode) {
          this.parentNode.insertBefore(elem, this.nextSibling);
        }
      });
    },
    empty : function() {
      var elem;
      var i = 0;
      for (; null != (elem = this[i]); i++) {
        if (1 === elem.nodeType) {
          jQuery.cleanData(getAll(elem, false));
        }
        for (; elem.firstChild;) {
          elem.removeChild(elem.firstChild);
        }
        if (elem.options && jQuery.nodeName(elem, "select")) {
          elem.options.length = 0;
        }
      }
      return this;
    },
    clone : function(dataAndEvents, deepDataAndEvents) {
      return dataAndEvents = null != dataAndEvents && dataAndEvents, deepDataAndEvents = null == deepDataAndEvents ? dataAndEvents : deepDataAndEvents, this.map(function() {
        return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
      });
    },
    html : function(type) {
      return access(this, function(value) {
        var elem = this[0] || {};
        var thatpos = 0;
        var i = this.length;
        if (void 0 === value) {
          return 1 === elem.nodeType ? elem.innerHTML.replace(rinlinejQuery, "") : void 0;
        }
        if ("string" == typeof value && !rnoInnerhtml.test(value) && (support.htmlSerialize || !exactRegExp.test(value)) && (support.leadingWhitespace || !rleadingWhitespace.test(value)) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
          value = jQuery.htmlPrefilter(value);
          try {
            for (; thatpos < i; thatpos++) {
              if (1 === (elem = this[thatpos] || {}).nodeType) {
                jQuery.cleanData(getAll(elem, false));
                elem.innerHTML = value;
              }
            }
            elem = 0;
          } catch (e) {
          }
        }
        if (elem) {
          this.empty().append(value);
        }
      }, null, type, arguments.length);
    },
    replaceWith : function() {
      var ignored = [];
      return domManip(this, arguments, function(elem) {
        var p = this.parentNode;
        if (jQuery.inArray(this, ignored) < 0) {
          jQuery.cleanData(getAll(this));
          if (p) {
            p.replaceChild(elem, this);
          }
        }
      }, ignored);
    }
  });
  jQuery.each({
    appendTo : "append",
    prependTo : "prepend",
    insertBefore : "before",
    insertAfter : "after",
    replaceAll : "replaceWith"
  }, function(name, original) {
    jQuery.fn[name] = function(id) {
      var elems;
      var i = 0;
      var nodes = [];
      var toolbar = jQuery(id);
      var last = toolbar.length - 1;
      for (; i <= last; i++) {
        elems = i === last ? this : this.clone(true);
        jQuery(toolbar[i])[original](elems);
        push.apply(nodes, elems.get());
      }
      return this.pushStack(nodes);
    };
  });
  var iframe;
  var elemdisplay = {
    HTML : "block",
    BODY : "block"
  };
  var rmargin = /^margin/;
  var rnumnonpx = new RegExp("^(" + FSSource + ")(?!px)[a-z%]+$", "i");
  var swap = function(context, obj, value, params) {
    var removed;
    var key;
    var cachedPrefs = {};
    for (key in obj) {
      cachedPrefs[key] = context.style[key];
      context.style[key] = obj[key];
    }
    for (key in removed = value.apply(context, params || []), obj) {
      context.style[key] = cachedPrefs[key];
    }
    return removed;
  };
  var root = document.documentElement;
  !function() {
    function computeStyleTests() {
      var contents;
      var size;
      var html = document.documentElement;
      html.appendChild(body);
      container.style.cssText = "-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
      RefImg = gasSum = costSum = false;
      averageFontSize = sumOfFontSizes = true;
      if (window.getComputedStyle) {
        size = window.getComputedStyle(container);
        RefImg = "1%" !== (size || {}).top;
        costSum = "2px" === (size || {}).marginLeft;
        gasSum = "4px" === (size || {
          width : "4px"
        }).width;
        container.style.marginRight = "50%";
        averageFontSize = "4px" === (size || {
          marginRight : "4px"
        }).marginRight;
        (contents = container.appendChild(document.createElement("div"))).style.cssText = container.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";
        contents.style.marginRight = contents.style.width = "0";
        container.style.width = "1px";
        sumOfFontSizes = !parseFloat((window.getComputedStyle(contents) || {}).marginRight);
        container.removeChild(contents);
      }
      container.style.display = "none";
      if (reliableHiddenOffsetsVal = 0 === container.getClientRects().length) {
        container.style.display = "";
        container.innerHTML = "<table><tr><td></td><td>t</td></tr></table>";
        container.childNodes[0].style.borderCollapse = "separate";
        (contents = container.getElementsByTagName("td"))[0].style.cssText = "margin:0;border:0;padding:0;display:none";
        if (reliableHiddenOffsetsVal = 0 === contents[0].offsetHeight) {
          contents[0].style.display = "";
          contents[1].style.display = "none";
          reliableHiddenOffsetsVal = 0 === contents[0].offsetHeight;
        }
      }
      html.removeChild(body);
    }
    var RefImg;
    var averageFontSize;
    var gasSum;
    var reliableHiddenOffsetsVal;
    var sumOfFontSizes;
    var costSum;
    var body = document.createElement("div");
    var container = document.createElement("div");
    if (container.style) {
      container.style.cssText = "float:left;opacity:.5";
      support.opacity = "0.5" === container.style.opacity;
      support.cssFloat = !!container.style.cssFloat;
      container.style.backgroundClip = "content-box";
      container.cloneNode(true).style.backgroundClip = "";
      support.clearCloneStyle = "content-box" === container.style.backgroundClip;
      (body = document.createElement("div")).style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";
      container.innerHTML = "";
      body.appendChild(container);
      support.boxSizing = "" === container.style.boxSizing || "" === container.style.MozBoxSizing || "" === container.style.WebkitBoxSizing;
      jQuery.extend(support, {
        reliableHiddenOffsets : function() {
          return null == RefImg && computeStyleTests(), reliableHiddenOffsetsVal;
        },
        boxSizingReliable : function() {
          return null == RefImg && computeStyleTests(), gasSum;
        },
        pixelMarginRight : function() {
          return null == RefImg && computeStyleTests(), averageFontSize;
        },
        pixelPosition : function() {
          return null == RefImg && computeStyleTests(), RefImg;
        },
        reliableMarginRight : function() {
          return null == RefImg && computeStyleTests(), sumOfFontSizes;
        },
        reliableMarginLeft : function() {
          return null == RefImg && computeStyleTests(), costSum;
        }
      });
    }
  }();
  var getStyles;
  var curCSS;
  var testRxp = /^(top|right|bottom|left)$/;
  if (window.getComputedStyle) {
    getStyles = function(elem) {
      var win = elem.ownerDocument.defaultView;
      return win && win.opener || (win = window), win.getComputedStyle(elem);
    };
    curCSS = function(elem, name, computed) {
      var minWidth;
      var width;
      var maxWidth;
      var ret;
      var style = elem.style;
      return "" !== (ret = (computed = computed || getStyles(elem)) ? computed.getPropertyValue(name) || computed[name] : void 0) && void 0 !== ret || jQuery.contains(elem.ownerDocument, elem) || (ret = jQuery.style(elem, name)), computed && !support.pixelMarginRight() && rnumnonpx.test(ret) && rmargin.test(name) && (minWidth = style.width, width = style.minWidth, maxWidth = style.maxWidth, style.minWidth = style.maxWidth = style.width = ret, ret = computed.width, style.width = minWidth, style.minWidth = 
      width, style.maxWidth = maxWidth), void 0 === ret ? ret : ret + "";
    };
  } else {
    if (root.currentStyle) {
      getStyles = function(elem) {
        return elem.currentStyle;
      };
      curCSS = function(elem, name, computed) {
        var left;
        var rs;
        var rsLeft;
        var ret;
        var style = elem.style;
        return null == (ret = (computed = computed || getStyles(elem)) ? computed[name] : void 0) && style && style[name] && (ret = style[name]), rnumnonpx.test(ret) && !testRxp.test(name) && (left = style.left, (rsLeft = (rs = elem.runtimeStyle) && rs.left) && (rs.left = elem.currentStyle.left), style.left = "fontSize" === name ? "1em" : ret, ret = style.pixelLeft + "px", style.left = left, rsLeft && (rs.left = rsLeft)), void 0 === ret ? ret : ret + "" || "auto";
      };
    }
  }
  var ralpha = /alpha\([^)]*\)/i;
  var flashFilenameRegex = /opacity\s*=\s*([^)]*)/i;
  var test = /^(none|table(?!-c[ea]).+)/;
  var rnumsplit = new RegExp("^(" + FSSource + ")(.*)$", "i");
  var cssShow = {
    position : "absolute",
    visibility : "hidden",
    display : "block"
  };
  var cssNormalTransform = {
    letterSpacing : "0",
    fontWeight : "400"
  };
  var prefixes = ["Webkit", "O", "Moz", "ms"];
  var style = document.createElement("div").style;
  jQuery.extend({
    cssHooks : {
      opacity : {
        get : function(target, a) {
          if (a) {
            var to = curCSS(target, "opacity");
            return "" === to ? "1" : to;
          }
        }
      }
    },
    cssNumber : {
      animationIterationCount : true,
      columnCount : true,
      fillOpacity : true,
      flexGrow : true,
      flexShrink : true,
      fontWeight : true,
      lineHeight : true,
      opacity : true,
      order : true,
      orphans : true,
      widows : true,
      zIndex : true,
      zoom : true
    },
    cssProps : {
      float : support.cssFloat ? "cssFloat" : "styleFloat"
    },
    style : function(type, name, value, data) {
      if (type && 3 !== type.nodeType && 8 !== type.nodeType && type.style) {
        var ret;
        var valueType;
        var hooks;
        var origName = jQuery.camelCase(name);
        var style = type.style;
        if (name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(origName) || origName), hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName], void 0 === value) {
          return hooks && "get" in hooks && void 0 !== (ret = hooks.get(type, false, data)) ? ret : style[name];
        }
        if ("string" === (valueType = typeof value) && (ret = regex.exec(value)) && ret[1] && (value = adjustCSS(type, name, ret), valueType = "number"), null != value && value == value && ("number" === valueType && (value = value + (ret && ret[3] || (jQuery.cssNumber[origName] ? "" : "px"))), support.clearCloneStyle || "" !== value || 0 !== name.indexOf("background") || (style[name] = "inherit"), !(hooks && "set" in hooks && void 0 === (value = hooks.set(type, value, data))))) {
          try {
            style[name] = value;
          } catch (e) {
          }
        }
      }
    },
    css : function(value, name, extra, styles) {
      var length;
      var val;
      var hooks;
      var origName = jQuery.camelCase(name);
      return name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(origName) || origName), (hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName]) && "get" in hooks && (val = hooks.get(value, true, extra)), void 0 === val && (val = curCSS(value, name, styles)), "normal" === val && name in cssNormalTransform && (val = cssNormalTransform[name]), "" === extra || extra ? (length = parseFloat(val), true === extra || isFinite(length) ? length || 0 : val) : val;
    }
  });
  jQuery.each(["height", "width"], function(i, name) {
    jQuery.cssHooks[name] = {
      get : function(obj, str, fn) {
        if (str) {
          return test.test(jQuery.css(obj, "display")) && 0 === obj.offsetWidth ? swap(obj, cssShow, function() {
            return getWidthOrHeight(obj, name, fn);
          }) : getWidthOrHeight(obj, name, fn);
        }
      },
      set : function(elem, value, extra) {
        var styles = extra && getStyles(elem);
        return setPositiveNumber(0, value, extra ? augmentWidthOrHeight(elem, name, extra, support.boxSizing && "border-box" === jQuery.css(elem, "boxSizing", false, styles), styles) : 0);
      }
    };
  });
  if (!support.opacity) {
    jQuery.cssHooks.opacity = {
      get : function(target, name) {
        return flashFilenameRegex.test((name && target.currentStyle ? target.currentStyle.filter : target.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : name ? "1" : "";
      },
      set : function(options, value) {
        var style = options.style;
        var currentStyle = options.currentStyle;
        var opacity = jQuery.isNumeric(value) ? "alpha(opacity=" + 100 * value + ")" : "";
        var filter = currentStyle && currentStyle.filter || style.filter || "";
        style.zoom = 1;
        if (!((value >= 1 || "" === value) && "" === jQuery.trim(filter.replace(ralpha, "")) && style.removeAttribute && (style.removeAttribute("filter"), "" === value || currentStyle && !currentStyle.filter))) {
          style.filter = ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + " " + opacity;
        }
      }
    };
  }
  jQuery.cssHooks.marginRight = addGetHookIf(support.reliableMarginRight, function(elem, canCreateDiscussions) {
    if (canCreateDiscussions) {
      return swap(elem, {
        display : "inline-block"
      }, curCSS, [elem, "marginRight"]);
    }
  });
  jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft, function(elem, canCreateDiscussions) {
    if (canCreateDiscussions) {
      return (parseFloat(curCSS(elem, "marginLeft")) || (jQuery.contains(elem.ownerDocument, elem) ? elem.getBoundingClientRect().left - swap(elem, {
        marginLeft : 0
      }, function() {
        return elem.getBoundingClientRect().left;
      }) : 0)) + "px";
    }
  });
  jQuery.each({
    margin : "",
    padding : "",
    border : "Width"
  }, function(prefix, suffix) {
    jQuery.cssHooks[prefix + suffix] = {
      expand : function(type) {
        var i = 0;
        var expanded = {};
        var stops = "string" == typeof type ? type.split(" ") : [type];
        for (; i < 4; i++) {
          expanded[prefix + cssExpand[i] + suffix] = stops[i] || stops[i - 2] || stops[0];
        }
        return expanded;
      }
    };
    if (!rmargin.test(prefix)) {
      jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;
    }
  });
  jQuery.fn.extend({
    css : function(value, name) {
      return access(this, function(elem, name, undefined) {
        var styles;
        var l;
        var map = {};
        var i = 0;
        if (jQuery.isArray(name)) {
          styles = getStyles(elem);
          l = name.length;
          for (; i < l; i++) {
            map[name[i]] = jQuery.css(elem, name[i], false, styles);
          }
          return map;
        }
        return void 0 !== undefined ? jQuery.style(elem, name, undefined) : jQuery.css(elem, name);
      }, value, name, arguments.length > 1);
    },
    show : function() {
      return showHide(this, true);
    },
    hide : function() {
      return showHide(this);
    },
    toggle : function(state) {
      return "boolean" == typeof state ? state ? this.show() : this.hide() : this.each(function() {
        if (toggle(this)) {
          jQuery(this).show();
        } else {
          jQuery(this).hide();
        }
      });
    }
  });
  jQuery.Tween = Tween;
  Tween.prototype = {
    constructor : Tween,
    init : function(elem, opts, prop, end, easing, unit) {
      this.elem = elem;
      this.prop = prop;
      this.easing = easing || jQuery.easing._default;
      this.options = opts;
      this.start = this.now = this.cur();
      this.end = end;
      this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px");
    },
    cur : function() {
      var hooks = Tween.propHooks[this.prop];
      return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this);
    },
    run : function(percent) {
      var eased;
      var hooks = Tween.propHooks[this.prop];
      return this.options.duration ? this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration) : this.pos = eased = percent, this.now = (this.end - this.start) * eased + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), hooks && hooks.set ? hooks.set(this) : Tween.propHooks._default.set(this), this;
    }
  };
  Tween.prototype.init.prototype = Tween.prototype;
  Tween.propHooks = {
    _default : {
      get : function(options) {
        var fitWidth;
        return 1 !== options.elem.nodeType || null != options.elem[options.prop] && null == options.elem.style[options.prop] ? options.elem[options.prop] : (fitWidth = jQuery.css(options.elem, options.prop, "")) && "auto" !== fitWidth ? fitWidth : 0;
      },
      set : function(options) {
        if (jQuery.fx.step[options.prop]) {
          jQuery.fx.step[options.prop](options);
        } else {
          if (1 !== options.elem.nodeType || null == options.elem.style[jQuery.cssProps[options.prop]] && !jQuery.cssHooks[options.prop]) {
            options.elem[options.prop] = options.now;
          } else {
            jQuery.style(options.elem, options.prop, options.now + options.unit);
          }
        }
      }
    }
  };
  Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
    set : function(target) {
      if (target.elem.nodeType && target.elem.parentNode) {
        target.elem[target.prop] = target.now;
      }
    }
  };
  jQuery.easing = {
    linear : function(p) {
      return p;
    },
    swing : function(p) {
      return .5 - Math.cos(p * Math.PI) / 2;
    },
    _default : "swing"
  };
  jQuery.fx = Tween.prototype.init;
  jQuery.fx.step = {};
  var fxNow;
  var slideshowtimer;
  var rfxtypes = /^(?:toggle|show|hide)$/;
  var rrun = /queueHooks$/;
  jQuery.Animation = jQuery.extend(Animation, {
    tweeners : {
      "*" : [function(prop, value) {
        var tween = this.createTween(prop, value);
        return adjustCSS(tween.elem, prop, regex.exec(value), tween), tween;
      }]
    },
    tweener : function(props, callback) {
      if (jQuery.isFunction(props)) {
        callback = props;
        props = ["*"];
      } else {
        props = props.match(rnotwhite);
      }
      var prop;
      var i = 0;
      var k = props.length;
      for (; i < k; i++) {
        prop = props[i];
        Animation.tweeners[prop] = Animation.tweeners[prop] || [];
        Animation.tweeners[prop].unshift(callback);
      }
    },
    prefilters : [function(elem, props, config) {
      var prop;
      var value;
      var matched;
      var tween;
      var hooks;
      var oldfire;
      var display;
      var anim = this;
      var orig = {};
      var style = elem.style;
      var hidden = elem.nodeType && toggle(elem);
      var dataShow = jQuery._data(elem, "fxshow");
      for (prop in config.queue || (null == (hooks = jQuery._queueHooks(elem, "fx")).unqueued && (hooks.unqueued = 0, oldfire = hooks.empty.fire, hooks.empty.fire = function() {
        if (!hooks.unqueued) {
          oldfire();
        }
      }), hooks.unqueued++, anim.always(function() {
        anim.always(function() {
          hooks.unqueued--;
          if (!jQuery.queue(elem, "fx").length) {
            hooks.empty.fire();
          }
        });
      })), 1 === elem.nodeType && ("height" in props || "width" in props) && (config.overflow = [style.overflow, style.overflowX, style.overflowY], "inline" === ("none" === (display = jQuery.css(elem, "display")) ? jQuery._data(elem, "olddisplay") || defaultDisplay(elem.nodeName) : display) && "none" === jQuery.css(elem, "float") && (support.inlineBlockNeedsLayout && "inline" !== defaultDisplay(elem.nodeName) ? style.zoom = 1 : style.display = "inline-block")), config.overflow && (style.overflow = 
      "hidden", support.shrinkWrapBlocks() || anim.always(function() {
        style.overflow = config.overflow[0];
        style.overflowX = config.overflow[1];
        style.overflowY = config.overflow[2];
      })), props) {
        if (value = props[prop], rfxtypes.exec(value)) {
          if (delete props[prop], matched = matched || "toggle" === value, value === (hidden ? "hide" : "show")) {
            if ("show" !== value || !dataShow || void 0 === dataShow[prop]) {
              continue;
            }
            hidden = true;
          }
          orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);
        } else {
          display = void 0;
        }
      }
      if (jQuery.isEmptyObject(orig)) {
        if ("inline" === ("none" === display ? defaultDisplay(elem.nodeName) : display)) {
          style.display = display;
        }
      } else {
        for (prop in dataShow ? "hidden" in dataShow && (hidden = dataShow.hidden) : dataShow = jQuery._data(elem, "fxshow", {}), matched && (dataShow.hidden = !hidden), hidden ? jQuery(elem).show() : anim.done(function() {
          jQuery(elem).hide();
        }), anim.done(function() {
          var p;
          for (p in jQuery._removeData(elem, "fxshow"), orig) {
            jQuery.style(elem, p, orig[p]);
          }
        }), orig) {
          tween = createTween(hidden ? dataShow[prop] : 0, prop, anim);
          if (!(prop in dataShow)) {
            dataShow[prop] = tween.start;
            if (hidden) {
              tween.end = tween.start;
              tween.start = "width" === prop || "height" === prop ? 1 : 0;
            }
          }
        }
      }
    }],
    prefilter : function(callback, options) {
      if (options) {
        Animation.prefilters.unshift(callback);
      } else {
        Animation.prefilters.push(callback);
      }
    }
  });
  jQuery.speed = function(speed, easing, fn) {
    var opt = speed && "object" == typeof speed ? jQuery.extend({}, speed) : {
      complete : fn || !fn && easing || jQuery.isFunction(speed) && speed,
      duration : speed,
      easing : fn && easing || easing && !jQuery.isFunction(easing) && easing
    };
    return opt.duration = jQuery.fx.off ? 0 : "number" == typeof opt.duration ? opt.duration : opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default, null != opt.queue && true !== opt.queue || (opt.queue = "fx"), opt.old = opt.complete, opt.complete = function() {
      if (jQuery.isFunction(opt.old)) {
        opt.old.call(this);
      }
      if (opt.queue) {
        jQuery.dequeue(this, opt.queue);
      }
    }, opt;
  };
  jQuery.fn.extend({
    fadeTo : function(speed, to, easing, callback) {
      return this.filter(toggle).css("opacity", 0).show().end().animate({
        opacity : to
      }, speed, easing, callback);
    },
    animate : function(prop, speed, easing, callback) {
      var empty = jQuery.isEmptyObject(prop);
      var optall = jQuery.speed(speed, easing, callback);
      var doAnimation = function() {
        var anim = Animation(this, jQuery.extend({}, prop), optall);
        if (empty || jQuery._data(this, "finish")) {
          anim.stop(true);
        }
      };
      return doAnimation.finish = doAnimation, empty || false === optall.queue ? this.each(doAnimation) : this.queue(optall.queue, doAnimation);
    },
    stop : function(type, clearQueue, gotoEnd) {
      var stopQueue = function(hooks) {
        var stop = hooks.stop;
        delete hooks.stop;
        stop(gotoEnd);
      };
      return "string" != typeof type && (gotoEnd = clearQueue, clearQueue = type, type = void 0), clearQueue && false !== type && this.queue(type || "fx", []), this.each(function() {
        var clearQueue = true;
        var index = null != type && type + "queueHooks";
        var timers = jQuery.timers;
        var data = jQuery._data(this);
        if (index) {
          if (data[index] && data[index].stop) {
            stopQueue(data[index]);
          }
        } else {
          for (index in data) {
            if (data[index] && data[index].stop && rrun.test(index)) {
              stopQueue(data[index]);
            }
          }
        }
        index = timers.length;
        for (; index--;) {
          if (!(timers[index].elem !== this || null != type && timers[index].queue !== type)) {
            timers[index].anim.stop(gotoEnd);
            clearQueue = false;
            timers.splice(index, 1);
          }
        }
        if (!(!clearQueue && gotoEnd)) {
          jQuery.dequeue(this, type);
        }
      });
    },
    finish : function(type) {
      return false !== type && (type = type || "fx"), this.each(function() {
        var index;
        var data = jQuery._data(this);
        var queue = data[type + "queue"];
        var hooks = data[type + "queueHooks"];
        var timers = jQuery.timers;
        var length = queue ? queue.length : 0;
        data.finish = true;
        jQuery.queue(this, type, []);
        if (hooks && hooks.stop) {
          hooks.stop.call(this, true);
        }
        index = timers.length;
        for (; index--;) {
          if (timers[index].elem === this && timers[index].queue === type) {
            timers[index].anim.stop(true);
            timers.splice(index, 1);
          }
        }
        index = 0;
        for (; index < length; index++) {
          if (queue[index] && queue[index].finish) {
            queue[index].finish.call(this);
          }
        }
        delete data.finish;
      });
    }
  });
  jQuery.each(["toggle", "show", "hide"], function(i, name) {
    var cssFn = jQuery.fn[name];
    jQuery.fn[name] = function(x, fn2, callback) {
      return null == x || "boolean" == typeof x ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), x, fn2, callback);
    };
  });
  jQuery.each({
    slideDown : genFx("show"),
    slideUp : genFx("hide"),
    slideToggle : genFx("toggle"),
    fadeIn : {
      opacity : "show"
    },
    fadeOut : {
      opacity : "hide"
    },
    fadeToggle : {
      opacity : "toggle"
    }
  }, function(name, props) {
    jQuery.fn[name] = function(speed, fn2, callback) {
      return this.animate(props, speed, fn2, callback);
    };
  });
  jQuery.timers = [];
  jQuery.fx.tick = function() {
    var maxBet;
    var timers = jQuery.timers;
    var i = 0;
    fxNow = jQuery.now();
    for (; i < timers.length; i++) {
      if (!((maxBet = timers[i])() || timers[i] !== maxBet)) {
        timers.splice(i--, 1);
      }
    }
    if (!timers.length) {
      jQuery.fx.stop();
    }
    fxNow = void 0;
  };
  jQuery.fx.timer = function(timer) {
    jQuery.timers.push(timer);
    if (timer()) {
      jQuery.fx.start();
    } else {
      jQuery.timers.pop();
    }
  };
  jQuery.fx.interval = 13;
  jQuery.fx.start = function() {
    if (!slideshowtimer) {
      slideshowtimer = window.setInterval(jQuery.fx.tick, jQuery.fx.interval);
    }
  };
  jQuery.fx.stop = function() {
    window.clearInterval(slideshowtimer);
    slideshowtimer = null;
  };
  jQuery.fx.speeds = {
    slow : 600,
    fast : 200,
    _default : 400
  };
  jQuery.fn.delay = function(time, type) {
    return time = jQuery.fx && jQuery.fx.speeds[time] || time, type = type || "fx", this.queue(type, function(next, incoming_item) {
      var timeout = window.setTimeout(next, time);
      incoming_item.stop = function() {
        window.clearTimeout(timeout);
      };
    });
  };
  (function() {
    var a;
    var input = document.createElement("input");
    var element = document.createElement("div");
    var select = document.createElement("select");
    var opt = select.appendChild(document.createElement("option"));
    (element = document.createElement("div")).setAttribute("className", "t");
    element.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
    a = element.getElementsByTagName("a")[0];
    input.setAttribute("type", "checkbox");
    element.appendChild(input);
    (a = element.getElementsByTagName("a")[0]).style.cssText = "top:1px";
    support.getSetAttribute = "t" !== element.className;
    support.style = /top/.test(a.getAttribute("style"));
    support.hrefNormalized = "/a" === a.getAttribute("href");
    support.checkOn = !!input.value;
    support.optSelected = opt.selected;
    support.enctype = !!document.createElement("form").enctype;
    select.disabled = true;
    support.optDisabled = !opt.disabled;
    (input = document.createElement("input")).setAttribute("value", "");
    support.input = "" === input.getAttribute("value");
    input.value = "t";
    input.setAttribute("type", "radio");
    support.radioValue = "t" === input.value;
  })();
  var a = /\r/g;
  var reNewLines = /[\x20\t\r\n\f]+/g;
  jQuery.fn.extend({
    val : function(value) {
      var hooks;
      var name;
      var isFunction;
      var target = this[0];
      return arguments.length ? (isFunction = jQuery.isFunction(value), this.each(function(i) {
        var val;
        if (1 === this.nodeType) {
          if (null == (val = isFunction ? value.call(this, i, jQuery(this).val()) : value)) {
            val = "";
          } else {
            if ("number" == typeof val) {
              val = val + "";
            } else {
              if (jQuery.isArray(val)) {
                val = jQuery.map(val, function(value) {
                  return null == value ? "" : value + "";
                });
              }
            }
          }
          if (!((hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()]) && "set" in hooks && void 0 !== hooks.set(this, val, "value"))) {
            this.value = val;
          }
        }
      })) : target ? (hooks = jQuery.valHooks[target.type] || jQuery.valHooks[target.nodeName.toLowerCase()]) && "get" in hooks && void 0 !== (name = hooks.get(target, "value")) ? name : "string" == typeof(name = target.value) ? name.replace(a, "") : null == name ? "" : name : void 0;
    }
  });
  jQuery.extend({
    valHooks : {
      option : {
        get : function(input) {
          var inputValueDesc = jQuery.find.attr(input, "value");
          return null != inputValueDesc ? inputValueDesc : jQuery.trim(jQuery.text(input)).replace(reNewLines, " ");
        }
      },
      select : {
        get : function(input) {
          var value;
          var el;
          var data = input.options;
          var index = input.selectedIndex;
          var one = "select-one" === input.type || index < 0;
          var values = one ? null : [];
          var max = one ? index + 1 : data.length;
          var i = index < 0 ? max : one ? index : 0;
          for (; i < max; i++) {
            if (((el = data[i]).selected || i === index) && (support.optDisabled ? !el.disabled : null === el.getAttribute("disabled")) && (!el.parentNode.disabled || !jQuery.nodeName(el.parentNode, "optgroup"))) {
              if (value = jQuery(el).val(), one) {
                return value;
              }
              values.push(value);
            }
          }
          return values;
        },
        set : function(target, value) {
          var outputFn;
          var data;
          var result = target.options;
          var values = jQuery.makeArray(value);
          var j = result.length;
          for (; j--;) {
            if (data = result[j], jQuery.inArray(jQuery.valHooks.option.get(data), values) > -1) {
              try {
                data.selected = outputFn = true;
              } catch (_) {
                data.scrollHeight;
              }
            } else {
              data.selected = false;
            }
          }
          return outputFn || (target.selectedIndex = -1), result;
        }
      }
    }
  });
  jQuery.each(["radio", "checkbox"], function() {
    jQuery.valHooks[this] = {
      set : function(value, type) {
        if (jQuery.isArray(type)) {
          return value.checked = jQuery.inArray(jQuery(value).val(), type) > -1;
        }
      }
    };
    if (!support.checkOn) {
      jQuery.valHooks[this].get = function(target) {
        return null === target.getAttribute("value") ? "on" : target.value;
      };
    }
  });
  var nodeHook;
  var boolHook;
  var attrHandle = jQuery.expr.attrHandle;
  var reBlockName = /^(?:checked|selected)$/i;
  var getSetAttribute = support.getSetAttribute;
  var getSetInput = support.input;
  jQuery.fn.extend({
    attr : function(name, value) {
      return access(this, jQuery.attr, name, value, arguments.length > 1);
    },
    removeAttr : function(name) {
      return this.each(function() {
        jQuery.removeAttr(this, name);
      });
    }
  });
  jQuery.extend({
    attr : function(elem, name, value) {
      var ret;
      var hooks;
      var type = elem.nodeType;
      if (3 !== type && 8 !== type && 2 !== type) {
        return void 0 === elem.getAttribute ? jQuery.prop(elem, name, value) : (1 === type && jQuery.isXMLDoc(elem) || (name = name.toLowerCase(), hooks = jQuery.attrHooks[name] || (jQuery.expr.match.bool.test(name) ? boolHook : nodeHook)), void 0 !== value ? null === value ? void jQuery.removeAttr(elem, name) : hooks && "set" in hooks && void 0 !== (ret = hooks.set(elem, value, name)) ? ret : (elem.setAttribute(name, value + ""), value) : hooks && "get" in hooks && null !== (ret = hooks.get(elem, 
        name)) ? ret : null == (ret = jQuery.find.attr(elem, name)) ? void 0 : ret);
      }
    },
    attrHooks : {
      type : {
        set : function(target, type) {
          if (!support.radioValue && "radio" === type && jQuery.nodeName(target, "input")) {
            var id = target.value;
            return target.setAttribute("type", type), id && (target.value = id), type;
          }
        }
      }
    },
    removeAttr : function(elem, value) {
      var name;
      var propName;
      var i = 0;
      var attrNames = value && value.match(rnotwhite);
      if (attrNames && 1 === elem.nodeType) {
        for (; name = attrNames[i++];) {
          propName = jQuery.propFix[name] || name;
          if (jQuery.expr.match.bool.test(name)) {
            if (getSetInput && getSetAttribute || !reBlockName.test(name)) {
              elem[propName] = false;
            } else {
              elem[jQuery.camelCase("default-" + name)] = elem[propName] = false;
            }
          } else {
            jQuery.attr(elem, name, "");
          }
          elem.removeAttribute(getSetAttribute ? name : propName);
        }
      }
    }
  });
  boolHook = {
    set : function(value, object, name) {
      return false === object ? jQuery.removeAttr(value, name) : getSetInput && getSetAttribute || !reBlockName.test(name) ? value.setAttribute(!getSetAttribute && jQuery.propFix[name] || name, name) : value[jQuery.camelCase("default-" + name)] = value[name] = true, name;
    }
  };
  jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function(i, name) {
    var getter = attrHandle[name] || jQuery.find.attr;
    if (getSetInput && getSetAttribute || !reBlockName.test(name)) {
      attrHandle[name] = function(style, name, isXML) {
        var ret;
        var handle;
        return isXML || (handle = attrHandle[name], attrHandle[name] = ret, ret = null != getter(style, name, isXML) ? name.toLowerCase() : null, attrHandle[name] = handle), ret;
      };
    } else {
      attrHandle[name] = function(elem, name, isXML) {
        if (!isXML) {
          return elem[jQuery.camelCase("default-" + name)] ? name.toLowerCase() : null;
        }
      };
    }
  });
  if (!(getSetInput && getSetAttribute)) {
    jQuery.attrHooks.value = {
      set : function(target, value, name) {
        if (!jQuery.nodeName(target, "input")) {
          return nodeHook && nodeHook.set(target, value, name);
        }
        target.defaultValue = value;
      }
    };
  }
  if (!getSetAttribute) {
    nodeHook = {
      set : function(target, value, name) {
        var ret = target.getAttributeNode(name);
        if (ret || target.setAttributeNode(ret = target.ownerDocument.createAttribute(name)), ret.value = value = value + "", "value" === name || value === target.getAttribute(name)) {
          return value;
        }
      }
    };
    attrHandle.id = attrHandle.name = attrHandle.coords = function(elem, name, res) {
      var cfg;
      if (!res) {
        return (cfg = elem.getAttributeNode(name)) && "" !== cfg.value ? cfg.value : null;
      }
    };
    jQuery.valHooks.button = {
      get : function(target, name) {
        var attributeNode = target.getAttributeNode(name);
        if (attributeNode && attributeNode.specified) {
          return attributeNode.value;
        }
      },
      set : nodeHook.set
    };
    jQuery.attrHooks.contenteditable = {
      set : function(type, value, name) {
        nodeHook.set(type, "" !== value && value, name);
      }
    };
    jQuery.each(["width", "height"], function(i, name) {
      jQuery.attrHooks[name] = {
        set : function(target, value) {
          if ("" === value) {
            return target.setAttribute(name, "auto"), value;
          }
        }
      };
    });
  }
  if (!support.style) {
    jQuery.attrHooks.style = {
      get : function(target) {
        return target.style.cssText || void 0;
      },
      set : function(target, value) {
        return target.style.cssText = value + "";
      }
    };
  }
  var _rimg = /^(?:input|select|textarea|button|object)$/i;
  var inputNodeNames = /^(?:a|area)$/i;
  jQuery.fn.extend({
    prop : function(name, value) {
      return access(this, jQuery.prop, name, value, arguments.length > 1);
    },
    removeProp : function(name) {
      return name = jQuery.propFix[name] || name, this.each(function() {
        try {
          this[name] = void 0;
          delete this[name];
        } catch (e) {
        }
      });
    }
  });
  jQuery.extend({
    prop : function(data, name, value) {
      var ret;
      var hooks;
      var type = data.nodeType;
      if (3 !== type && 8 !== type && 2 !== type) {
        return 1 === type && jQuery.isXMLDoc(data) || (name = jQuery.propFix[name] || name, hooks = jQuery.propHooks[name]), void 0 !== value ? hooks && "set" in hooks && void 0 !== (ret = hooks.set(data, value, name)) ? ret : data[name] = value : hooks && "get" in hooks && null !== (ret = hooks.get(data, name)) ? ret : data[name];
      }
    },
    propHooks : {
      tabIndex : {
        get : function(target) {
          var b = jQuery.find.attr(target, "tabindex");
          return b ? parseInt(b, 10) : _rimg.test(target.nodeName) || inputNodeNames.test(target.nodeName) && target.href ? 0 : -1;
        }
      }
    },
    propFix : {
      for : "htmlFor",
      class : "className"
    }
  });
  if (!support.hrefNormalized) {
    jQuery.each(["href", "src"], function(i, name) {
      jQuery.propHooks[name] = {
        get : function(target) {
          return target.getAttribute(name, 4);
        }
      };
    });
  }
  if (!support.optSelected) {
    jQuery.propHooks.selected = {
      get : function(input) {
        var target = input.parentNode;
        return target && (target.selectedIndex, target.parentNode && target.parentNode.selectedIndex), null;
      },
      set : function(input) {
        var target = input.parentNode;
        if (target) {
          target.selectedIndex;
          if (target.parentNode) {
            target.parentNode.selectedIndex;
          }
        }
      }
    };
  }
  jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
    jQuery.propFix[this.toLowerCase()] = this;
  });
  if (!support.enctype) {
    jQuery.propFix.enctype = "encoding";
  }
  var reSpace = /[\t\r\n\f]/g;
  jQuery.fn.extend({
    addClass : function(value) {
      var graphs;
      var elem;
      var s;
      var c;
      var g;
      var j;
      var i;
      var val = 0;
      if (jQuery.isFunction(value)) {
        return this.each(function(i) {
          jQuery(this).addClass(value.call(this, i, getClass(this)));
        });
      }
      if ("string" == typeof value && value) {
        graphs = value.match(rnotwhite) || [];
        for (; elem = this[val++];) {
          if (c = getClass(elem), s = 1 === elem.nodeType && (" " + c + " ").replace(reSpace, " ")) {
            j = 0;
            for (; g = graphs[j++];) {
              if (s.indexOf(" " + g + " ") < 0) {
                s = s + (g + " ");
              }
            }
            if (c !== (i = jQuery.trim(s))) {
              jQuery.attr(elem, "class", i);
            }
          }
        }
      }
      return this;
    },
    removeClass : function(value) {
      var cache;
      var name;
      var cur;
      var classname;
      var bufferindex;
      var j;
      var val;
      var i = 0;
      if (jQuery.isFunction(value)) {
        return this.each(function(i) {
          jQuery(this).removeClass(value.call(this, i, getClass(this)));
        });
      }
      if (!arguments.length) {
        return this.attr("class", "");
      }
      if ("string" == typeof value && value) {
        cache = value.match(rnotwhite) || [];
        for (; name = this[i++];) {
          if (classname = getClass(name), cur = 1 === name.nodeType && (" " + classname + " ").replace(reSpace, " ")) {
            j = 0;
            for (; bufferindex = cache[j++];) {
              for (; cur.indexOf(" " + bufferindex + " ") > -1;) {
                cur = cur.replace(" " + bufferindex + " ", " ");
              }
            }
            if (classname !== (val = jQuery.trim(cur))) {
              jQuery.attr(name, "class", val);
            }
          }
        }
      }
      return this;
    },
    toggleClass : function(value, stateVal) {
      var undefined = typeof value;
      return "boolean" == typeof stateVal && "string" === undefined ? stateVal ? this.addClass(value) : this.removeClass(value) : jQuery.isFunction(value) ? this.each(function(i) {
        jQuery(this).toggleClass(value.call(this, i, getClass(this), stateVal), stateVal);
      }) : this.each(function() {
        var className;
        var i;
        var $body;
        var classNames;
        if ("string" === undefined) {
          i = 0;
          $body = jQuery(this);
          classNames = value.match(rnotwhite) || [];
          for (; className = classNames[i++];) {
            if ($body.hasClass(className)) {
              $body.removeClass(className);
            } else {
              $body.addClass(className);
            }
          }
        } else {
          if (!(void 0 !== value && "boolean" !== undefined)) {
            if (className = getClass(this)) {
              jQuery._data(this, "__className__", className);
            }
            jQuery.attr(this, "class", className || false === value ? "" : jQuery._data(this, "__className__") || "");
          }
        }
      });
    },
    hasClass : function(name) {
      var exactLanguageCode;
      var value;
      var i = 0;
      exactLanguageCode = " " + name + " ";
      for (; value = this[i++];) {
        if (1 === value.nodeType && (" " + getClass(value) + " ").replace(reSpace, " ").indexOf(exactLanguageCode) > -1) {
          return true;
        }
      }
      return false;
    }
  });
  jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(i, type) {
    jQuery.fn[type] = function(fn, callback) {
      return arguments.length > 0 ? this.on(type, null, fn, callback) : this.trigger(type);
    };
  });
  jQuery.fn.extend({
    hover : function(fnOver, fnOut) {
      return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
    }
  });
  var location = window.location;
  var widgetUniqueIDIndex = jQuery.now();
  var rquery = /\?/;
  var re = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
  jQuery.parseJSON = function(data) {
    if (window.JSON && window.JSON.parse) {
      return window.JSON.parse(data + "");
    }
    var requireNonComma;
    var string = null;
    var name = jQuery.trim(data + "");
    return name && !jQuery.trim(name.replace(re, function(a, comma, open, close) {
      return requireNonComma && comma && (string = 0), 0 === string ? a : (requireNonComma = open || comma, string = string + (!close - !open), "");
    })) ? Function("return " + name)() : jQuery.error("Invalid JSON: " + data);
  };
  jQuery.parseXML = function(data) {
    var doc;
    if (!data || "string" != typeof data) {
      return null;
    }
    try {
      if (window.DOMParser) {
        doc = (new window.DOMParser).parseFromString(data, "text/xml");
      } else {
        (doc = new window.ActiveXObject("Microsoft.XMLDOM")).async = "false";
        doc.loadXML(data);
      }
    } catch (e) {
      doc = void 0;
    }
    return doc && doc.documentElement && !doc.getElementsByTagName("parsererror").length || jQuery.error("Invalid XML: " + data), doc;
  };
  var savedRegExp = /#.*$/;
  var rts = /([?&])_=[^&]*/;
  var rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm;
  var rnoContent = /^(?:GET|HEAD)$/;
  var jsre = /^\/\//;
  var rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/;
  var prefilters = {};
  var transports = {};
  var allTypes = "*/".concat("*");
  var ajaxLocation = location.href;
  var _match = rurl.exec(ajaxLocation.toLowerCase()) || [];
  jQuery.extend({
    active : 0,
    lastModified : {},
    etag : {},
    ajaxSettings : {
      url : ajaxLocation,
      type : "GET",
      isLocal : /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_match[1]),
      global : true,
      processData : true,
      async : true,
      contentType : "application/x-www-form-urlencoded; charset=UTF-8",
      accepts : {
        "*" : allTypes,
        text : "text/plain",
        html : "text/html",
        xml : "application/xml, text/xml",
        json : "application/json, text/javascript"
      },
      contents : {
        xml : /\bxml\b/,
        html : /\bhtml/,
        json : /\bjson\b/
      },
      responseFields : {
        xml : "responseXML",
        text : "responseText",
        json : "responseJSON"
      },
      converters : {
        "* text" : String,
        "text html" : true,
        "text json" : jQuery.parseJSON,
        "text xml" : jQuery.parseXML
      },
      flatOptions : {
        url : true,
        context : true
      }
    },
    ajaxSetup : function(target, settings) {
      return settings ? ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) : ajaxExtend(jQuery.ajaxSettings, target);
    },
    ajaxPrefilter : addToPrefiltersOrTransports(prefilters),
    ajaxTransport : addToPrefiltersOrTransports(transports),
    ajax : function(url, options) {
      function done(status, nativeStatusText, responses, headers) {
        var isSuccess;
        var success;
        var error;
        var response;
        var modified;
        var statusText = nativeStatusText;
        if (2 !== e) {
          e = 2;
          if (showAboveTimeout) {
            window.clearTimeout(showAboveTimeout);
          }
          transport = void 0;
          responseHeadersString = headers || "";
          jqXHR.readyState = status > 0 ? 4 : 0;
          isSuccess = status >= 200 && status < 300 || 304 === status;
          if (responses) {
            response = function(s, ajaxRequest, responses) {
              var firstDataType;
              var ct;
              var finalDataType;
              var type;
              var contents = s.contents;
              var dataTypes = s.dataTypes;
              for (; "*" === dataTypes[0];) {
                dataTypes.shift();
                if (void 0 === ct) {
                  ct = s.mimeType || ajaxRequest.getResponseHeader("Content-Type");
                }
              }
              if (ct) {
                for (type in contents) {
                  if (contents[type] && contents[type].test(ct)) {
                    dataTypes.unshift(type);
                    break;
                  }
                }
              }
              if (dataTypes[0] in responses) {
                finalDataType = dataTypes[0];
              } else {
                for (type in responses) {
                  if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
                    finalDataType = type;
                    break;
                  }
                  if (!firstDataType) {
                    firstDataType = type;
                  }
                }
                finalDataType = finalDataType || firstDataType;
              }
              if (finalDataType) {
                return finalDataType !== dataTypes[0] && dataTypes.unshift(finalDataType), responses[finalDataType];
              }
            }(s, jqXHR, responses);
          }
          response = function(s, response, jqXHR, isSuccess) {
            var conv2;
            var current;
            var conv;
            var tmp;
            var prev;
            var converters = {};
            var deps = s.dataTypes.slice();
            if (deps[1]) {
              for (conv in s.converters) {
                converters[conv.toLowerCase()] = s.converters[conv];
              }
            }
            current = deps.shift();
            for (; current;) {
              if (s.responseFields[current] && (jqXHR[s.responseFields[current]] = response), !prev && isSuccess && s.dataFilter && (response = s.dataFilter(response, s.dataType)), prev = current, current = deps.shift()) {
                if ("*" === current) {
                  current = prev;
                } else {
                  if ("*" !== prev && prev !== current) {
                    if (!(conv = converters[prev + " " + current] || converters["* " + current])) {
                      for (conv2 in converters) {
                        if ((tmp = conv2.split(" "))[1] === current && (conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]])) {
                          if (true === conv) {
                            conv = converters[conv2];
                          } else {
                            if (true !== converters[conv2]) {
                              current = tmp[0];
                              deps.unshift(tmp[1]);
                            }
                          }
                          break;
                        }
                      }
                    }
                    if (true !== conv) {
                      if (conv && s.throws) {
                        response = conv(response);
                      } else {
                        try {
                          response = conv(response);
                        } catch (e) {
                          return {
                            state : "parsererror",
                            error : conv ? e : "No conversion from " + prev + " to " + current
                          };
                        }
                      }
                    }
                  }
                }
              }
            }
            return {
              state : "success",
              data : response
            };
          }(s, response, jqXHR, isSuccess);
          if (isSuccess) {
            if (s.ifModified) {
              if (modified = jqXHR.getResponseHeader("Last-Modified")) {
                jQuery.lastModified[cacheURL] = modified;
              }
              if (modified = jqXHR.getResponseHeader("etag")) {
                jQuery.etag[cacheURL] = modified;
              }
            }
            if (204 === status || "HEAD" === s.type) {
              statusText = "nocontent";
            } else {
              if (304 === status) {
                statusText = "notmodified";
              } else {
                statusText = response.state;
                success = response.data;
                isSuccess = !(error = response.error);
              }
            }
          } else {
            error = statusText;
            if (!(!status && statusText)) {
              statusText = "error";
              if (status < 0) {
                status = 0;
              }
            }
          }
          jqXHR.status = status;
          jqXHR.statusText = (nativeStatusText || statusText) + "";
          if (isSuccess) {
            deferred.resolveWith(obj, [success, statusText, jqXHR]);
          } else {
            deferred.rejectWith(obj, [jqXHR, statusText, error]);
          }
          jqXHR.statusCode(statusCode);
          statusCode = void 0;
          if (fireGlobals) {
            globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error]);
          }
          completeDeferred.fireWith(obj, [jqXHR, statusText]);
          if (fireGlobals) {
            globalEventContext.trigger("ajaxComplete", [jqXHR, s]);
            if (!--jQuery.active) {
              jQuery.event.trigger("ajaxStop");
            }
          }
        }
      }
      if ("object" == typeof url) {
        options = url;
        url = void 0;
      }
      options = options || {};
      var _caseArgs;
      var i;
      var cacheURL;
      var responseHeadersString;
      var showAboveTimeout;
      var fireGlobals;
      var transport;
      var responseHeaders;
      var s = jQuery.ajaxSetup({}, options);
      var obj = s.context || s;
      var globalEventContext = s.context && (obj.nodeType || obj.jquery) ? jQuery(obj) : jQuery.event;
      var deferred = jQuery.Deferred();
      var completeDeferred = jQuery.Callbacks("once memory");
      var statusCode = s.statusCode || {};
      var data = {};
      var requestHeadersNames = {};
      var e = 0;
      var strAbort = "canceled";
      var jqXHR = {
        readyState : 0,
        getResponseHeader : function(header) {
          var match;
          if (2 === e) {
            if (!responseHeaders) {
              responseHeaders = {};
              for (; match = rheaders.exec(responseHeadersString);) {
                responseHeaders[match[1].toLowerCase()] = match[2];
              }
            }
            match = responseHeaders[header.toLowerCase()];
          }
          return null == match ? null : match;
        },
        getAllResponseHeaders : function() {
          return 2 === e ? responseHeadersString : null;
        },
        setRequestHeader : function(name, value) {
          var lname = name.toLowerCase();
          return e || (name = requestHeadersNames[lname] = requestHeadersNames[lname] || name, data[name] = value), this;
        },
        overrideMimeType : function(type) {
          return e || (s.mimeType = type), this;
        },
        statusCode : function(map) {
          var tmp;
          if (map) {
            if (e < 2) {
              for (tmp in map) {
                statusCode[tmp] = [statusCode[tmp], map[tmp]];
              }
            } else {
              jqXHR.always(map[jqXHR.status]);
            }
          }
          return this;
        },
        abort : function(statusText) {
          var finalText = statusText || strAbort;
          return transport && transport.abort(finalText), done(0, finalText), this;
        }
      };
      if (deferred.promise(jqXHR).complete = completeDeferred.add, jqXHR.success = jqXHR.done, jqXHR.error = jqXHR.fail, s.url = ((url || s.url || ajaxLocation) + "").replace(savedRegExp, "").replace(jsre, _match[1] + "//"), s.type = options.method || options.type || s.method || s.type, s.dataTypes = jQuery.trim(s.dataType || "*").toLowerCase().match(rnotwhite) || [""], null == s.crossDomain && (_caseArgs = rurl.exec(s.url.toLowerCase()), s.crossDomain = !(!_caseArgs || _caseArgs[1] === _match[1] && 
      _caseArgs[2] === _match[2] && (_caseArgs[3] || ("http:" === _caseArgs[1] ? "80" : "443")) === (_match[3] || ("http:" === _match[1] ? "80" : "443")))), s.data && s.processData && "string" != typeof s.data && (s.data = jQuery.param(s.data, s.traditional)), inspectPrefiltersOrTransports(prefilters, s, options, jqXHR), 2 === e) {
        return jqXHR;
      }
      for (i in(fireGlobals = jQuery.event && s.global) && 0 == jQuery.active++ && jQuery.event.trigger("ajaxStart"), s.type = s.type.toUpperCase(), s.hasContent = !rnoContent.test(s.type), cacheURL = s.url, s.hasContent || (s.data && (cacheURL = s.url += (rquery.test(cacheURL) ? "&" : "?") + s.data, delete s.data), false === s.cache && (s.url = rts.test(cacheURL) ? cacheURL.replace(rts, "$1_=" + widgetUniqueIDIndex++) : cacheURL + (rquery.test(cacheURL) ? "&" : "?") + "_=" + widgetUniqueIDIndex++)), 
      s.ifModified && (jQuery.lastModified[cacheURL] && jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL]), jQuery.etag[cacheURL] && jqXHR.setRequestHeader("If-None-Match", jQuery.etag[cacheURL])), (s.data && s.hasContent && false !== s.contentType || options.contentType) && jqXHR.setRequestHeader("Content-Type", s.contentType), jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + ("*" !== s.dataTypes[0] ? ", " + allTypes + 
      "; q=0.01" : "") : s.accepts["*"]), s.headers) {
        jqXHR.setRequestHeader(i, s.headers[i]);
      }
      if (s.beforeSend && (false === s.beforeSend.call(obj, jqXHR, s) || 2 === e)) {
        return jqXHR.abort();
      }
      for (i in strAbort = "abort", {
        success : 1,
        error : 1,
        complete : 1
      }) {
        jqXHR[i](s[i]);
      }
      if (transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR)) {
        if (jqXHR.readyState = 1, fireGlobals && globalEventContext.trigger("ajaxSend", [jqXHR, s]), 2 === e) {
          return jqXHR;
        }
        if (s.async && s.timeout > 0) {
          showAboveTimeout = window.setTimeout(function() {
            jqXHR.abort("timeout");
          }, s.timeout);
        }
        try {
          e = 1;
          transport.send(data, done);
        } catch (success) {
          if (!(e < 2)) {
            throw success;
          }
          done(-1, success);
        }
      } else {
        done(-1, "No Transport");
      }
      return jqXHR;
    },
    getJSON : function(data, callback, name) {
      return jQuery.get(data, callback, name, "json");
    },
    getScript : function(type, options) {
      return jQuery.get(type, void 0, options, "script");
    }
  });
  jQuery.each(["get", "post"], function(i, method) {
    jQuery[method] = function(url, data, callback, type) {
      return jQuery.isFunction(data) && (type = type || callback, callback = data, data = void 0), jQuery.ajax(jQuery.extend({
        url : url,
        type : method,
        dataType : type,
        data : data,
        success : callback
      }, jQuery.isPlainObject(url) && url));
    };
  });
  jQuery._evalUrl = function(url) {
    return jQuery.ajax({
      url : url,
      type : "GET",
      dataType : "script",
      cache : true,
      async : false,
      global : false,
      throws : true
    });
  };
  jQuery.fn.extend({
    wrapAll : function(el) {
      if (jQuery.isFunction(el)) {
        return this.each(function(i) {
          jQuery(this).wrapAll(el.call(this, i));
        });
      }
      if (this[0]) {
        var wrap = jQuery(el, this[0].ownerDocument).eq(0).clone(true);
        if (this[0].parentNode) {
          wrap.insertBefore(this[0]);
        }
        wrap.map(function() {
          var elem = this;
          for (; elem.firstChild && 1 === elem.firstChild.nodeType;) {
            elem = elem.firstChild;
          }
          return elem;
        }).append(this);
      }
      return this;
    },
    wrapInner : function(html) {
      return jQuery.isFunction(html) ? this.each(function(i) {
        jQuery(this).wrapInner(html.call(this, i));
      }) : this.each(function() {
        var self = jQuery(this);
        var contents = self.contents();
        if (contents.length) {
          contents.wrapAll(html);
        } else {
          self.append(html);
        }
      });
    },
    wrap : function(html) {
      var isFunction = jQuery.isFunction(html);
      return this.each(function(i) {
        jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);
      });
    },
    unwrap : function() {
      return this.parent().each(function() {
        if (!jQuery.nodeName(this, "body")) {
          jQuery(this).replaceWith(this.childNodes);
        }
      }).end();
    }
  });
  jQuery.expr.filters.hidden = function(type) {
    return support.reliableHiddenOffsets() ? type.offsetWidth <= 0 && type.offsetHeight <= 0 && !type.getClientRects().length : function(elem) {
      if (!jQuery.contains(elem.ownerDocument || document, elem)) {
        return true;
      }
      for (; elem && 1 === elem.nodeType;) {
        if ("none" === getStyle(elem) || "hidden" === elem.type) {
          return true;
        }
        elem = elem.parentNode;
      }
      return false;
    }(type);
  };
  jQuery.expr.filters.visible = function(type) {
    return !jQuery.expr.filters.hidden(type);
  };
  var regNewline = /%20/g;
  var PATTERN_TAG_URI = /\[\]$/;
  var rCRLF = /\r?\n/g;
  var rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i;
  var rsubmittable = /^(?:input|select|textarea|keygen)/i;
  jQuery.param = function(a, traditional) {
    var prefix;
    var s = [];
    var add = function(key, value) {
      value = jQuery.isFunction(value) ? value() : null == value ? "" : value;
      s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value);
    };
    if (void 0 === traditional && (traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional), jQuery.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) {
      jQuery.each(a, function() {
        add(this.name, this.value);
      });
    } else {
      for (prefix in a) {
        buildParams(prefix, a[prefix], traditional, add);
      }
    }
    return s.join("&").replace(regNewline, "+");
  };
  jQuery.fn.extend({
    serialize : function() {
      return jQuery.param(this.serializeArray());
    },
    serializeArray : function() {
      return this.map(function() {
        var elements = jQuery.prop(this, "elements");
        return elements ? jQuery.makeArray(elements) : this;
      }).filter(function() {
        var type = this.type;
        return this.name && !jQuery(this).is(":disabled") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !manipulation_rcheckableType.test(type));
      }).map(function(i, elem) {
        var val = jQuery(this).val();
        return null == val ? null : jQuery.isArray(val) ? jQuery.map(val, function(val) {
          return {
            name : elem.name,
            value : val.replace(rCRLF, "\r\n")
          };
        }) : {
          name : elem.name,
          value : val.replace(rCRLF, "\r\n")
        };
      }).get();
    }
  });
  jQuery.ajaxSettings.xhr = void 0 !== window.ActiveXObject ? function() {
    return this.isLocal ? getNewXmlHttpRequest() : document.documentMode > 8 ? createStandardXHR() : /^(get|post|head|put|delete|options)$/i.test(this.type) && createStandardXHR() || getNewXmlHttpRequest();
  } : createStandardXHR;
  var maxId = 0;
  var params = {};
  var xmlHttp = jQuery.ajaxSettings.xhr();
  if (window.attachEvent) {
    window.attachEvent("onunload", function() {
      var thing;
      for (thing in params) {
        params[thing](void 0, true);
      }
    });
  }
  support.cors = !!xmlHttp && "withCredentials" in xmlHttp;
  if (xmlHttp = support.ajax = !!xmlHttp) {
    jQuery.ajaxTransport(function(s) {
      var callback;
      if (!s.crossDomain || support.cors) {
        return {
          send : function(headers, callback) {
            var i;
            var xhr = s.xhr();
            var id = ++maxId;
            if (xhr.open(s.type, s.url, s.async, s.username, s.password), s.xhrFields) {
              for (i in s.xhrFields) {
                xhr[i] = s.xhrFields[i];
              }
            }
            for (i in s.mimeType && xhr.overrideMimeType && xhr.overrideMimeType(s.mimeType), s.crossDomain || headers["X-Requested-With"] || (headers["X-Requested-With"] = "XMLHttpRequest"), headers) {
              if (void 0 !== headers[i]) {
                xhr.setRequestHeader(i, headers[i] + "");
              }
            }
            xhr.send(s.hasContent && s.data || null);
            callback = function(_, isAbort) {
              var _name;
              var statusText;
              var responses;
              if (callback && (isAbort || 4 === xhr.readyState)) {
                if (delete params[id], callback = void 0, xhr.onreadystatechange = jQuery.noop, isAbort) {
                  if (4 !== xhr.readyState) {
                    xhr.abort();
                  }
                } else {
                  responses = {};
                  _name = xhr.status;
                  if ("string" == typeof xhr.responseText) {
                    responses.text = xhr.responseText;
                  }
                  try {
                    statusText = xhr.statusText;
                  } catch (e) {
                    statusText = "";
                  }
                  if (_name || !s.isLocal || s.crossDomain) {
                    if (1223 === _name) {
                      _name = 204;
                    }
                  } else {
                    _name = responses.text ? 200 : 404;
                  }
                }
              }
              if (responses) {
                callback(_name, statusText, responses, xhr.getAllResponseHeaders());
              }
            };
            if (s.async) {
              if (4 === xhr.readyState) {
                window.setTimeout(callback);
              } else {
                xhr.onreadystatechange = params[id] = callback;
              }
            } else {
              callback();
            }
          },
          abort : function() {
            if (callback) {
              callback(void 0, true);
            }
          }
        };
      }
    });
  }
  jQuery.ajaxSetup({
    accepts : {
      script : "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
    },
    contents : {
      script : /\b(?:java|ecma)script\b/
    },
    converters : {
      "text script" : function(value) {
        return jQuery.globalEval(value), value;
      }
    }
  });
  jQuery.ajaxPrefilter("script", function(settings) {
    if (void 0 === settings.cache) {
      settings.cache = false;
    }
    if (settings.crossDomain) {
      settings.type = "GET";
      settings.global = false;
    }
  });
  jQuery.ajaxTransport("script", function(s) {
    if (s.crossDomain) {
      var script;
      var head = document.head || jQuery("head")[0] || document.documentElement;
      return {
        send : function(key, done) {
          (script = document.createElement("script")).async = true;
          if (s.scriptCharset) {
            script.charset = s.scriptCharset;
          }
          script.src = s.url;
          script.onload = script.onreadystatechange = function(event, data) {
            if (data || !script.readyState || /loaded|complete/.test(script.readyState)) {
              script.onload = script.onreadystatechange = null;
              if (script.parentNode) {
                script.parentNode.removeChild(script);
              }
              script = null;
              if (!data) {
                done(200, "success");
              }
            }
          };
          head.insertBefore(script, head.firstChild);
        },
        abort : function() {
          if (script) {
            script.onload(void 0, true);
          }
        }
      };
    }
  });
  var oldCallbacks = [];
  var rjsonp = /(=)\?(?=&|$)|\?\?/;
  jQuery.ajaxSetup({
    jsonp : "callback",
    jsonpCallback : function() {
      var indexLookupKey = oldCallbacks.pop() || jQuery.expando + "_" + widgetUniqueIDIndex++;
      return this[indexLookupKey] = true, indexLookupKey;
    }
  });
  jQuery.ajaxPrefilter("json jsonp", function(s, originalSettings, scanners) {
    var callbackName;
    var overwritten;
    var responseContainer;
    var jsonProp = false !== s.jsonp && (rjsonp.test(s.url) ? "url" : "string" == typeof s.data && 0 === (s.contentType || "").indexOf("application/x-www-form-urlencoded") && rjsonp.test(s.data) && "data");
    if (jsonProp || "jsonp" === s.dataTypes[0]) {
      return callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback, jsonProp ? s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName) : false !== s.jsonp && (s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName), s.converters["script json"] = function() {
        return responseContainer || jQuery.error(callbackName + " was not called"), responseContainer[0];
      }, s.dataTypes[0] = "json", overwritten = window[callbackName], window[callbackName] = function() {
        responseContainer = arguments;
      }, scanners.always(function() {
        if (void 0 === overwritten) {
          jQuery(window).removeProp(callbackName);
        } else {
          window[callbackName] = overwritten;
        }
        if (s[callbackName]) {
          s.jsonpCallback = originalSettings.jsonpCallback;
          oldCallbacks.push(callbackName);
        }
        if (responseContainer && jQuery.isFunction(overwritten)) {
          overwritten(responseContainer[0]);
        }
        responseContainer = overwritten = void 0;
      }), "script";
    }
  });
  jQuery.parseHTML = function(data, context, keepScripts) {
    if (!data || "string" != typeof data) {
      return null;
    }
    if ("boolean" == typeof context) {
      keepScripts = context;
      context = false;
    }
    context = context || document;
    var parsed = rsingleTag.exec(data);
    var value = !keepScripts && [];
    return parsed ? [context.createElement(parsed[1])] : (parsed = buildFragment([data], context, value), value && value.length && jQuery(value).remove(), jQuery.merge([], parsed.childNodes));
  };
  var proxyStoreLoad = jQuery.fn.load;
  jQuery.fn.load = function(url, value, callback) {
    if ("string" != typeof url && proxyStoreLoad) {
      return proxyStoreLoad.apply(this, arguments);
    }
    var selector;
    var method;
    var args;
    var self = this;
    var off = url.indexOf(" ");
    return off > -1 && (selector = jQuery.trim(url.slice(off, url.length)), url = url.slice(0, off)), jQuery.isFunction(value) ? (callback = value, value = void 0) : value && "object" == typeof value && (method = "POST"), self.length > 0 && jQuery.ajax({
      url : url,
      type : method || "GET",
      dataType : "html",
      data : value
    }).done(function(responseText) {
      args = arguments;
      self.html(selector ? jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) : responseText);
    }).always(callback && function(type, name) {
      self.each(function() {
        callback.apply(this, args || [type.responseText, name, type]);
      });
    }), this;
  };
  jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(i, type) {
    jQuery.fn[type] = function(fn) {
      return this.on(type, fn);
    };
  });
  jQuery.expr.filters.animated = function(elem) {
    return jQuery.grep(jQuery.timers, function(fn) {
      return elem === fn.elem;
    }).length;
  };
  jQuery.offset = {
    setOffset : function(element, options, x) {
      var curPosition;
      var curLeft;
      var curCSSTop;
      var curTop;
      var curOffset;
      var curCSSLeft;
      var propertyName = jQuery.css(element, "position");
      var curElem = jQuery(element);
      var props = {};
      if ("static" === propertyName) {
        element.style.position = "relative";
      }
      curOffset = curElem.offset();
      curCSSTop = jQuery.css(element, "top");
      curCSSLeft = jQuery.css(element, "left");
      if (("absolute" === propertyName || "fixed" === propertyName) && jQuery.inArray("auto", [curCSSTop, curCSSLeft]) > -1) {
        curTop = (curPosition = curElem.position()).top;
        curLeft = curPosition.left;
      } else {
        curTop = parseFloat(curCSSTop) || 0;
        curLeft = parseFloat(curCSSLeft) || 0;
      }
      if (jQuery.isFunction(options)) {
        options = options.call(element, x, jQuery.extend({}, curOffset));
      }
      if (null != options.top) {
        props.top = options.top - curOffset.top + curTop;
      }
      if (null != options.left) {
        props.left = options.left - curOffset.left + curLeft;
      }
      if ("using" in options) {
        options.using.call(element, props);
      } else {
        curElem.css(props);
      }
    }
  };
  jQuery.fn.extend({
    offset : function(type) {
      if (arguments.length) {
        return void 0 === type ? this : this.each(function(i) {
          jQuery.offset.setOffset(this, type, i);
        });
      }
      var el;
      var win;
      var anitarget = {
        top : 0,
        left : 0
      };
      var elem = this[0];
      var doc = elem && elem.ownerDocument;
      return doc ? (el = doc.documentElement, jQuery.contains(el, elem) ? (void 0 !== elem.getBoundingClientRect && (anitarget = elem.getBoundingClientRect()), win = getWindow(doc), {
        top : anitarget.top + (win.pageYOffset || el.scrollTop) - (el.clientTop || 0),
        left : anitarget.left + (win.pageXOffset || el.scrollLeft) - (el.clientLeft || 0)
      }) : anitarget) : void 0;
    },
    position : function() {
      if (this[0]) {
        var offsetParent;
        var offset;
        var parentOffset = {
          top : 0,
          left : 0
        };
        var elem = this[0];
        return "fixed" === jQuery.css(elem, "position") ? offset = elem.getBoundingClientRect() : (offsetParent = this.offsetParent(), offset = this.offset(), jQuery.nodeName(offsetParent[0], "html") || (parentOffset = offsetParent.offset()), parentOffset.top += jQuery.css(offsetParent[0], "borderTopWidth", true), parentOffset.left += jQuery.css(offsetParent[0], "borderLeftWidth", true)), {
          top : offset.top - parentOffset.top - jQuery.css(elem, "marginTop", true),
          left : offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", true)
        };
      }
    },
    offsetParent : function() {
      return this.map(function() {
        var parent = this.offsetParent;
        for (; parent && !jQuery.nodeName(parent, "html") && "static" === jQuery.css(parent, "position");) {
          parent = parent.offsetParent;
        }
        return parent || root;
      });
    }
  });
  jQuery.each({
    scrollLeft : "pageXOffset",
    scrollTop : "pageYOffset"
  }, function(type, prop) {
    var top = /Y/.test(prop);
    jQuery.fn[type] = function(value) {
      return access(this, function(context, method, val) {
        var window = getWindow(context);
        if (void 0 === val) {
          return window ? prop in window ? window[prop] : window.document.documentElement[method] : context[method];
        }
        if (window) {
          window.scrollTo(top ? jQuery(window).scrollLeft() : val, top ? val : jQuery(window).scrollTop());
        } else {
          context[method] = val;
        }
      }, type, value, arguments.length, null);
    };
  });
  jQuery.each(["top", "left"], function(i, prop) {
    jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function(el, val) {
      if (val) {
        return val = curCSS(el, prop), rnumnonpx.test(val) ? jQuery(el).position()[prop] + "px" : val;
      }
    });
  });
  jQuery.each({
    Height : "height",
    Width : "width"
  }, function(name, type) {
    jQuery.each({
      padding : "inner" + name,
      content : type,
      "" : "outer" + name
    }, function(defaultExtra, original) {
      jQuery.fn[original] = function(margin, boardManager) {
        var chainable = arguments.length && (defaultExtra || "boolean" != typeof margin);
        var extra = defaultExtra || (true === margin || true === boardManager ? "margin" : "border");
        return access(this, function(elem, type, undefined) {
          var doc;
          return jQuery.isWindow(elem) ? elem.document.documentElement["client" + name] : 9 === elem.nodeType ? (doc = elem.documentElement, Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name])) : void 0 === undefined ? jQuery.css(elem, type, extra) : jQuery.style(elem, type, undefined, extra);
        }, type, chainable ? margin : void 0, chainable, null);
      };
    });
  });
  jQuery.fn.extend({
    bind : function(key, fn, callback) {
      return this.on(key, null, fn, callback);
    },
    unbind : function(type, fn) {
      return this.off(type, null, fn);
    },
    delegate : function(selector, event, fn, callback) {
      return this.on(event, selector, fn, callback);
    },
    undelegate : function(selector, event, fn) {
      return 1 === arguments.length ? this.off(selector, "**") : this.off(event, selector || "**", fn);
    }
  });
  jQuery.fn.size = function() {
    return this.length;
  };
  jQuery.fn.andSelf = jQuery.fn.addBack;
  if ("function" == typeof define && define.amd) {
    define("jquery", [], function() {
      return jQuery;
    });
  }
  var _jQuery = window.jQuery;
  var _$ = window.$;
  return jQuery.noConflict = function(deep) {
    return window.$ === jQuery && (window.$ = _$), deep && window.jQuery === jQuery && (window.jQuery = _jQuery), jQuery;
  }, noGlobal || (window.jQuery = window.$ = jQuery), jQuery;
});
!function(factory) {
  if ("function" == typeof define && define.amd) {
    define(["jquery"], factory);
  } else {
    factory(jQuery);
  }
}(function($) {
  $.ui = $.ui || {};
  $.ui.version = "1.12.1";
  var superCleanData;
  var widget_uuid = 0;
  var slice = Array.prototype.slice;
  $.cleanData = (superCleanData = $.cleanData, function(elems) {
    var s;
    var elem;
    var i;
    i = 0;
    for (; null != (elem = elems[i]); i++) {
      try {
        if ((s = $._data(elem, "events")) && s.remove) {
          $(elem).triggerHandler("remove");
        }
      } catch (e) {
      }
    }
    superCleanData(elems);
  });
  $.widget = function(name, i, s) {
    var a;
    var o;
    var r;
    var h = {};
    var namespace = name.split(".")[0];
    var n = namespace + "-" + (name = name.split(".")[1]);
    return s || (s = i, i = $.Widget), $.isArray(s) && (s = $.extend.apply(null, [{}].concat(s))), $.expr[":"][n.toLowerCase()] = function(elem) {
      return !!$.data(elem, n);
    }, $[namespace] = $[namespace] || {}, a = $[namespace][name], o = $[namespace][name] = function(e, t) {
      if (!this._createWidget) {
        return new o(e, t);
      }
      if (arguments.length) {
        this._createWidget(e, t);
      }
    }, $.extend(o, a, {
      version : s.version,
      _proto : $.extend({}, s),
      _childConstructors : []
    }), (r = new i).options = $.widget.extend({}, r.options), $.each(s, function(key, val) {
      if ($.isFunction(val)) {
        h[key] = function() {
          function e() {
            return i.prototype[key].apply(this, arguments);
          }
          function n(c) {
            return i.prototype[key].apply(this, c);
          }
          return function() {
            var _ref12;
            var tmp = this._super;
            var __superApply = this._superApply;
            return this._super = e, this._superApply = n, _ref12 = val.apply(this, arguments), this._super = tmp, this._superApply = __superApply, _ref12;
          };
        }();
      } else {
        h[key] = val;
      }
    }), o.prototype = $.widget.extend(r, {
      widgetEventPrefix : a && r.widgetEventPrefix || name
    }, h, {
      constructor : o,
      namespace : namespace,
      widgetName : name,
      widgetFullName : n
    }), a ? ($.each(a._childConstructors, function(i, child) {
      var childPrototype = child.prototype;
      $.widget(childPrototype.namespace + "." + childPrototype.widgetName, o, child._proto);
    }), delete a._childConstructors) : i._childConstructors.push(o), $.widget.bridge(name, o), o;
  };
  $.widget.extend = function(options) {
    var key;
    var value;
    var input = slice.call(arguments, 1);
    var inputIndex = 0;
    var inputLength = input.length;
    for (; inputIndex < inputLength; inputIndex++) {
      for (key in input[inputIndex]) {
        value = input[inputIndex][key];
        if (input[inputIndex].hasOwnProperty(key) && void 0 !== value) {
          if ($.isPlainObject(value)) {
            options[key] = $.isPlainObject(options[key]) ? $.widget.extend({}, options[key], value) : $.widget.extend({}, value);
          } else {
            options[key] = value;
          }
        }
      }
    }
    return options;
  };
  $.widget.bridge = function(name, object) {
    var id = object.prototype.widgetFullName || name;
    $.fn[name] = function(options) {
      var o = "string" == typeof options;
      var params = slice.call(arguments, 1);
      var h = this;
      return o ? this.length || "instance" !== options ? this.each(function() {
        var i;
        var s = $.data(this, id);
        return "instance" === options ? (h = s, false) : s ? $.isFunction(s[options]) && "_" !== options.charAt(0) ? (i = s[options].apply(s, params)) !== s && void 0 !== i ? (h = i && i.jquery ? h.pushStack(i.get()) : i, false) : void 0 : $.error("no such method '" + options + "' for " + name + " widget instance") : $.error("cannot call methods on " + name + " prior to initialization; attempted to call method '" + options + "'");
      }) : h = void 0 : (params.length && (options = $.widget.extend.apply(null, [options].concat(params))), this.each(function() {
        var instance = $.data(this, id);
        if (instance) {
          instance.option(options || {});
          if (instance._init) {
            instance._init();
          }
        } else {
          $.data(this, id, new object(options, this));
        }
      })), h;
    };
  };
  $.Widget = function() {
  };
  $.Widget._childConstructors = [];
  $.Widget.prototype = {
    widgetName : "widget",
    widgetEventPrefix : "",
    defaultElement : "<div>",
    options : {
      classes : {},
      disabled : false,
      create : null
    },
    _createWidget : function(options, element) {
      element = $(element || this.defaultElement || this)[0];
      this.element = $(element);
      this.uuid = widget_uuid++;
      this.eventNamespace = "." + this.widgetName + this.uuid;
      this.bindings = $();
      this.hoverable = $();
      this.focusable = $();
      this.classesElementLookup = {};
      if (element !== this) {
        $.data(element, this.widgetFullName, this);
        this._on(true, this.element, {
          remove : function(event) {
            if (event.target === element) {
              this.destroy();
            }
          }
        });
        this.document = $(element.style ? element.ownerDocument : element.document || element);
        this.window = $(this.document[0].defaultView || this.document[0].parentWindow);
      }
      this.options = $.widget.extend({}, this.options, this._getCreateOptions(), options);
      this._create();
      if (this.options.disabled) {
        this._setOptionDisabled(this.options.disabled);
      }
      this._trigger("create", null, this._getCreateEventData());
      this._init();
    },
    _getCreateOptions : function() {
      return {};
    },
    _getCreateEventData : $.noop,
    _create : $.noop,
    _init : $.noop,
    destroy : function() {
      var that = this;
      this._destroy();
      $.each(this.classesElementLookup, function(key, value) {
        that._removeClass(value, key);
      });
      this.element.off(this.eventNamespace).removeData(this.widgetFullName);
      this.widget().off(this.eventNamespace).removeAttr("aria-disabled");
      this.bindings.off(this.eventNamespace);
    },
    _destroy : $.noop,
    widget : function() {
      return this.element;
    },
    option : function(type, name) {
      var parts;
      var params;
      var i;
      var options = type;
      if (0 === arguments.length) {
        return $.widget.extend({}, this.options);
      }
      if ("string" == typeof type) {
        if (options = {}, type = (parts = type.split(".")).shift(), parts.length) {
          params = options[type] = $.widget.extend({}, this.options[type]);
          i = 0;
          for (; i < parts.length - 1; i++) {
            params[parts[i]] = params[parts[i]] || {};
            params = params[parts[i]];
          }
          if (type = parts.pop(), 1 === arguments.length) {
            return void 0 === params[type] ? null : params[type];
          }
          params[type] = name;
        } else {
          if (1 === arguments.length) {
            return void 0 === this.options[type] ? null : this.options[type];
          }
          options[type] = name;
        }
      }
      return this._setOptions(options), this;
    },
    _setOptions : function(options) {
      var key;
      for (key in options) {
        this._setOption(key, options[key]);
      }
      return this;
    },
    _setOption : function(key, value) {
      return "classes" === key && this._setOptionClasses(value), this.options[key] = value, "disabled" === key && this._setOptionDisabled(value), this;
    },
    _setOptionClasses : function(value) {
      var classKey;
      var elements;
      var currentElements;
      for (classKey in value) {
        currentElements = this.classesElementLookup[classKey];
        if (value[classKey] !== this.options.classes[classKey] && currentElements && currentElements.length) {
          elements = $(currentElements.get());
          this._removeClass(currentElements, classKey);
          elements.addClass(this._classes({
            element : elements,
            keys : classKey,
            classes : value,
            add : true
          }));
        }
      }
    },
    _setOptionDisabled : function(value) {
      this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!value);
      if (value) {
        this._removeClass(this.hoverable, null, "ui-state-hover");
        this._removeClass(this.focusable, null, "ui-state-focus");
      }
    },
    enable : function() {
      return this._setOptions({
        disabled : false
      });
    },
    disable : function() {
      return this._setOptions({
        disabled : true
      });
    },
    _classes : function(options) {
      function processClassString(classes, checkOption) {
        var current;
        var i;
        i = 0;
        for (; i < classes.length; i++) {
          current = that.classesElementLookup[classes[i]] || $();
          current = options.add ? $($.unique(current.get().concat(options.element.get()))) : $(current.not(options.element).get());
          that.classesElementLookup[classes[i]] = current;
          remainingClasses.push(classes[i]);
          if (checkOption && options.classes[classes[i]]) {
            remainingClasses.push(options.classes[classes[i]]);
          }
        }
      }
      var remainingClasses = [];
      var that = this;
      return options = $.extend({
        element : this.element,
        classes : this.options.classes || {}
      }, options), this._on(options.element, {
        remove : "_untrackClassesElement"
      }), options.keys && processClassString(options.keys.match(/\S+/g) || [], true), options.extra && processClassString(options.extra.match(/\S+/g) || []), remainingClasses.join(" ");
    },
    _untrackClassesElement : function(event) {
      var that = this;
      $.each(that.classesElementLookup, function(key, value) {
        if (-1 !== $.inArray(event.target, value)) {
          that.classesElementLookup[key] = $(value.not(event.target).get());
        }
      });
    },
    _removeClass : function(element, keys, extra) {
      return this._toggleClass(element, keys, extra, false);
    },
    _addClass : function(elem, keys, name) {
      return this._toggleClass(elem, keys, name, true);
    },
    _toggleClass : function(element, keys, extra, add) {
      add = "boolean" == typeof add ? add : extra;
      var shift = "string" == typeof element || null === element;
      var options = {
        extra : shift ? keys : extra,
        keys : shift ? element : keys,
        element : shift ? this.element : element,
        add : add
      };
      return options.element.toggleClass(this._classes(options), add), this;
    },
    _on : function(suppressDisabledCheck, element, handlers) {
      var delegateElement;
      var a = this;
      if ("boolean" != typeof suppressDisabledCheck) {
        handlers = element;
        element = suppressDisabledCheck;
        suppressDisabledCheck = false;
      }
      if (handlers) {
        element = delegateElement = $(element);
        this.bindings = this.bindings.add(element);
      } else {
        handlers = element;
        element = this.element;
        delegateElement = this.widget();
      }
      $.each(handlers, function(_testModuleName, o) {
        function update() {
          if (suppressDisabledCheck || true !== a.options.disabled && !$(this).hasClass("ui-state-disabled")) {
            return ("string" == typeof o ? a[o] : o).apply(a, arguments);
          }
        }
        if ("string" != typeof o) {
          update.guid = o.guid = o.guid || update.guid || $.guid++;
        }
        var match = _testModuleName.match(/^([\w:-]*)\s*(.*)$/);
        var eventName = match[1] + a.eventNamespace;
        var selector = match[2];
        if (selector) {
          delegateElement.on(eventName, selector, update);
        } else {
          element.on(eventName, update);
        }
      });
    },
    _off : function(element, eventName) {
      eventName = (eventName || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
      element.off(eventName).off(eventName);
      this.bindings = $(this.bindings.not(element).get());
      this.focusable = $(this.focusable.not(element).get());
      this.hoverable = $(this.hoverable.not(element).get());
    },
    _delay : function(e, t) {
      var a = this;
      return setTimeout(function() {
        return ("string" == typeof e ? a[e] : e).apply(a, arguments);
      }, t || 0);
    },
    _hoverable : function(element) {
      this.hoverable = this.hoverable.add(element);
      this._on(element, {
        mouseenter : function(event) {
          this._addClass($(event.currentTarget), null, "ui-state-hover");
        },
        mouseleave : function(event) {
          this._removeClass($(event.currentTarget), null, "ui-state-hover");
        }
      });
    },
    _focusable : function(element) {
      this.focusable = this.focusable.add(element);
      this._on(element, {
        focusin : function(event) {
          this._addClass($(event.currentTarget), null, "ui-state-focus");
        },
        focusout : function(event) {
          this._removeClass($(event.currentTarget), null, "ui-state-focus");
        }
      });
    },
    _trigger : function(type, event, data) {
      var prop;
      var orig;
      var callback = this.options[type];
      if (data = data || {}, (event = $.Event(event)).type = (type === this.widgetEventPrefix ? type : this.widgetEventPrefix + type).toLowerCase(), event.target = this.element[0], orig = event.originalEvent) {
        for (prop in orig) {
          if (!(prop in event)) {
            event[prop] = orig[prop];
          }
        }
      }
      return this.element.trigger(event, data), !($.isFunction(callback) && false === callback.apply(this.element[0], [event].concat(data)) || event.isDefaultPrevented());
    }
  };
  $.each({
    show : "fadeIn",
    hide : "fadeOut"
  }, function(method, defaultEffect) {
    $.Widget.prototype["_" + method] = function(element, options, callback) {
      var hasOptions;
      if ("string" == typeof options) {
        options = {
          effect : options
        };
      }
      var effectName = options ? true === options || "number" == typeof options ? defaultEffect : options.effect || defaultEffect : method;
      if ("number" == typeof(options = options || {})) {
        options = {
          duration : options
        };
      }
      hasOptions = !$.isEmptyObject(options);
      options.complete = callback;
      if (options.delay) {
        element.delay(options.delay);
      }
      if (hasOptions && $.effects && $.effects.effect[effectName]) {
        element[method](options);
      } else {
        if (effectName !== method && element[effectName]) {
          element[effectName](options.duration, options.easing, callback);
        } else {
          element.queue(function(saveNotifs) {
            $(this)[method]();
            if (callback) {
              callback.call(element[0]);
            }
            saveNotifs();
          });
        }
      }
    };
  });
  $.widget;
  !function() {
    function getOffsets(offsets, width, height) {
      return [parseFloat(offsets[0]) * (rpercent.test(offsets[0]) ? width / 100 : 1), parseFloat(offsets[1]) * (rpercent.test(offsets[1]) ? height / 100 : 1)];
    }
    function parseCss(property, value) {
      return parseInt($.css(property, value), 10) || 0;
    }
    var cachedScrollbarWidth;
    var max = Math.max;
    var abs = Math.abs;
    var rhorizontal = /left|center|right/;
    var rvertical = /top|center|bottom/;
    var roffset = /[\+\-]\d+(\.[\d]+)?%?/;
    var rposition = /^\w+/;
    var rpercent = /%$/;
    var _position = $.fn.position;
    $.position = {
      scrollbarWidth : function() {
        if (void 0 !== cachedScrollbarWidth) {
          return cachedScrollbarWidth;
        }
        var w1;
        var w2;
        var div = $("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
        var innerDiv = div.children()[0];
        return $("body").append(div), w1 = innerDiv.offsetWidth, div.css("overflow", "scroll"), w1 === (w2 = innerDiv.offsetWidth) && (w2 = div[0].clientWidth), div.remove(), cachedScrollbarWidth = w1 - w2;
      },
      getScrollInfo : function(within) {
        var undefined = within.isWindow || within.isDocument ? "" : within.element.css("overflow-x");
        var overflowY = within.isWindow || within.isDocument ? "" : within.element.css("overflow-y");
        var hasOverflowX = "scroll" === undefined || "auto" === undefined && within.width < within.element[0].scrollWidth;
        return {
          width : "scroll" === overflowY || "auto" === overflowY && within.height < within.element[0].scrollHeight ? $.position.scrollbarWidth() : 0,
          height : hasOverflowX ? $.position.scrollbarWidth() : 0
        };
      },
      getWithinInfo : function(element) {
        var withinElement = $(element || window);
        var isWindow = $.isWindow(withinElement[0]);
        var isDocument = !!withinElement[0] && 9 === withinElement[0].nodeType;
        return {
          element : withinElement,
          isWindow : isWindow,
          isDocument : isDocument,
          offset : !isWindow && !isDocument ? $(element).offset() : {
            left : 0,
            top : 0
          },
          scrollLeft : withinElement.scrollLeft(),
          scrollTop : withinElement.scrollTop(),
          width : withinElement.outerWidth(),
          height : withinElement.outerHeight()
        };
      }
    };
    $.fn.position = function(options) {
      if (!options || !options.of) {
        return _position.apply(this, arguments);
      }
      options = $.extend({}, options);
      var atOffset;
      var targetWidth;
      var targetHeight;
      var targetOffset;
      var basePosition;
      var dimensions;
      var elem;
      var item;
      var target = $(options.of);
      var within = $.position.getWithinInfo(options.within);
      var scrollInfo = $.position.getScrollInfo(within);
      var collision = (options.collision || "flip").split(" ");
      var offsets = {};
      return dimensions = 9 === (item = (elem = target)[0]).nodeType ? {
        width : elem.width(),
        height : elem.height(),
        offset : {
          top : 0,
          left : 0
        }
      } : $.isWindow(item) ? {
        width : elem.width(),
        height : elem.height(),
        offset : {
          top : elem.scrollTop(),
          left : elem.scrollLeft()
        }
      } : item.preventDefault ? {
        width : 0,
        height : 0,
        offset : {
          top : item.pageY,
          left : item.pageX
        }
      } : {
        width : elem.outerWidth(),
        height : elem.outerHeight(),
        offset : elem.offset()
      }, target[0].preventDefault && (options.at = "left top"), targetWidth = dimensions.width, targetHeight = dimensions.height, targetOffset = dimensions.offset, basePosition = $.extend({}, targetOffset), $.each(["my", "at"], function() {
        var horizontalOffset;
        var verticalOffset;
        var pos = (options[this] || "").split(" ");
        if (1 === pos.length) {
          pos = rhorizontal.test(pos[0]) ? pos.concat(["center"]) : rvertical.test(pos[0]) ? ["center"].concat(pos) : ["center", "center"];
        }
        pos[0] = rhorizontal.test(pos[0]) ? pos[0] : "center";
        pos[1] = rvertical.test(pos[1]) ? pos[1] : "center";
        horizontalOffset = roffset.exec(pos[0]);
        verticalOffset = roffset.exec(pos[1]);
        offsets[this] = [horizontalOffset ? horizontalOffset[0] : 0, verticalOffset ? verticalOffset[0] : 0];
        options[this] = [rposition.exec(pos[0])[0], rposition.exec(pos[1])[0]];
      }), 1 === collision.length && (collision[1] = collision[0]), "right" === options.at[0] ? basePosition.left += targetWidth : "center" === options.at[0] && (basePosition.left += targetWidth / 2), "bottom" === options.at[1] ? basePosition.top += targetHeight : "center" === options.at[1] && (basePosition.top += targetHeight / 2), atOffset = getOffsets(offsets.at, targetWidth, targetHeight), basePosition.left += atOffset[0], basePosition.top += atOffset[1], this.each(function() {
        var collisionPosition;
        var using;
        var self = $(this);
        var elemWidth = self.outerWidth();
        var elemHeight = self.outerHeight();
        var marginLeft = parseCss(this, "marginLeft");
        var marginTop = parseCss(this, "marginTop");
        var collisionWidth = elemWidth + marginLeft + parseCss(this, "marginRight") + scrollInfo.width;
        var collisionHeight = elemHeight + marginTop + parseCss(this, "marginBottom") + scrollInfo.height;
        var position = $.extend({}, basePosition);
        var myOffset = getOffsets(offsets.my, self.outerWidth(), self.outerHeight());
        if ("right" === options.my[0]) {
          position.left -= elemWidth;
        } else {
          if ("center" === options.my[0]) {
            position.left -= elemWidth / 2;
          }
        }
        if ("bottom" === options.my[1]) {
          position.top -= elemHeight;
        } else {
          if ("center" === options.my[1]) {
            position.top -= elemHeight / 2;
          }
        }
        position.left += myOffset[0];
        position.top += myOffset[1];
        collisionPosition = {
          marginLeft : marginLeft,
          marginTop : marginTop
        };
        $.each(["left", "top"], function(i, dir) {
          if ($.ui.position[collision[i]]) {
            $.ui.position[collision[i]][dir](position, {
              targetWidth : targetWidth,
              targetHeight : targetHeight,
              elemWidth : elemWidth,
              elemHeight : elemHeight,
              collisionPosition : collisionPosition,
              collisionWidth : collisionWidth,
              collisionHeight : collisionHeight,
              offset : [atOffset[0] + myOffset[0], atOffset[1] + myOffset[1]],
              my : options.my,
              at : options.at,
              within : within,
              elem : self
            });
          }
        });
        if (options.using) {
          using = function(props) {
            var left = targetOffset.left - position.left;
            var right = left + targetWidth - elemWidth;
            var top = targetOffset.top - position.top;
            var bottom = top + targetHeight - elemHeight;
            var feedback = {
              target : {
                element : target,
                left : targetOffset.left,
                top : targetOffset.top,
                width : targetWidth,
                height : targetHeight
              },
              element : {
                element : self,
                left : position.left,
                top : position.top,
                width : elemWidth,
                height : elemHeight
              },
              horizontal : right < 0 ? "left" : left > 0 ? "right" : "center",
              vertical : bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
            };
            if (targetWidth < elemWidth && abs(left + right) < targetWidth) {
              feedback.horizontal = "center";
            }
            if (targetHeight < elemHeight && abs(top + bottom) < targetHeight) {
              feedback.vertical = "middle";
            }
            if (max(abs(left), abs(right)) > max(abs(top), abs(bottom))) {
              feedback.important = "horizontal";
            } else {
              feedback.important = "vertical";
            }
            options.using.call(this, props, feedback);
          };
        }
        self.offset($.extend(position, {
          using : using
        }));
      });
    };
    $.ui.position = {
      fit : {
        left : function(type, data) {
          var newOverRight;
          var within = data.within;
          var withinOffset = within.isWindow ? within.scrollLeft : within.offset.left;
          var outerWidth = within.width;
          var collisionPosLeft = type.left - data.collisionPosition.marginLeft;
          var overLeft = withinOffset - collisionPosLeft;
          var overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset;
          if (data.collisionWidth > outerWidth) {
            if (overLeft > 0 && overRight <= 0) {
              newOverRight = type.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
              type.left += overLeft - newOverRight;
            } else {
              type.left = overRight > 0 && overLeft <= 0 ? withinOffset : overLeft > overRight ? withinOffset + outerWidth - data.collisionWidth : withinOffset;
            }
          } else {
            if (overLeft > 0) {
              type.left += overLeft;
            } else {
              if (overRight > 0) {
                type.left -= overRight;
              } else {
                type.left = max(type.left - collisionPosLeft, type.left);
              }
            }
          }
        },
        top : function(type, data) {
          var newOverBottom;
          var within = data.within;
          var withinOffset = within.isWindow ? within.scrollTop : within.offset.top;
          var outerHeight = data.within.height;
          var collisionPosTop = type.top - data.collisionPosition.marginTop;
          var overTop = withinOffset - collisionPosTop;
          var overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset;
          if (data.collisionHeight > outerHeight) {
            if (overTop > 0 && overBottom <= 0) {
              newOverBottom = type.top + overTop + data.collisionHeight - outerHeight - withinOffset;
              type.top += overTop - newOverBottom;
            } else {
              type.top = overBottom > 0 && overTop <= 0 ? withinOffset : overTop > overBottom ? withinOffset + outerHeight - data.collisionHeight : withinOffset;
            }
          } else {
            if (overTop > 0) {
              type.top += overTop;
            } else {
              if (overBottom > 0) {
                type.top -= overBottom;
              } else {
                type.top = max(type.top - collisionPosTop, type.top);
              }
            }
          }
        }
      },
      flip : {
        left : function(type, data) {
          var newOverRight;
          var newOverLeft;
          var within = data.within;
          var withinOffset = within.offset.left + within.scrollLeft;
          var outerWidth = within.width;
          var offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left;
          var collisionPosLeft = type.left - data.collisionPosition.marginLeft;
          var overLeft = collisionPosLeft - offsetLeft;
          var overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft;
          var value = "left" === data.my[0] ? -data.elemWidth : "right" === data.my[0] ? data.elemWidth : 0;
          var prefix = "left" === data.at[0] ? data.targetWidth : "right" === data.at[0] ? -data.targetWidth : 0;
          var offset = -2 * data.offset[0];
          if (overLeft < 0) {
            if ((newOverRight = type.left + value + prefix + offset + data.collisionWidth - outerWidth - withinOffset) < 0 || newOverRight < abs(overLeft)) {
              type.left += value + prefix + offset;
            }
          } else {
            if (overRight > 0 && ((newOverLeft = type.left - data.collisionPosition.marginLeft + value + prefix + offset - offsetLeft) > 0 || abs(newOverLeft) < overRight)) {
              type.left += value + prefix + offset;
            }
          }
        },
        top : function(type, data) {
          var newOverTop;
          var newOverBottom;
          var within = data.within;
          var withinOffset = within.offset.top + within.scrollTop;
          var outerHeight = within.height;
          var offsetTop = within.isWindow ? within.scrollTop : within.offset.top;
          var collisionPosTop = type.top - data.collisionPosition.marginTop;
          var overTop = collisionPosTop - offsetTop;
          var overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop;
          var value = "top" === data.my[1] ? -data.elemHeight : "bottom" === data.my[1] ? data.elemHeight : 0;
          var prefix = "top" === data.at[1] ? data.targetHeight : "bottom" === data.at[1] ? -data.targetHeight : 0;
          var offset = -2 * data.offset[1];
          if (overTop < 0) {
            if ((newOverBottom = type.top + value + prefix + offset + data.collisionHeight - outerHeight - withinOffset) < 0 || newOverBottom < abs(overTop)) {
              type.top += value + prefix + offset;
            }
          } else {
            if (overBottom > 0 && ((newOverTop = type.top - data.collisionPosition.marginTop + value + prefix + offset - offsetTop) > 0 || abs(newOverTop) < overBottom)) {
              type.top += value + prefix + offset;
            }
          }
        }
      },
      flipfit : {
        left : function() {
          $.ui.position.flip.left.apply(this, arguments);
          $.ui.position.fit.left.apply(this, arguments);
        },
        top : function() {
          $.ui.position.flip.top.apply(this, arguments);
          $.ui.position.fit.top.apply(this, arguments);
        }
      }
    };
  }();
  var newlineReplaceRegexClean;
  var uuid;
  $.ui.position;
  $.fn.form = function() {
    return "string" == typeof this[0].form ? this.closest("form") : $(this[0].form);
  };
  $.ui.formResetMixin = {
    _formResetHandler : function() {
      var form = $(this);
      setTimeout(function() {
        var instances = form.data("ui-form-reset-instances");
        $.each(instances, function() {
          this.refresh();
        });
      });
    },
    _bindFormResetHandler : function() {
      if (this.form = this.element.form(), this.form.length) {
        var value = this.form.data("ui-form-reset-instances") || [];
        if (!value.length) {
          this.form.on("reset.ui-form-reset", this._formResetHandler);
        }
        value.push(this);
        this.form.data("ui-form-reset-instances", value);
      }
    },
    _unbindFormResetHandler : function() {
      if (this.form.length) {
        var value = this.form.data("ui-form-reset-instances");
        value.splice($.inArray(this, value), 1);
        if (value.length) {
          this.form.data("ui-form-reset-instances", value);
        } else {
          this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset");
        }
      }
    }
  };
  $.ui.keyCode = {
    BACKSPACE : 8,
    COMMA : 188,
    DELETE : 46,
    DOWN : 40,
    END : 35,
    ENTER : 13,
    ESCAPE : 27,
    HOME : 36,
    LEFT : 37,
    PAGE_DOWN : 34,
    PAGE_UP : 33,
    PERIOD : 190,
    RIGHT : 39,
    SPACE : 32,
    TAB : 9,
    UP : 38
  };
  $.ui.escapeSelector = (newlineReplaceRegexClean = /([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g, function(selectedText) {
    return selectedText.replace(newlineReplaceRegexClean, "\\$1");
  });
  $.fn.labels = function() {
    var ancestor;
    var selector;
    var id;
    var labels;
    var $baseEl;
    return this[0].labels && this[0].labels.length ? this.pushStack(this[0].labels) : (labels = this.eq(0).parents("label"), (id = this.attr("id")) && ($baseEl = (ancestor = this.eq(0).parents().last()).add(ancestor.length ? ancestor.siblings() : this.siblings()), selector = "label[for='" + $.ui.escapeSelector(id) + "']", labels = labels.add($baseEl.find(selector).addBack(selector))), this.pushStack(labels));
  };
  $.fn.extend({
    uniqueId : (uuid = 0, function() {
      return this.each(function() {
        if (!this.id) {
          this.id = "ui-id-" + ++uuid;
        }
      });
    }),
    removeUniqueId : function() {
      return this.each(function() {
        if (/^ui-id-\d+$/.test(this.id)) {
          $(this).removeAttr("id");
        }
      });
    }
  });
  $.ui.safeActiveElement = function(document) {
    var active;
    try {
      active = document.activeElement;
    } catch (error) {
      active = document.body;
    }
    return active || (active = document.body), active.nodeName || (active = document.body), active;
  };
  $.widget("ui.menu", {
    version : "1.12.1",
    defaultElement : "<ul>",
    delay : 300,
    options : {
      icons : {
        submenu : "ui-icon-caret-1-e"
      },
      items : "> *",
      menus : "ul",
      position : {
        my : "left top",
        at : "right top"
      },
      role : "menu",
      blur : null,
      focus : null,
      select : null
    },
    _create : function() {
      this.activeMenu = this.element;
      this.mouseHandled = false;
      this.element.uniqueId().attr({
        role : this.options.role,
        tabIndex : 0
      });
      this._addClass("ui-menu", "ui-widget ui-widget-content");
      this._on({
        "mousedown .ui-menu-item" : function(event) {
          event.preventDefault();
        },
        "click .ui-menu-item" : function(event) {
          var $example = $(event.target);
          var jField = $($.ui.safeActiveElement(this.document[0]));
          if (!this.mouseHandled && $example.not(".ui-state-disabled").length) {
            this.select(event);
            if (!event.isPropagationStopped()) {
              this.mouseHandled = true;
            }
            if ($example.has(".ui-menu").length) {
              this.expand(event);
            } else {
              if (!this.element.is(":focus") && jField.closest(".ui-menu").length) {
                this.element.trigger("focus", [true]);
                if (this.active && 1 === this.active.parents(".ui-menu").length) {
                  clearTimeout(this.timer);
                }
              }
            }
          }
        },
        "mouseenter .ui-menu-item" : function(event) {
          if (!this.previousFilter) {
            var parent = $(event.target).closest(".ui-menu-item");
            var target = $(event.currentTarget);
            if (parent[0] === target[0]) {
              this._removeClass(target.siblings().children(".ui-state-active"), null, "ui-state-active");
              this.focus(event, target);
            }
          }
        },
        mouseleave : "collapseAll",
        "mouseleave .ui-menu" : "collapseAll",
        focus : function(type, name) {
          var item = this.active || this.element.find(this.options.items).eq(0);
          if (!name) {
            this.focus(type, item);
          }
        },
        blur : function(type) {
          this._delay(function() {
            if (!$.contains(this.element[0], $.ui.safeActiveElement(this.document[0]))) {
              this.collapseAll(type);
            }
          });
        },
        keydown : "_keydown"
      });
      this.refresh();
      this._on(this.document, {
        click : function(event) {
          if (this._closeOnDocumentClick(event)) {
            this.collapseAll(event);
          }
          this.mouseHandled = false;
        }
      });
    },
    _destroy : function() {
      var submenus = this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
      this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();
      submenus.children().each(function() {
        var elem = $(this);
        if (elem.data("ui-menu-submenu-caret")) {
          elem.remove();
        }
      });
    },
    _keydown : function(event) {
      var match;
      var prev;
      var character;
      var newValue;
      var preventDefault = true;
      switch(event.keyCode) {
        case $.ui.keyCode.PAGE_UP:
          this.previousPage(event);
          break;
        case $.ui.keyCode.PAGE_DOWN:
          this.nextPage(event);
          break;
        case $.ui.keyCode.HOME:
          this._move("first", "first", event);
          break;
        case $.ui.keyCode.END:
          this._move("last", "last", event);
          break;
        case $.ui.keyCode.UP:
          this.previous(event);
          break;
        case $.ui.keyCode.DOWN:
          this.next(event);
          break;
        case $.ui.keyCode.LEFT:
          this.collapse(event);
          break;
        case $.ui.keyCode.RIGHT:
          if (this.active && !this.active.is(".ui-state-disabled")) {
            this.expand(event);
          }
          break;
        case $.ui.keyCode.ENTER:
        case $.ui.keyCode.SPACE:
          this._activate(event);
          break;
        case $.ui.keyCode.ESCAPE:
          this.collapse(event);
          break;
        default:
          preventDefault = false;
          prev = this.previousFilter || "";
          newValue = false;
          character = event.keyCode >= 96 && event.keyCode <= 105 ? (event.keyCode - 96).toString() : String.fromCharCode(event.keyCode);
          clearTimeout(this.filterTimer);
          if (character === prev) {
            newValue = true;
          } else {
            character = prev + character;
          }
          match = this._filterMenuItems(character);
          if (!(match = newValue && -1 !== match.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : match).length) {
            character = String.fromCharCode(event.keyCode);
            match = this._filterMenuItems(character);
          }
          if (match.length) {
            this.focus(event, match);
            this.previousFilter = character;
            this.filterTimer = this._delay(function() {
              delete this.previousFilter;
            }, 1E3);
          } else {
            delete this.previousFilter;
          }
      }
      if (preventDefault) {
        event.preventDefault();
      }
    },
    _activate : function(event) {
      if (this.active && !this.active.is(".ui-state-disabled")) {
        if (this.active.children("[aria-haspopup='true']").length) {
          this.expand(event);
        } else {
          this.select(event);
        }
      }
    },
    refresh : function() {
      var allWidgets;
      var tooltip;
      var body;
      var labels;
      var that = this;
      var icon = this.options.icons.submenu;
      var submenus = this.element.find(this.options.menus);
      this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length);
      tooltip = submenus.filter(":not(.ui-menu)").hide().attr({
        role : this.options.role,
        "aria-hidden" : "true",
        "aria-expanded" : "false"
      }).each(function() {
        var $this = $(this);
        var t = $this.prev();
        var a = $("<span>").data("ui-menu-submenu-caret", true);
        that._addClass(a, "ui-menu-icon", "ui-icon " + icon);
        t.attr("aria-haspopup", "true").prepend(a);
        $this.attr("aria-labelledby", t.attr("id"));
      });
      this._addClass(tooltip, "ui-menu", "ui-widget ui-widget-content ui-front");
      (allWidgets = submenus.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function() {
        var item = $(this);
        if (that._isDivider(item)) {
          that._addClass(item, "ui-menu-divider", "ui-widget-content");
        }
      });
      labels = (body = allWidgets.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({
        tabIndex : -1,
        role : this._itemRole()
      });
      this._addClass(body, "ui-menu-item")._addClass(labels, "ui-menu-item-wrapper");
      allWidgets.filter(".ui-state-disabled").attr("aria-disabled", "true");
      if (this.active && !$.contains(this.element[0], this.active[0])) {
        this.blur();
      }
    },
    _itemRole : function() {
      return {
        menu : "menuitem",
        listbox : "option"
      }[this.options.role];
    },
    _setOption : function(key, value) {
      if ("icons" === key) {
        var icon = this.element.find(".ui-menu-icon");
        this._removeClass(icon, null, this.options.icons.submenu)._addClass(icon, null, value.submenu);
      }
      this._super(key, value);
    },
    _setOptionDisabled : function(value) {
      this._super(value);
      this.element.attr("aria-disabled", String(value));
      this._toggleClass(null, "ui-state-disabled", !!value);
    },
    focus : function(type, data) {
      var nested;
      var tooltip;
      var body;
      this.blur(type, type && "focus" === type.type);
      this._scrollIntoView(data);
      this.active = data.first();
      tooltip = this.active.children(".ui-menu-item-wrapper");
      this._addClass(tooltip, null, "ui-state-active");
      if (this.options.role) {
        this.element.attr("aria-activedescendant", tooltip.attr("id"));
      }
      body = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");
      this._addClass(body, null, "ui-state-active");
      if (type && "keydown" === type.type) {
        this._close();
      } else {
        this.timer = this._delay(function() {
          this._close();
        }, this.delay);
      }
      if ((nested = data.children(".ui-menu")).length && type && /^mouse/.test(type.type)) {
        this._startOpening(nested);
      }
      this.activeMenu = data.parent();
      this._trigger("focus", type, {
        item : data
      });
    },
    _scrollIntoView : function(item) {
      var paddingBottom;
      var paddingTop;
      var offset;
      var scroll;
      var elementHeight;
      var itemHeight;
      if (this._hasScroll()) {
        paddingBottom = parseFloat($.css(this.activeMenu[0], "borderTopWidth")) || 0;
        paddingTop = parseFloat($.css(this.activeMenu[0], "paddingTop")) || 0;
        offset = item.offset().top - this.activeMenu.offset().top - paddingBottom - paddingTop;
        scroll = this.activeMenu.scrollTop();
        elementHeight = this.activeMenu.height();
        itemHeight = item.outerHeight();
        if (offset < 0) {
          this.activeMenu.scrollTop(scroll + offset);
        } else {
          if (offset + itemHeight > elementHeight) {
            this.activeMenu.scrollTop(scroll + offset - elementHeight + itemHeight);
          }
        }
      }
    },
    blur : function(type, data) {
      if (!data) {
        clearTimeout(this.timer);
      }
      if (this.active) {
        this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active");
        this._trigger("blur", type, {
          item : this.active
        });
        this.active = null;
      }
    },
    _startOpening : function(submenu) {
      clearTimeout(this.timer);
      if ("true" === submenu.attr("aria-hidden")) {
        this.timer = this._delay(function() {
          this._close();
          this._open(submenu);
        }, this.delay);
      }
    },
    _open : function(submenu) {
      var positionOption = $.extend({
        of : this.active
      }, this.options.position);
      clearTimeout(this.timer);
      this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden", "true");
      submenu.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(positionOption);
    },
    collapseAll : function(event, all) {
      clearTimeout(this.timer);
      this.timer = this._delay(function() {
        var currentMenu = all ? this.element : $(event && event.target).closest(this.element.find(".ui-menu"));
        if (!currentMenu.length) {
          currentMenu = this.element;
        }
        this._close(currentMenu);
        this.blur(event);
        this._removeClass(currentMenu.find(".ui-state-active"), null, "ui-state-active");
        this.activeMenu = currentMenu;
      }, this.delay);
    },
    _close : function(startMenu) {
      if (!startMenu) {
        startMenu = this.active ? this.active.parent() : this.element;
      }
      startMenu.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false");
    },
    _closeOnDocumentClick : function(event) {
      return !$(event.target).closest(".ui-menu").length;
    },
    _isDivider : function(item) {
      return !/[^\-\u2014\u2013\s]/.test(item.text());
    },
    collapse : function(event) {
      var newItem = this.active && this.active.parent().closest(".ui-menu-item", this.element);
      if (newItem && newItem.length) {
        this._close();
        this.focus(event, newItem);
      }
    },
    expand : function(event) {
      var newItem = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
      if (newItem && newItem.length) {
        this._open(newItem.parent());
        this._delay(function() {
          this.focus(event, newItem);
        });
      }
    },
    next : function(type) {
      this._move("next", "first", type);
    },
    previous : function(type) {
      this._move("prev", "last", type);
    },
    isFirstItem : function() {
      return this.active && !this.active.prevAll(".ui-menu-item").length;
    },
    isLastItem : function() {
      return this.active && !this.active.nextAll(".ui-menu-item").length;
    },
    _move : function(id, position, event) {
      var match;
      if (this.active) {
        match = "first" === id || "last" === id ? this.active["first" === id ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[id + "All"](".ui-menu-item").eq(0);
      }
      if (!(match && match.length && this.active)) {
        match = this.activeMenu.find(this.options.items)[position]();
      }
      this.focus(event, match);
    },
    nextPage : function(event) {
      var match;
      var base;
      var height;
      if (this.active) {
        if (!this.isLastItem()) {
          if (this._hasScroll()) {
            base = this.active.offset().top;
            height = this.element.height();
            this.active.nextAll(".ui-menu-item").each(function() {
              return (match = $(this)).offset().top - base - height < 0;
            });
            this.focus(event, match);
          } else {
            this.focus(event, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]());
          }
        }
      } else {
        this.next(event);
      }
    },
    previousPage : function(event) {
      var match;
      var base;
      var height;
      if (this.active) {
        if (!this.isFirstItem()) {
          if (this._hasScroll()) {
            base = this.active.offset().top;
            height = this.element.height();
            this.active.prevAll(".ui-menu-item").each(function() {
              return (match = $(this)).offset().top - base + height > 0;
            });
            this.focus(event, match);
          } else {
            this.focus(event, this.activeMenu.find(this.options.items).first());
          }
        }
      } else {
        this.next(event);
      }
    },
    _hasScroll : function() {
      return this.element.outerHeight() < this.element.prop("scrollHeight");
    },
    select : function(event) {
      this.active = this.active || $(event.target).closest(".ui-menu-item");
      var data = {
        item : this.active
      };
      if (!this.active.has(".ui-menu").length) {
        this.collapseAll(event, true);
      }
      this._trigger("select", event, data);
    },
    _filterMenuItems : function(character) {
      var escapedCharacter = character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
      var inlineAttributeCommentRegex = new RegExp("^" + escapedCharacter, "i");
      return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
        return inlineAttributeCommentRegex.test($.trim($(this).children(".ui-menu-item-wrapper").text()));
      });
    }
  });
  $.widget("ui.selectmenu", [$.ui.formResetMixin, {
    version : "1.12.1",
    defaultElement : "<select>",
    options : {
      appendTo : null,
      classes : {
        "ui-selectmenu-button-open" : "ui-corner-top",
        "ui-selectmenu-button-closed" : "ui-corner-all"
      },
      disabled : null,
      icons : {
        button : "ui-icon-triangle-1-s"
      },
      position : {
        my : "left top",
        at : "left bottom",
        collision : "none"
      },
      width : false,
      change : null,
      close : null,
      focus : null,
      open : null,
      select : null
    },
    _create : function() {
      var selectmenuId = this.element.uniqueId().attr("id");
      this.ids = {
        element : selectmenuId,
        button : selectmenuId + "-button",
        menu : selectmenuId + "-menu"
      };
      this._drawButton();
      this._drawMenu();
      this._bindFormResetHandler();
      this._rendered = false;
      this.menuItems = $();
    },
    _drawButton : function() {
      var icon;
      var that = this;
      var item = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex);
      this.labels = this.element.labels().attr("for", this.ids.button);
      this._on(this.labels, {
        click : function(event) {
          this.button.focus();
          event.preventDefault();
        }
      });
      this.element.hide();
      this.button = $("<span>", {
        tabindex : this.options.disabled ? -1 : 0,
        id : this.ids.button,
        role : "combobox",
        "aria-expanded" : "false",
        "aria-autocomplete" : "list",
        "aria-owns" : this.ids.menu,
        "aria-haspopup" : "true",
        title : this.element.attr("title")
      }).insertAfter(this.element);
      this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget");
      icon = $("<span>").appendTo(this.button);
      this._addClass(icon, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button);
      this.buttonItem = this._renderButtonItem(item).appendTo(this.button);
      if (false !== this.options.width) {
        this._resizeButton();
      }
      this._on(this.button, this._buttonEvents);
      this.button.one("focusin", function() {
        if (!that._rendered) {
          that._refreshMenu();
        }
      });
    },
    _drawMenu : function() {
      var that = this;
      this.menu = $("<ul>", {
        "aria-hidden" : "true",
        "aria-labelledby" : this.ids.button,
        id : this.ids.menu
      });
      this.menuWrap = $("<div>").append(this.menu);
      this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front");
      this.menuWrap.appendTo(this._appendTo());
      this.menuInstance = this.menu.menu({
        classes : {
          "ui-menu" : "ui-corner-bottom"
        },
        role : "listbox",
        select : function(event, ui) {
          event.preventDefault();
          that._setSelection();
          that._select(ui.item.data("ui-selectmenu-item"), event);
        },
        focus : function(type, data) {
          var item = data.item.data("ui-selectmenu-item");
          if (null != that.focusIndex && item.index !== that.focusIndex) {
            that._trigger("focus", type, {
              item : item
            });
            if (!that.isOpen) {
              that._select(item, type);
            }
          }
          that.focusIndex = item.index;
          that.button.attr("aria-activedescendant", that.menuItems.eq(item.index).attr("id"));
        }
      }).menu("instance");
      this.menuInstance._off(this.menu, "mouseleave");
      this.menuInstance._closeOnDocumentClick = function() {
        return false;
      };
      this.menuInstance._isDivider = function() {
        return false;
      };
    },
    refresh : function() {
      this._refreshMenu();
      this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {}));
      if (null === this.options.width) {
        this._resizeButton();
      }
    },
    _refreshMenu : function() {
      var item;
      var options = this.element.find("option");
      this.menu.empty();
      this._parseOptions(options);
      this._renderMenu(this.menu, this.items);
      this.menuInstance.refresh();
      this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");
      this._rendered = true;
      if (options.length) {
        item = this._getSelectedItem();
        this.menuInstance.focus(null, item);
        this._setAria(item.data("ui-selectmenu-item"));
        this._setOption("disabled", this.element.prop("disabled"));
      }
    },
    open : function(name) {
      if (!this.options.disabled) {
        if (this._rendered) {
          this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active");
          this.menuInstance.focus(null, this._getSelectedItem());
        } else {
          this._refreshMenu();
        }
        if (this.menuItems.length) {
          this.isOpen = true;
          this._toggleAttr();
          this._resizeMenu();
          this._position();
          this._on(this.document, this._documentClick);
          this._trigger("open", name);
        }
      }
    },
    _position : function() {
      this.menuWrap.position($.extend({
        of : this.button
      }, this.options.position));
    },
    close : function(event) {
      if (this.isOpen) {
        this.isOpen = false;
        this._toggleAttr();
        this.range = null;
        this._off(this.document);
        this._trigger("close", event);
      }
    },
    widget : function() {
      return this.button;
    },
    menuWidget : function() {
      return this.menu;
    },
    _renderButtonItem : function(item) {
      var li = $("<span>");
      return this._setText(li, item.label), this._addClass(li, "ui-selectmenu-text"), li;
    },
    _renderMenu : function(ul, items) {
      var that = this;
      var currentOptgroup = "";
      $.each(items, function(index, item) {
        var li;
        if (item.optgroup !== currentOptgroup) {
          li = $("<li>", {
            text : item.optgroup
          });
          that._addClass(li, "ui-selectmenu-optgroup", "ui-menu-divider" + (item.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""));
          li.appendTo(ul);
          currentOptgroup = item.optgroup;
        }
        that._renderItemData(ul, item);
      });
    },
    _renderItemData : function(ul, item) {
      return this._renderItem(ul, item).data("ui-selectmenu-item", item);
    },
    _renderItem : function(ul, item) {
      var body = $("<li>");
      var a = $("<div>", {
        title : item.element.attr("title")
      });
      return item.disabled && this._addClass(body, null, "ui-state-disabled"), this._setText(a, item.label), body.append(a).appendTo(ul);
    },
    _setText : function(value, element) {
      if (element) {
        value.text(element);
      } else {
        value.html("&#160;");
      }
    },
    _move : function(id, event) {
      var item;
      var next;
      var value = ".ui-menu-item";
      if (this.isOpen) {
        item = this.menuItems.eq(this.focusIndex).parent("li");
      } else {
        item = this.menuItems.eq(this.element[0].selectedIndex).parent("li");
        value = value + ":not(.ui-state-disabled)";
      }
      if ((next = "first" === id || "last" === id ? item["first" === id ? "prevAll" : "nextAll"](value).eq(-1) : item[id + "All"](value).eq(0)).length) {
        this.menuInstance.focus(event, next);
      }
    },
    _getSelectedItem : function() {
      return this.menuItems.eq(this.element[0].selectedIndex).parent("li");
    },
    _toggle : function(event) {
      this[this.isOpen ? "close" : "open"](event);
    },
    _setSelection : function() {
      var selection;
      if (this.range) {
        if (window.getSelection) {
          (selection = window.getSelection()).removeAllRanges();
          selection.addRange(this.range);
        } else {
          this.range.select();
        }
        this.button.focus();
      }
    },
    _documentClick : {
      mousedown : function(event) {
        if (this.isOpen) {
          if (!$(event.target).closest(".ui-selectmenu-menu, #" + $.ui.escapeSelector(this.ids.button)).length) {
            this.close(event);
          }
        }
      }
    },
    _buttonEvents : {
      mousedown : function() {
        var sel;
        if (window.getSelection) {
          if ((sel = window.getSelection()).rangeCount) {
            this.range = sel.getRangeAt(0);
          }
        } else {
          this.range = document.selection.createRange();
        }
      },
      click : function(event) {
        this._setSelection();
        this._toggle(event);
      },
      keydown : function(event) {
        var preventDefault = true;
        switch(event.keyCode) {
          case $.ui.keyCode.TAB:
          case $.ui.keyCode.ESCAPE:
            this.close(event);
            preventDefault = false;
            break;
          case $.ui.keyCode.ENTER:
            if (this.isOpen) {
              this._selectFocusedItem(event);
            }
            break;
          case $.ui.keyCode.UP:
            if (event.altKey) {
              this._toggle(event);
            } else {
              this._move("prev", event);
            }
            break;
          case $.ui.keyCode.DOWN:
            if (event.altKey) {
              this._toggle(event);
            } else {
              this._move("next", event);
            }
            break;
          case $.ui.keyCode.SPACE:
            if (this.isOpen) {
              this._selectFocusedItem(event);
            } else {
              this._toggle(event);
            }
            break;
          case $.ui.keyCode.LEFT:
            this._move("prev", event);
            break;
          case $.ui.keyCode.RIGHT:
            this._move("next", event);
            break;
          case $.ui.keyCode.HOME:
          case $.ui.keyCode.PAGE_UP:
            this._move("first", event);
            break;
          case $.ui.keyCode.END:
          case $.ui.keyCode.PAGE_DOWN:
            this._move("last", event);
            break;
          default:
            this.menu.trigger(event);
            preventDefault = false;
        }
        if (preventDefault) {
          event.preventDefault();
        }
      }
    },
    _selectFocusedItem : function(event) {
      var item = this.menuItems.eq(this.focusIndex).parent("li");
      if (!item.hasClass("ui-state-disabled")) {
        this._select(item.data("ui-selectmenu-item"), event);
      }
    },
    _select : function(item, event) {
      var oldIndex = this.element[0].selectedIndex;
      this.element[0].selectedIndex = item.index;
      this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(item));
      this._setAria(item);
      this._trigger("select", event, {
        item : item
      });
      if (item.index !== oldIndex) {
        this._trigger("change", event, {
          item : item
        });
      }
      this.close(event);
    },
    _setAria : function(item) {
      var id = this.menuItems.eq(item.index).attr("id");
      this.button.attr({
        "aria-labelledby" : id,
        "aria-activedescendant" : id
      });
      this.menu.attr("aria-activedescendant", id);
    },
    _setOption : function(key, value) {
      if ("icons" === key) {
        var icon = this.button.find("span.ui-icon");
        this._removeClass(icon, null, this.options.icons.button)._addClass(icon, null, value.button);
      }
      this._super(key, value);
      if ("appendTo" === key) {
        this.menuWrap.appendTo(this._appendTo());
      }
      if ("width" === key) {
        this._resizeButton();
      }
    },
    _setOptionDisabled : function(value) {
      this._super(value);
      this.menuInstance.option("disabled", value);
      this.button.attr("aria-disabled", value);
      this._toggleClass(this.button, null, "ui-state-disabled", value);
      this.element.prop("disabled", value);
      if (value) {
        this.button.attr("tabindex", -1);
        this.close();
      } else {
        this.button.attr("tabindex", 0);
      }
    },
    _appendTo : function() {
      var element = this.options.appendTo;
      return element && (element = element.jquery || element.nodeType ? $(element) : this.document.find(element).eq(0)), element && element[0] || (element = this.element.closest(".ui-front, dialog")), element.length || (element = this.document[0].body), element;
    },
    _toggleAttr : function() {
      this.button.attr("aria-expanded", this.isOpen);
      this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen);
      this.menu.attr("aria-hidden", !this.isOpen);
    },
    _resizeButton : function() {
      var width = this.options.width;
      if (false !== width) {
        if (null === width) {
          width = this.element.show().outerWidth();
          this.element.hide();
        }
        this.button.outerWidth(width);
      } else {
        this.button.css("width", "");
      }
    },
    _resizeMenu : function() {
      this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1));
    },
    _getCreateOptions : function() {
      var options = this._super();
      return options.disabled = this.element.prop("disabled"), options;
    },
    _parseOptions : function(options) {
      var that = this;
      var results = [];
      options.each(function(index, item) {
        results.push(that._parseOption($(item), index));
      });
      this.items = results;
    },
    _parseOption : function(option, index) {
      var optgroup = option.parent("optgroup");
      return {
        element : option,
        index : index,
        value : option.val(),
        label : option.text(),
        optgroup : optgroup.attr("label") || "",
        disabled : optgroup.prop("disabled") || option.prop("disabled")
      };
    },
    _destroy : function() {
      this._unbindFormResetHandler();
      this.menuWrap.remove();
      this.button.remove();
      this.element.show();
      this.element.removeUniqueId();
      this.labels.attr("for", this.ids.element);
    }
  }]);
});
"use strict";
var defly = function() {
  function $(value) {
    if (cache[value]) {
      return cache[value];
    }
    if (results[value]) {
      return cache[value] = values[results[value] - 1], cache[value];
    }
    if (value == undefined && key >= 0) {
      return cache[value] = obj[key], cache[value];
    }
    do {
      var type = obj[Math.floor(Math.random() * obj.length)];
    } while (value != undefined && cache[undefined] == type);
    return cache[value] = type, type;
  }
  function String(val) {
    return values[val - 1];
  }
  function foo(cur) {
    return cur;
  }
  function getBabelRc() {
    function dppx() {
      return "undefined" == typeof window ? 0 : +window.devicePixelRatio || Math.sqrt(screen.deviceXDPI * screen.deviceYDPI) / one.dpi || 0;
    }
    var one = {
      dpi : 96,
      dpcm : 96 / 2.54
    };
    return {
      dppx : dppx,
      dpi : function() {
        return dppx() * one.dpi;
      },
      dpcm : function() {
        return dppx() * one.dpcm;
      }
    };
  }
  function renderImage(text) {
    mmCoreSecondsDay = text;
    if (1 == text) {
      document.getElementById("button-quality-high").classList.remove("unselected");
    } else {
      document.getElementById("button-quality-high").classList.add("unselected");
    }
    if (.8 == text) {
      document.getElementById("button-quality-medium").classList.remove("unselected");
    } else {
      document.getElementById("button-quality-medium").classList.add("unselected");
    }
    if (.6 == text) {
      document.getElementById("button-quality-low").classList.remove("unselected");
    } else {
      document.getElementById("button-quality-low").classList.add("unselected");
    }
    try {
      if ("undefined" != typeof Storage) {
        localStorage.setItem("quality", text);
      }
    } catch (g) {
    }
    if (renderer) {
      renderer.resolution = mmCoreSecondsDay * daysToStart;
      if (renderer.rootRenderTarget) {
        renderer.rootRenderTarget.resolution = mmCoreSecondsDay * daysToStart;
      }
      generate();
    }
  }
  function call(index, count) {
    var b = count < 0 ? 0 : 255;
    var c = count < 0 ? -1 * count : count;
    var a = index >> 16;
    var pngBytesPerPixel = index >> 8 & 255;
    var xx = 255 & index;
    return 65536 * (Math.round((b - a) * c) + a) + 256 * (Math.round((b - pngBytesPerPixel) * c) + pngBytesPerPixel) + (Math.round((b - xx) * c) + xx);
  }
  function trim(text) {
    return text.replace(/&/g, "&amp;").replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;");
  }
  function parse(text, t) {
    var result = (text = text.replace(/[\u00e2\u2013\u02c6\u00e2\u00b8\u00bb\u00e5\u008d\u008d\u00e5\u008d\u0090\u00ef\u00b7\u00bd\u00e0\u00af\u00b5\u00e1\u20ac\u00aa\u00AD\u200A\u200B\u200C\u200D\u200E\u200F\u2060\ufeff\u00d6\u00bc\u05BC]/g, "").replace(/\u00f0\u0178\u2013\u2022/g, "").replace(/\u0391/g, "A").replace(/\u0392/g, "B").replace(/\u0395/g, "E").replace(/\u0396/g, "Z").replace(/\u0397/g, "H").replace(/\u039A/g, "K").replace(/\u039C/g, "M").replace(/\u039D/g, "N").replace(/\u039F/g, "O").replace(/\u03A1/g, 
    "P").replace(/\u03A4/g, "T").replace(/\u03A5/g, "Y").replace(/\u03A7/g, "X").replace(/\u03BF/g, "o").replace(/\u0415/g, "E").replace(/\u0405/g, "S").replace(/\u0410/g, "A").replace(/\u0412/g, "B").replace(/\u041A/g, "K").replace(/\u041C/g, "M").replace(/\u041D/g, "H").replace(/\u041E/g, "O").replace(/\u0420/g, "P").replace(/\u0421/g, "C").replace(/\u0422/g, "T").replace(/\u0425/g, "X")).split(" ");
    var i = 0;
    for (; i < result.length; i++) {
      var lowerCaseVal = result[i].toUpperCase();
      var kk = (lowerCaseVal.match(/[a-zA-Z0-9]/) || []).pop();
      if (void 0 !== ldata[kk]) {
        var l = 0;
        for (; l < ldata[kk].length; l++) {
          var val = ldata[kk][l];
          if (-1 != lowerCaseVal.indexOf(val)) {
            result[i] = t;
          }
        }
      }
    }
    text = result.join(" ");
    l = 0;
    for (; l < ldata[" "].length; l++) {
      val = ldata[" "][l];
      if (-1 !== text.toUpperCase().indexOf(val.toUpperCase())) {
        text = text.replace(new RegExp(ldata[" "][l], "ig"), t);
      }
    }
    return text;
  }
  function getLocation(elem) {
    return "https:" === window.location.protocol.toLowerCase() ? "wss://" + elem.replace(":", "/") : "ws://" + elem;
  }
  function Client(id) {
    categories[id] = new WebSocket(getLocation(i18n[id].uri));
    categories[id].binaryType = "arraybuffer";
    categories[id].pings = [];
    categories[id].sendPing = function() {
      this.lastPingTime = (new Date).getTime();
      var data = new Uint8Array(1);
      data.set([99], 0);
      this.send(data);
    };
    categories[id].addEventListener("open", function(window) {
      window.target.sendPing();
    });
    categories[id].addEventListener("error", function(g) {
      if (!this.cancelled) {
        reject((new Date).toLocaleTimeString() + " - Error reaching server in " + id + " " + g.type + " " + g.code, "");
      }
    });
    categories[id].addEventListener("close", function(canCreateDiscussions) {
    });
    categories[id].addEventListener("message", function(b) {
      var size_buffer = (new DataView(b.data)).getUint8(0);
      if (99 == size_buffer) {
        b.target.pings.push((new Date).getTime() - b.target.lastPingTime);
        if (b.target.pings.length >= 3) {
          b.target.close();
          delete categories[id];
          sym[id] = Math.min.apply(Math, b.target.pings);
          console.log("Best ping for region", id, sym[id]);
          (function() {
            var winMinPeak = 999999;
            var fsHTML = "";
            var p;
            for (p in sym) {
              if (sym[p] < winMinPeak) {
                winMinPeak = sym[p];
                if (el != p) {
                  console.log("Best region", p);
                }
                el = p;
              }
              fsHTML = fsHTML + ('<option value="' + p + '" data-ping="' + sym[p] + '">' + overlapsEndcoor[p] + "</option>");
            }
            if (!NAME_FILTER) {
              document.getElementById("server-block").style.display = "block";
            }
            document.getElementById("server").innerHTML = fsHTML;
            document.getElementById("server").value = el;
            $("#server").selectmenu("refresh");
            if (hasCanceled_ && reverseValue) {
              poll();
            }
          })();
        } else {
          b.target.sendPing();
        }
      } else {
        console.log("unexpected code from server", size_buffer);
      }
    });
  }
  function main() {
    if (i18n) {
      !function() {
        var i;
        for (i in i18n) {
          if (categories[i]) {
            categories[i].cancelled = true;
            categories[i].close();
          }
          delete categories[i];
        }
        sym = [];
        document.getElementById("server").innerHTML = "<option>Loading...</option>";
        $("#server").selectmenu("refresh");
      }();
      clearTimeout(resizeLogTimeout);
    }
    var request = new XMLHttpRequest;
    request.onreadystatechange = function() {
      if (4 == request.readyState && 200 == request.status) {
        try {
          var lines = request.responseText.split("\n");
          i18n = JSON.parse(lines[0]);
          if (hasCanceled_) {
            i18n = {
              TR : i18n.TR
            };
          } else {
            delete i18n.TR;
          }
          var Q = false;
          var i;
          for (i in i18n) {
            if (i18n[i]) {
              Client(i);
              Q = true;
            }
          }
          if (Q || (resizeLogTimeout = setTimeout(main, 3E3), hasCanceled_ ? reject((new Date).toLocaleTimeString() + " - Please wait, tournament is opening... ") : reject((new Date).toLocaleTimeString() + " - Downloaded server list was empty", "error")), lines.length > 1) {
            var i = 1;
            for (; i < lines.length; i++) {
              var text = lines[i];
              if (text.startsWith("event=")) {
                text = text.slice(6);
                var params = JSON.parse(text);
                var width = (new Date(params.ts ? parseInt(params.ts) : params.date)).getTime();
                var n = (new Date).getTime();
                var i = width - n;
                var oldElem = document.getElementById("event-placeholder");
                if (oldElem) {
                  if (i >= -864E5) {
                    var item = document.createElement("div");
                    item.className = "event";
                    item.innerHTML = "<span>" + trim(params.title) + '</span> - <span class="date">' + params.date + "</span> - <a onclick=\"document.getElementById('event-popup').style.display='block';\">click for details</a>";
                    oldElem.parentNode.replaceChild(item, oldElem);
                    document.getElementById("event-title").innerHTML = trim(params.title) + '<span class="date">' + params.date + "</span>";
                    document.getElementById("event-content").innerHTML = trim(params.details);
                  }
                  if (i >= -36E5) {
                    var callback = function() {
                      var n = (new Date).getTime();
                      var i = width - n;
                      var idealHeight = Math.floor(i / 864E5);
                      var st = Math.floor(i % 864E5 / 36E5);
                      var h = Math.floor(i % 36E5 / 6E4);
                      var f = Math.floor(i % 6E4 / 1E3);
                      document.getElementById("tourney-countdown").innerHTML = '<button class="button back disabled" onclick="defly.joinTourney()">Tourney starts in ' + (idealHeight > 0 ? idealHeight + "d " : "") + (idealHeight > 0 || st > 0 ? st + "h " : "") + (idealHeight > 0 || st > 0 || h > 0 ? h + "m " : "") + f + "s </button><a onclick=\"document.getElementById('event-popup').style.display='block'\"> ?</a>";
                      if (i < -36E5) {
                        document.getElementById("tourney-countdown").style.display = "none";
                      } else {
                        if (i < 0) {
                          clearInterval(intervalHandle);
                          document.getElementById("tourney-countdown").innerHTML = '<button class="orange button animated pulse" onclick="defly.joinTourney()">Join the tournament</button>';
                        }
                      }
                    };
                    intervalHandle = setInterval(callback, 1E3);
                    callback();
                  }
                }
              }
            }
          }
        } catch (s) {
          console.error(s);
          if (++rQ < 100) {
            resizeLogTimeout = setTimeout(main, 3E3);
          }
          reject((new Date).toLocaleTimeString() + " - Downloaded server list was invalid: " + request.responseText, "error");
        }
      } else {
        if (4 == request.readyState && 200 != request.status) {
          request.onerror(request.status);
        }
      }
    };
    request.onerror = function(event) {
      reject((new Date).toLocaleTimeString() + " - Error downloading server list", "error");
      if (++rQ < 100) {
        resizeLogTimeout = setTimeout(main, 3E3);
      }
    };
    request.open("GET", url + "/servers?m=" + type, true);
    request.send(null);
  }
  function poll() {
    if (clearTimeout(detectingSelectAll), document.getElementById("play-button").style.display = "none", document.getElementById("play-spinner").style.display = "block", el) {
      var opt = document.getElementById("server").value ? document.getElementById("server").value : el;
      var searchQuery = document.getElementById("username").value.substring(0, 14);
      var request = new XMLHttpRequest;
      request.onreadystatechange = function() {
        if (4 == request.readyState && 200 == request.status) {
          if (-1 != request.responseText.indexOf("LOGIN_ERROR")) {
            alert("The session has expired, please reload the page and try again");
            document.location.reload();
          } else {
            if (-1 != request.responseText.indexOf("ERROR")) {
              if (NAME_FILTER) {
                alert("Can't connect to the specified server, it's probably not open right now");
                history.replaceState("", document.title, window.location.pathname + window.location.search);
                search();
                document.getElementById("play-button").style.display = "block";
                document.getElementById("play-spinner").style.display = "none";
                X = false;
              } else {
                detectingSelectAll = setTimeout(poll, 3E3);
                reject((new Date).toLocaleTimeString() + " - Error selecting server: " + request.responseText, "error");
              }
            } else {
              if (-1 != request.responseText.indexOf("RESERVED_NICKNAME")) {
                document.getElementById("play-button").style.display = "block";
                document.getElementById("play-spinner").style.display = "none";
                X = false;
                alert("This nickname is reserved by a premium account, please choose another one");
                document.getElementById("username").value = "";
              } else {
                var parts = request.responseText.split(" ");
                if (base = parts[0], path = parts[1], parts.length >= 3 && (type = parseInt(parts[2])), "undefined" != typeof Storage) {
                  try {
                    localStorage.setItem("sessionId", path);
                  } catch (conv_reverse_sort) {
                    console.log(conv_reverse_sort);
                  }
                }
                console.log("Server", base, "reservationKey", my_pow);
                connect();
              }
            }
          }
        } else {
          if (4 == request.readyState && 200 != request.status) {
            request.onerror(request.status);
          }
        }
      };
      request.onerror = function(event) {
        reject((new Date).toLocaleTimeString() + " - Error selecting server", "error");
        detectingSelectAll = setTimeout(poll, 3E3);
      };
      request.open("POST", url + "?r=" + (opt || "") + "&m=" + type + "&u=" + encodeURIComponent(searchQuery) + "&fu=" + encodeURIComponent(parse(searchQuery)) + "&s=" + (path || "") + (hasStyle ? "&a=1" : "") + (!hasStyle && isFilled ? "&a=2" : "") + (NAME_FILTER ? "&p=" + encodeURIComponent(NAME_FILTER) : ""), true);
      if (hasStyle) {
        request.send(body);
      } else {
        if (isFilled) {
          request.send(payload);
        } else {
          request.send(null);
        }
      }
    } else {
      detectingSelectAll = setTimeout(poll, 3E3);
    }
  }
  function connect() {
    if (res) {
      console.error("Already connected to server");
    } else {
      document.getElementById("play-button").style.display = "none";
      document.getElementById("play-spinner").style.display = "block";
      cache = {};
      result = {};
      (res = new WebSocket(getLocation(base))).binaryType = "arraybuffer";
      res.addEventListener("open", function(canCreateDiscussions) {
        console.log("socket connected");
        (function() {
          if (0 == (input = document.getElementById("username").value.substring(0, 14)).length) {
            input = "Player";
          }
          if ("undefined" != typeof Storage) {
            try {
              localStorage.setItem("username", input);
            } catch (conv_reverse_sort) {
              console.log(conv_reverse_sort);
            }
          }
          var root = path || "";
          var data = new DataView(new ArrayBuffer(2 + 2 * input.length + 1 + 2 * root.length + 4 + 4));
          data.setUint8(0, 1);
          split(data, 1, input);
          split(data, 2 + 2 * input.length, root);
          data.setInt32(2 + 2 * input.length + 1 + 2 * root.length, v);
          data.setInt32(2 + 2 * input.length + 1 + 2 * root.length + 4, x);
          res.send(data.buffer);
        })();
      });
      res.addEventListener("error", function(g) {
        console.error(g);
        reject((new Date).toLocaleTimeString() + " - Websocket error " + g.type + " " + g.code, "error");
        g.type;
      });
      res.addEventListener("close", function(g) {
        if (console.log("socket closed", g), !escapes_obj) {
          if (0 == _curr_idx) {
            if (pg) {
              alert("You have been kicked out for inactivity.");
            } else {
              alert("Connection to the server failed. Please try again in a few minutes and contact us if the problem persists.");
              g.code;
            }
            document.location.reload();
          } else {
            if (g.code, children[undefined] && !tmp) {
              var view = new DataView(new ArrayBuffer(10));
              view.setUint8(0, 10);
              view.setInt32(1, undefined);
              view.setUint8(5, 0);
              view.setInt32(6, 0);
              run(view);
            }
            if (pg) {
              alert("You have been kicked out for inactivity.");
            } else {
              alert("The connection to the server has been lost.");
            }
            document.getElementById("internet-issue").style.display = "none";
            document.getElementById("respawn-buttons").style.display = "none";
            document.getElementById("respawn-buttons-gm2").style.display = "none";
            MainLoop.stop();
            if (4 == type) {
              document.location.reload();
            }
          }
        }
        res = null;
        escapes_obj = false;
        0;
        array = [];
      });
      res.addEventListener("message", init);
    }
  }
  function refresh() {
    document.getElementById("tuto-checkbox").checked = !hidden;
    document.getElementById("homepage").classList.add("blurred");
    document.getElementById("tuto-popup").style.display = "table-row";
    document.getElementById("tuto-video").currentTime = 0;
    document.getElementById("tuto-video").play();
  }
  function onReady() {
    X = true;
    if (window.DEFLY_SERVER_URL) {
      base = window.DEFLY_SERVER_URL;
      connect();
    } else {
      poll();
    }
  }
  function fullscreen() {
    if (!X) {
      if (limit && !isReplayingSong) {
        if (document.body.requestFullscreen) {
          document.body.requestFullscreen();
        } else {
          if (document.body.mozRequestFullScreen) {
            document.body.mozRequestFullScreen();
          } else {
            if (document.body.webkitRequestFullscreen) {
              document.body.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
            } else {
              if (document.body.msRequestFullscreen) {
                document.body.msRequestFullscreen();
              }
            }
          }
        }
        try {
          screen.orientation.lock("landscape");
        } catch (g) {
        }
      }
      bufferToHexCodes = onReady;
      if ((2 == type || 2 == x || x > 2 && (x - 2) % 2 == 0) && clear()) {
        if ("undefined" != typeof gtag) {
          gtag("event", "StartGame", {
            event_category : "Click",
            event_label : "VideoAd",
            playerSkin : v,
            playerSkinColor : key
          });
        }
      } else {
        onReady();
        if ("undefined" != typeof gtag) {
          gtag("event", "StartGame", {
            event_category : "Click",
            event_label : "NoVideoAd",
            playerSkin : v,
            playerSkinColor : key
          });
        }
      }
    }
  }
  function select() {
    var FONT_SUFFIX = 0;
    for (; FONT_SUFFIX <= 4; FONT_SUFFIX++) {
      if (document.getElementById("gamemode-" + FONT_SUFFIX)) {
        if (type == FONT_SUFFIX) {
          document.getElementById("gamemode-" + FONT_SUFFIX).classList.add("selected");
        } else {
          document.getElementById("gamemode-" + FONT_SUFFIX).classList.remove("selected");
        }
      }
    }
  }
  function clear() {
    if (showall || hasColStyle) {
      return false;
    }
    try {
      if (zQ = true, window.famobi) {
        window.famobi.showAd(parseOCSPReq);
        if ("undefined" != typeof gtag) {
          gtag("event", "ShowFamobiVideo", {
            event_category : "Ads"
          });
        }
      } else {
        if ("undefined" == typeof aiptag || !aiptag.cmd.player.push || 0 != aiptag.cmd.player.length) {
          return zQ = false, "undefined" != typeof gtag && gtag("event", "BlockedAdInPlayVideo", {
            event_category : "Ads"
          }), false;
        }
        aiptag.cmd.player.push(function() {
          adplayer.startPreRoll();
        });
        if ("undefined" != typeof gtag) {
          gtag("event", "ShowAdInPlayVideo", {
            event_category : "Ads"
          });
        }
        document.getElementById("defly-io_300x250").style.display = "none";
      }
      return true;
    } catch (g) {
      return console.error(g), zQ = false, false;
    }
  }
  function parseOCSPReq() {
    if (zQ) {
      zQ = false;
      Ng = Date.now();
      bufferToHexCodes();
      document.getElementById("defly-io_300x250").style.display = "block";
    }
  }
  function go() {
    MainLoop.stop();
    if (res && 1 == res.readyState) {
      escapes_obj = true;
      res.close();
    }
    document.getElementById("fps").style.display = "none";
    renderer.view.style.display = "none";
    _curr_idx = 0;
    if ("undefined" != typeof gtag) {
      gtag("event", "BackToHomepage", {
        event_category : "Click"
      });
    }
    history.replaceState("", document.title, window.location.pathname + window.location.search);
    window.location.reload();
  }
  function init(salt) {
    var data = new DataView(salt.data);
    var size_buffer = data.getUint8(0);
    switch(size_buffer) {
      case 1:
        console.error("received map unavailable");
        mQ++;
        if (0 != type && 1 != type && 3 != type || 1 != _curr_idx) {
          if (1 == type && -1 != orientation) {
            setTimeout(function() {
              listener(orientation);
            }, 250);
          } else {
            escapes_obj = true;
            res.close();
            detectingSelectAll = setTimeout(poll, 250);
          }
        } else {
          setTimeout(sendMousePosition, 250);
        }
        if (mQ >= 20) {
          document.getElementById("spawn-warning").style.display = "block";
        }
        break;
      case 2:
        !function(view) {
          try {
            var originalFavicon = document.getElementById("cp-iframe");
            originalFavicon.parentNode.replaceChild(originalFavicon.cloneNode(), originalFavicon);
          } catch (g) {
          }
          sprite.removeChildren();
          node1.removeChildren();
          element.removeChildren();
          layer.removeChildren();
          r.removeChildren();
          container.removeChildren();
          d.removeChildren();
          parent.removeChildren();
          tree.removeChildren();
          child.removeChildren();
          mQ = 0;
          children = {};
          list = {};
          map = {};
          items = {};
          nodes = {};
          tmp = null;
          to = 0;
          current = 0;
          EV_LISTENER_MARKUP = 0;
          source = [0, 0, 0, 0, 0, 0, 0];
          index = 0;
          self = {
            shooting : false,
            moving : false,
            aimDirection : 0,
            moveDirection : 0
          };
          roles = [];
          html = [];
          data = [];
          target = null;
          k = -1;
          err = false;
          j = 0;
          depth = 0;
          bottom = 0;
          max_depth = 60;
          undefined = view.getInt32(1);
          depth = view.getInt32(5);
          width = view.getFloat32(9);
          height = view.getFloat32(13);
          scale = view.getFloat32(17);
          scale = scale * zoomScale;
          zoom = view.getFloat32(21);
          dd = view.getFloat32(25);
          newZoom = view.getFloat32(29);
          h = view.getFloat32(33);
          84 * h / 128;
          t = view.getFloat32(37);
          duration = view.getFloat32(41);
          timeoutSecs = view.getFloat32(45);
          view.getFloat32(49);
          safety = view.getFloat32(53);
          s = view.getFloat32(57);
          number = view.getFloat32(61);
          var xSpeedIncrease = view.getFloat32(65);
          var defaultYPos = view.getFloat32(69);
          if (view.byteLength >= 76) {
            id = view.getInt32(73);
            results[undefined] = id;
          }
          if (view.byteLength >= 80) {
            Ws = view.getInt32(77);
          }
          if (view.byteLength >= 82) {
            fg = view.getUint8(81);
            if ((0 == type || 3 == type || 4 == type) && fg >= 1) {
              cache[1] = 5066061;
            }
          }
          if (view.byteLength >= 83) {
            var h = view.getUint8(82);
            es = (1 & h) > 0;
            primaryTxHex = (2 & h) > 0;
            on = 2 != type && (4 & h) > 0;
          }
          if (view.byteLength >= 83 + actual.length) {
            var n = 0;
            for (; n < actual.length; n++) {
              actual[n] = view.getUint8(83 + n);
            }
          }
          var _looseEquality = false;
          if (view.byteLength >= 83 + actual.length + 1) {
            var a = 83 + actual.length;
            var offset = view.getUint8(a);
            var output = "<tr>";
            var js = "<tr>";
            n = 0;
            for (; n < offset; n++) {
              var signedTransactionsCounter = view.getUint8(a + 1 + n);
              output = output + ("<td>" + signedTransactions[signedTransactionsCounter] + "</td>");
              js = js + ('<td><div class="icon" onclick="defly.selectSuperpower(' + signedTransactionsCounter + ');"><img src="img/sp' + signedTransactionsCounter + '.png"></div></td>');
            }
            if (output = output + "</tr>", js = js + "</tr>", document.getElementById("choose-superpower").getElementsByTagName("table")[0].innerHTML = output + js, _looseEquality = true, a = a + (1 + offset), view.byteLength >= a + 1) {
              var p = view.getUint8(a);
              n = 0;
              for (; n < p; n++) {
                baseCardinals[n] = view.getFloat32(a + 1 + 8 * n + 0);
                urlContentRequests[n] = view.getFloat32(a + 1 + 8 * n + 4);
              }
            }
          }
          DDtoUTM();
          if (0 == type || 1 == type) {
            _ = new Grid(width, height, 2);
            $scope = new Grid(width, height, 2);
          } else {
            if (3 == type) {
              _ = new Grid(width, height, 2);
              $scope = new Grid(width, height, 2);
              instance = new Grid(width, height, 2);
            }
          }
          if (4 != type) {
            params[undefined] = input;
          }
          result[undefined] = v;
          load(undefined);
          var value = cache[undefined];
          var modelConf = {};
          var key;
          for (key in cache) {
            if (key != undefined && cache[key] == value) {
              modelConf[key] = true;
            }
          }
          for (key in modelConf) {
            delete cache[key];
          }
          children[undefined].x = xSpeedIncrease;
          children[undefined].y = defaultYPos;
          (opts = new PIXI.Sprite(PIXI.loader.resources["img/line1.png"].texture)).anchor.set(.5);
          opts.height = h;
          opts.alpha = .2;
          opts.tint = $(undefined);
          opts.visible = false;
          r.addChild(opts);
          (item = new PIXI.Sprite(options.dot1)).anchor.set(.5);
          item.width = 2 * zoom;
          item.height = 2 * zoom;
          item.alpha = .2;
          item.tint = $(undefined);
          item.visible = false;
          container.addChild(item);
          _curr_idx = 1;
          generate();
          html = [];
          MainLoop.start();
          renderer.view.style.display = "block";
          if ((notificationContainer = document.getElementById("defly-io_300x250")) && !showall) {
            notificationContainer.parentElement.removeChild(notificationContainer);
            document.getElementById("respawn-promo" + (2 == type ? "-gm2" : 4 == type ? "-gm4" : "")).appendChild(notificationContainer);
          }
          if (2 == type && !showall) {
            var notificationContainer = document.getElementById("defly-io_728x90");
            if (notificationContainer) {
              notificationContainer.parentElement.removeChild(notificationContainer);
              document.getElementById("curse-promo-gm2").appendChild(notificationContainer);
            }
          }
          if (1 == type) {
            var fsHTML = "";
            n = 0;
            for (; n < namesLength; n++) {
              var name = values[n + (fg >= 1 ? 1 : 0)];
              if (16252714 == name) {
                name = 13817893;
              }
              var label = call(name, .2);
              fsHTML = fsHTML + ('<div class="bar" ' + (id == n + 1 + (fg >= 1 ? 1 : 0) ? 'id="map-control-bar-value"' : 'id="map-control-bar-team-' + ((fg >= 1 ? 2 : 0) + n) + '"') + ' style="background: linear-gradient(to bottom, ' + isEmpty(name) + ", " + isEmpty(label) + ');"></div>');
            }
            document.getElementById("score-bars").innerHTML = fsHTML;
          }
          document.getElementById("play-button").style.display = "block";
          document.getElementById("play-spinner").style.display = "none";
          document.getElementById("respawn-button").style.display = "inline-block";
          document.getElementById("respawn-spinner").style.display = "none";
          document.getElementById("spawn-warning").style.display = "none";
          document.getElementById("homepage").style.display = "none";
          document.getElementById("respawn").style.display = "none";
          document.getElementById("upgrade-block").style.display = "none";
          if (document.getElementById("choose-team-popup")) {
            document.getElementById("choose-team-popup").style.display = "none";
          }
          if (2 != type) {
            document.getElementById("xp-block").style.display = "block";
          }
          if (4 == type) {
            var sessionAlert = document.getElementById("xp-block");
            sessionAlert.getElementsByClassName("score-bar")[0].style.display = "none";
            document.getElementById("xp-bar").style.display = "none";
          }
          if (document.getElementById("level-value").innerHTML = 0, document.getElementById("xp-value").style.width = "0%", document.getElementById("upgrade-points").innerHTML = "0", document.getElementById("superpower-fuel").style.display = "none", document.getElementById("choose-superpower").style.display = "none", document.getElementById("lb-player-points").innerHTML = 0, document.getElementById("lb-player-name").innerHTML = input, document.getElementById("fps").style.display = "block", document.getElementById("hide-xp-block").style.display = 
          "none", width > height) {
            var awe_canvas_height = Math.ceil(96 / width * height);
            canvas.width = 96;
            canvas.height = awe_canvas_height;
          } else {
            if (height > width) {
              var reflectionWidth = Math.ceil(96 / height * width);
              document.getElementById("minimap").style.width = reflectionWidth + "px";
              canvas.width = reflectionWidth;
              canvas.height = 96;
            } else {
              canvas.width = 96;
              canvas.height = 96;
            }
          }
          if (document.getElementById("minimap").style.width = canvas.width + "px", document.getElementById("minimap").style.height = canvas.height + "px", 2 == type) {
            var node = document.getElementById("minimap-target-positions");
            if (!node) {
              (node = document.createElement("div")).setAttribute("id", "minimap-target-positions");
              document.getElementById("minimap").insertBefore(node, document.getElementById("minimap-team-positions"));
            }
            node.innerHTML = "";
          }
          if (1 == Ws) {
            document.getElementById("minimap").style.clipPath = "polygon(0 50%, 25% 0, 75% 0, 100% 50%, 75% 100%, 25% 100%)";
          } else {
            if (2 == Ws) {
              document.getElementById("minimap").style.borderRadius = "50%";
            }
          }
          checkTracking();
          if (4 != type) {
            document.getElementById("minimap").style.display = "block";
          }
          if (limit) {
            document.getElementById("minimap").style.right = "unset";
            document.getElementById("minimap").style.left = "4px";
            document.getElementById("minimap").style.transformOrigin = "bottom left";
            if (!(1 != type && 2 != type || !document.getElementById("chat-button"))) {
              document.getElementById("chat-button").style.display = "inline-block";
            }
          }
          document.getElementById("score").style.display = "block";
          n = 0;
          for (; n < 7; n++) {
            document.getElementById("skill-plus-" + n).style.display = "block";
          }
          if (document.getElementById("map-vote")) {
            document.getElementById("map-vote").style.display = "none";
          }
          (function() {
            _deviceBearing = (new Date).getTime();
            var data = new Uint8Array(1);
            data.set([99], 0);
            res.send(data);
          })();
          if (!(1 != type && 2 != type || limit)) {
            write("Welcome to Team " + pixels[id - 1] + ". Press TAB to show your teammates positions", checked ? "info-dark" : "info");
            if (!autoCompile) {
              write(hasStyle || isFilled ? "Press ENTER to chat with your teammates" : "Chat is disabled for anonymous players. Sign-in with an account to use the chat.", checked ? "info-dark" : "info");
            }
          }
          if (2 == type) {
            document.getElementById("buy-screen").style.display = "block";
          } else {
            if (!_looseEquality && 3 == type) {
              var yAsis = document.getElementById("choose-superpower");
              var nTds = yAsis.getElementsByTagName("td");
              nTds[3].innerHTML = "Grenade";
              nTds[9].innerHTML = '<div class="icon" onclick="defly.selectSuperpower(6);"><img src="img/sp6.png"></div>';
            }
          }
          setup();
          Tc = (new Date).getTime();
          if (unconditional) {
            children[undefined].visible = opts.visible = item.visible = false;
            tmp = children[undefined].position;
            clearTimeout(appendTrackTimer);
          }
          if (!hasCanceled_) {
            window.location.hash = "#" + type + "-" + base.replace(".defly.io", "");
          }
          if (!(unconditional || !hasColStyle || 0 != type && 3 != type)) {
            send(1, window.prompt("?", ""));
            send(5);
            _td_alert = setInterval(function() {
              send(5);
            }, 6E4);
          }
          if (intervalHandle) {
            clearInterval(intervalHandle);
            intervalHandle = null;
          }
          if (4 == type) {
            if (0 != fileTooLarge) {
              document.getElementById("spectate-1v1-ui").style.display = "none";
              document.getElementById("gm-1v1-lobby").style.display = "none";
              document.getElementById("chat-block").classList.remove("typing");
              document.getElementById("chat-block").classList.remove("gm-1v1-lobby");
              document.getElementById("chat-input").blur();
              self.moving = false;
              of[0] = false;
              of[1] = false;
              of[2] = false;
              of[3] = false;
              var tmp = document.createElement("div");
              tmp.setAttribute("id", "countdown-1v1");
              tmp.innerText = "5";
              document.body.appendChild(tmp);
              let g = Date.now();
              let logIntervalId = setInterval(function() {
                let Q = Date.now() - g;
                if (Q >= 5E3) {
                  clearInterval(logIntervalId);
                  tmp.innerText = "GO!";
                  anime({
                    targets : tmp,
                    easing : "linear",
                    duration : 1E3,
                    opacity : 0,
                    complete : function() {
                      document.body.removeChild(tmp);
                    }
                  });
                } else {
                  tmp.innerText = Math.ceil((5E3 - Q) / 1E3);
                }
              }, 100);
            } else {
              tmp = children[undefined].position;
              children[undefined].visible = false;
            }
          }
        }(data);
        break;
      case 3:
        getClosestValidDate((new Date).getTime() - array.shift());
        break;
      case 4:
        !function(file) {
          Tc = (new Date).getTime();
          var vstart = file.getInt32(1);
          if (depth - (bottom = vstart) >= 4) {
            var step = Math.max(1, Math.ceil((depth - bottom) / 10));
            0;
            depth = depth - Math.max(1, Math.ceil((depth - bottom) / 10));
            isNaN(-step);
          }
          if (bottom - depth >= 4) {
            step = Math.max(1, Math.ceil((bottom - depth) / 10));
            0;
            depth = depth + step;
            isNaN(step);
          }
          if (bottom > depth) {
            return void html.push({
              turn : bottom,
              dv : file
            });
          }
          if (link(file), depth - bottom > 0) {
            var c = 0;
            for (; c < Math.min(60, depth - bottom); c++) {
              if (!(2 == type && 1 == to || 4 == type && depth < 300)) {
                next(true, false);
                if (children[undefined]) {
                  rotate(children[undefined], true);
                }
              }
            }
          }
        }(data);
        break;
      case 5:
        !function(_data) {
          var month = _data.getUint8(1);
          if (3 == month) {
            return;
          }
          if (2 == month && ++Lc > 10) {
            return;
          }
          var element = document.getElementById("user-error");
          if (!element) {
            (element = document.createElement("div")).setAttribute("class", "user-error");
            element.setAttribute("id", "user-error");
            window.document.body.appendChild(element);
          }
          element.innerHTML = months[month - 1];
          element.style.opacity = 1;
          clearTimeout(endCallTimeout);
          clearInterval(intervalId1);
          endCallTimeout = setTimeout(function() {
            var g = (new Date).getTime();
            intervalId1 = setInterval(function() {
              var _g = (new Date).getTime() - g;
              if (_g > 500) {
                clearInterval(intervalId1);
                window.document.body.removeChild(element);
              } else {
                element.style.opacity = 1 - _g / 500;
              }
            }, 20);
          }, 1E3);
        }(data);
        break;
      case 6:
        set(data);
        break;
      case 49:
        !function(view) {
          var scale = zoom;
          var Q = view.getInt16(1);
          var offset = 3;
          var n = 0;
          for (; n < Q; n++) {
            var id = view.getInt32(offset);
            var username = view.getInt32(offset + 4);
            var x = view.getFloat32(offset + 8);
            var y = view.getFloat32(offset + 12);
            var src = view.getUint8(offset + 16);
            var index = view.getUint8(offset + 17);
            var dd = view.getFloat32(offset + 18);
            var gfill = view.getInt32(offset + 22);
            if (offset = offset + 26, list[id]) {
              0;
            } else {
              var name = expect(username, src, index);
              var data = new PIXI.Sprite(options[name]);
              data.x = x;
              data.y = y;
              data.width = 2 * scale;
              data.height = 2 * scale;
              data.size = scale;
              data.anchor.set(.5);
              data.owner = username;
              data.hp = src;
              data.maxHP = index;
              data.creationTurn = gfill;
              data.alpha = 1;
              data.tint = 1 == type || 2 == type ? String(username) : $(username);
              if (valid && 1 == username && x >= bounds.x1 && x <= bounds.x2 && y >= bounds.y1 && y <= bounds.y2 && options["tower-kh"]) {
                data.texture = options["tower-kh"];
                data.tint = 15642415;
              }
              data.lines = [];
              data.dotId = id;
              container.addChild(data);
              list[id] = data;
              if (data.hp != data.maxHP && 3 != type) {
                data.healthBar = merge(data);
                d.addChild(data.healthBar);
                data.healthBar.outer.width = data.healthBar.width * data.hp / data.maxHP;
              }
              if (dd > 0) {
                replace(data, dd);
              }
              if (!(0 != type && 3 != type || username != undefined)) {
                cM = true;
              }
              if (_) {
                _.add(data, data.position);
                if (3 == type) {
                  repositionMyTooltips(data);
                }
              }
            }
          }
        }(data);
        break;
      case 7:
        log(data);
        break;
      case 50:
        !function(view) {
          var s = view.getInt16(1);
          var ofs = 3;
          var e = 0;
          for (; e < s; e++) {
            var x = view.getInt32(ofs);
            var i = view.getInt32(ofs + 4);
            var key = view.getInt32(ofs + 8);
            var l = view.getInt32(ofs + 12);
            var link_el = view.getInt32(ofs + 16);
            var nodeBBURL = view.getInt32(ofs + 20);
            ofs = ofs + 24;
            var v = list[key];
            var m = list[l];
            if (v || console.error("could not find dot", key), m || console.error("could not find dot", l), map[x]) {
              0;
            } else {
              var data = get(v, m);
              data.lineId = x;
              data.owner = i;
              data.tint = 1 == type || 2 == type ? String(i) : $(i);
              if (valid && 15642415 == v.tint) {
                data.tint = 15642415;
              }
              data.dot1 = v;
              data.dot2 = m;
              data.leftZoneId = link_el;
              data.rightZoneId = nodeBBURL;
              r.addChild(data);
              map[x] = data;
              if ($scope) {
                $scope.addLine(data, v.position, m.position);
              }
              if (s < 20) {
                data.alpha = 0;
                anime({
                  targets : data,
                  alpha : 3 == type && v.isCaptured ? .6 : 1,
                  duration : 250,
                  easing : "linear"
                });
              } else {
                if (3 == type && v.isCaptured) {
                  data.alpha = .6;
                }
              }
            }
          }
        }(data);
        break;
      case 8:
        build(data, true);
        break;
      case 20:
        build(data, false);
        break;
      case 51:
        !function(buffer) {
          var widthInTiles = buffer.getInt16(1);
          var offset = 3;
          var c = 0;
          for (; c < widthInTiles; c++) {
            offset = animate(buffer, offset, false, false);
          }
          var a = buffer.getInt16(offset);
          offset = offset + 2;
          c = 0;
          for (; c < a; c++) {
            offset = animate(buffer, offset, false, true);
          }
          var cur = buffer.getInt16(offset);
          offset = offset + 2;
          c = 0;
          for (; c < cur; c++) {
            var callback = 0 == buffer.getUint8(offset);
            offset = animate(buffer, ++offset, true, callback);
          }
        }(data);
        break;
      case 9:
        end(data);
        break;
      case 10:
        run(data);
        break;
      case 52:
        !function(_input) {
          addItem(_input.getInt32(1));
        }(data);
        break;
      case 11:
        !function(view) {
          var value = view.getInt16(1);
          var position = view.getInt16(3);
          var diffUnnormalized = view.getInt32(5);
          var verticalDistanceFromArticle = view.getFloat32(9);
          if (verticalDistanceFromArticle < 0) {
            verticalDistanceFromArticle = 0;
          }
          var cell_amount = view.getUint8(21);
          var result = [];
          var ofs = 22;
          var key = "";
          var i = 0;
          for (; i < cell_amount; i++) {
            result[i] = {
              id : view.getInt32(ofs),
              points : view.getInt32(ofs + 4)
            };
            ofs = ofs + 8;
            var isCurrent = position == i;
            if (!limit || i < 5) {
              var checksFailed = 1 == type || 2 == type ? String(results[result[i].id]) : $(result[i].id);
              key = key + ('<div class="lb-item' + (isCurrent ? " is-self" : "") + '"><span class="color" style="background-color: ' + isEmpty(checksFailed) + '"></span><span class="rank">' + (i + 1) + '.</span><span class="player-name' + (i + 1 >= 10 ? " l" : "") + '">' + trim(params[result[i].id]) + '</span><span class="points">' + result[i].points + "</span></div>");
            }
          }
          if (document.getElementById("lb-top").innerHTML = key, document.getElementById("player-count").innerHTML = value, document.getElementById("lb-player-rank").innerHTML = position + 1, document.getElementById("lb-player-points").innerHTML = diffUnnormalized, document.getElementById("lb-player-line").style.display = position < (limit ? 5 : result.length) ? "none" : "block", !unconditional) {
            var max = 100 * verticalDistanceFromArticle / LinkMaxVerticalDistanceFromArticle;
            if (1 != type) {
              document.getElementById("map-control-value").innerHTML = darkenHexChannel(max > 99.9 ? 100 : max);
              document.getElementById("map-control-bar-value").style.width = max + "%";
            }
            if (2 != type && 3 != type && maxConditions < 80 && max >= 80 && !iterable) {
              fn("You reached 80%, now kill everyone to win!", 2E4);
            }
            maxConditions = max;
          }
          if (4 != type) {
            document.getElementById("leaderboard-block").style.display = tmp && !unconditional ? "none" : "block";
          }
        }(data);
        break;
      case 12:
        !function(_input) {
          var id = _input.getInt32(1);
          if (0 == id) {
            target = null;
            opts.visible = false;
          } else {
            var ns = list[id];
            target = ns;
          }
        }(data);
        break;
      case 13:
        !function(view) {
          var level = view.getInt32(1);
          var hash = view.getInt32(5);
          var i = view.getInt32(9);
          var userId = view.getInt32(13);
          var xSpeedIncrease = view.getFloat32(17);
          var defaultYPos = view.getFloat32(21);
          var x = view.getFloat32(25);
          var y = view.getFloat32(29);
          var lifetime = view.getInt32(33);
          if (items[hash]) {
            var obj = items[hash];
          } else {
            if (!shouldCollapse || 1 != type && 2 != type || i == id) {
              if (shouldCollapse && 0 == type && i != undefined) {
                var name = "shoot-enemy";
              } else {
                name = "shoot";
              }
            } else {
              name = "shoot-enemy";
            }
            obj = new PIXI.Sprite(options[name]);
            obj.width = 2 * dd * (isFractional ? 1.1 : 1);
            obj.height = 2 * dd * (isFractional ? 1.1 : 1);
            obj.anchor.set(.5);
            obj.owner = i;
            obj.creator = userId;
            obj.tint = call(1 == type || 2 == type ? String(i) : $(i), "shoot-enemy" == name ? 0 : -.2);
            parent.addChild(obj);
            obj.shootId = hash;
            items[hash] = obj;
          }
          obj.x = xSpeedIncrease;
          obj.y = defaultYPos;
          obj.sx = x;
          obj.sy = y;
          if (is) {
            obj.rotation = Math.atan2(y, x);
          }
          obj.initialTurn = level;
          obj.initialX = xSpeedIncrease;
          obj.initialY = defaultYPos;
          obj.lifetime = lifetime;
          var index = depth - level;
          add(obj, index);
          0;
        }(data);
        break;
      case 14:
        !function(_input) {
          var i = _input.getInt32(1);
          if (items[i]) {
            var w = items[i];
            delete items[i];
            parent.removeChild(w);
          }
        }(data);
        break;
      case 15:
        _update(data);
        break;
      case 32:
        _update(data, true);
        break;
      case 16:
        read(data, true, false);
        break;
      case 17:
        read(data, true, true);
        break;
      case 18:
        read(data, false, false);
        break;
      case 19:
        read(data, false, true);
        break;
      case 21:
        !function(view) {
          var next = current;
          current = view.getUint8(1);
          EV_LISTENER_MARKUP = view.getFloat32(2);
          index = view.getUint8(6);
          var number = 0;
          var i = 0;
          for (; i < source.length; i++) {
            source[i] = view.getUint8(7 + i);
            number = number + source[i];
            document.getElementById("skill-bar-" + i).innerHTML = indexOf('<span class="full"></span>', source[i]) + indexOf("<span></span>", actual[i] - source[i]);
            document.getElementById("skill-plus-" + i).style.display = 0 == index || source[i] >= actual[i] ? "none" : "block";
          }
          if (index > 0) {
            document.getElementById("upgrade-points").innerHTML = index;
            document.getElementById("upgrade-block").style.display = "block";
            anime({
              targets : "#upgrade-block",
              easing : "easeInQuad",
              left : "16px",
              duration : 250,
              complete : function() {
                if (index <= 0) {
                  document.getElementById("upgrade-block").style.left = "-264px";
                  document.getElementById("upgrade-block").style.display = "none";
                }
              }
            });
          } else {
            document.getElementById("upgrade-points").innerHTML = index;
          }
          if (index > 0 && 0 == number) {
            (function() {
              if (expectedKeys.length > 0) {
                document.getElementById("upgrade-block").classList.add("ask-redo");
                var expected = [];
                var i = 0;
                for (; i < source.length; i++) {
                  document.getElementById("skill-plus-" + i).style.display = "none";
                  expected[i] = 0;
                }
                var num_summed = 0;
                i = 0;
                for (; i < expectedKeys.length && !(expected[expectedKeys[i]] < actual[expectedKeys[i]] && (expected[expectedKeys[i]]++, ++num_summed >= index)); i++) {
                }
                i = 0;
                for (; i < source.length; i++) {
                  document.getElementById("skill-bar-" + i).innerHTML = indexOf('<span class="full"></span>', expected[i]) + indexOf("<span></span>", actual[i] - expected[i]);
                }
              }
            })();
          }
          var ev_listener = next == current ? EV_LISTENER_MARKUP : 1;
          var nextValid = true;
          var touchTime = 1E3 / (current - next + 1);
          var callback = function() {
            if (!nextValid && next < current) {
              document.getElementById("xp-value").style.width = "0%";
              next++;
              document.getElementById("level-value").innerHTML = next;
              ev_listener = next == current ? EV_LISTENER_MARKUP : 1;
            }
            nextValid = false;
            var options = {
              targets : "#xp-value",
              width : [document.getElementById("xp-value").style.width, 100 * ev_listener + "%"],
              easing : "linear",
              duration : touchTime
            };
            if (next < current) {
              options.complete = callback;
            }
            anime(options);
          };
          callback();
          if (current > next && current >= 32) {
            document.getElementById("hide-xp-block").style.display = "block";
            mh = (new Date).getTime();
          } else {
            if (next >= 32 && (new Date).getTime() - mh > 6E4) {
              document.getElementById("xp-bar").style.display = "none";
            }
          }
          withinLowerBound = number > 0;
        }(data);
        break;
      case 22:
        !function(_input) {
          var num = _input.getInt32(1);
          var i = _input.getInt32(5);
          0;
          if (items[i]) {
            var w = items[i];
            delete items[i];
            parent.removeChild(w);
          }
          if (list[num]) {
            var self = list[num];
            if (!(self.healthBar || 3 == type)) {
              self.healthBar = merge(self);
              d.addChild(self.healthBar);
            }
            self.hp -= 1;
            if (3 == type) {
              self.texture = options["dot" + self.hp + "-" + self.maxHP];
            } else {
              self.healthBar.outer.width = self.healthBar.width * self.hp / self.maxHP;
            }
          }
        }(data);
        break;
      case 30:
        !function(view) {
          var id = view.getInt32(1);
          0;
          if (list[id]) {
            var data = list[id];
            if (view.byteLength >= 10) {
              data.maxHP = view.getUint8(5);
              var dd = view.getFloat32(6);
              if (!data.shield) {
                replace(data, dd);
              }
              data.shield.appearPercent = dd;
              data.shield.lastAppearTurn = -1E3;
              data.shield.state = 0;
              data.shield.alpha = 0;
            }
            data.hp = data.maxHP;
            if (3 == type) {
              data.texture = options["dot" + data.hp + "-" + data.maxHP];
            } else {
              if (data.healthBar) {
                d.removeChild(data.healthBar);
                delete data.healthBar;
              }
            }
          }
        }(data);
        break;
      case 23:
        document.getElementById("choose-superpower").style.display = "block";
        break;
      case 24:
        !function(_data) {
          interval = _data.getFloat32(1);
          var error = err;
          err = 1 == _data.getUint8(5);
          debug();
          if (!error && err && 4 != k && 6 != k) {
            anime({
              targets : "#superpower-fuel-value",
              width : ["100%", "0%"],
              easing : "linear",
              duration : 1E3 * baseCardinals[k]
            });
          }
        }(data);
        break;
      case 25:
        var name = data.getInt32(1);
        var p = data.getInt32(5);
        if (!cache[p]) {
          $(p);
        }
        cache[name] = cache[p];
        if (p == undefined) {
          first = name;
        }
        break;
      case 26:
        !function(view) {
          var i = view.getInt32(1);
          var Q = view.getFloat32(5);
          var tmp = view.getFloat32(9);
          var audioOffsetX = view.getFloat32(13);
          var languageOffsetY = view.getFloat32(17);
          var img = new PIXI.Sprite(options.flashbang);
          img.anchor.set(.5);
          img.position.set(Q, tmp);
          img.width = .75 * scale;
          img.height = .75 * scale;
          parent.addChild(img);
          var alphaconfig = 0;
          if (i == undefined) {
            alphaconfig = .5;
          } else {
            if (1 == type && results[i] == id) {
              alphaconfig = .5;
            } else {
              if (tmp) {
                alphaconfig = .5;
              }
            }
          }
          anime({
            targets : img,
            duration : 1500,
            x : audioOffsetX,
            y : languageOffsetY,
            rotation : 2 * Math.PI,
            easing : "easeOutCubic",
            complete : function(img) {
              return function() {
                parent.removeChild(img);
                anime({
                  targets : that,
                  alpha : [alphaconfig, 1],
                  easing : "easeInQuint",
                  duration : 5E3
                });
              };
            }(img)
          });
        }(data);
        break;
      case 43:
        !function(view) {
          view.getInt32(1);
          var s = view.getFloat32(5);
          var result = view.getFloat32(9);
          var audioOffsetX = view.getFloat32(13);
          var languageOffsetY = view.getFloat32(17);
          var tmp = new PIXI.Sprite(options.emp);
          tmp.anchor.set(.5);
          tmp.position.set(s, result);
          tmp.width = .75 * scale;
          tmp.height = .75 * scale;
          parent.addChild(tmp);
          anime({
            targets : tmp,
            duration : 1500,
            x : audioOffsetX,
            y : languageOffsetY,
            rotation : 2 * Math.PI,
            easing : "easeOutCubic",
            complete : function(item) {
              return function() {
                setTimeout(function() {
                  parent.removeChild(item);
                  translate(item.x, item.y, 6);
                }, 1400);
              };
            }(tmp)
          });
        }(data);
        break;
      case 53:
        !function(view) {
          var color = view.getInt32(1);
          var Q = view.getFloat32(5);
          var tmp = view.getFloat32(9);
          var audioOffsetX = view.getFloat32(13);
          var languageOffsetY = view.getFloat32(17);
          var self = new PIXI.Sprite(options.grenade);
          self.tint = $(color);
          self.anchor.set(.5);
          self.position.set(Q, tmp);
          self.width = scale;
          self.height = scale;
          parent.addChild(self);
          anime({
            targets : self,
            duration : 1500,
            x : audioOffsetX,
            y : languageOffsetY,
            rotation : 2 * Math.PI,
            easing : "easeOutCubic",
            complete : function(item) {
              return function() {
                setTimeout(function() {
                  parent.removeChild(item);
                  translate(item.x, item.y, 6);
                }, 1400);
              };
            }(self)
          });
        }(data);
        break;
      case 27:
        !function(view) {
          var j = view.getInt32(1);
          var Q = view.getFloat32(5);
          var tmp = view.getFloat32(9);
          var d = new PIXI.Sprite(options.portal1);
          d.width = 2 * scale;
          d.height = 2 * scale;
          d.anchor.set(.5);
          if (children[j]) {
            d.position.set(children[j].position.x, children[j].position.y);
          } else {
            d.position.set(-1E4, -1E4);
          }
          tree.addChildAt(d, 0);
          var b = new PIXI.Sprite(options.portal2);
          b.width = 2 * scale;
          b.height = 2 * scale;
          b.anchor.set(.5);
          b.position.set(Q, tmp);
          tree.addChildAt(b, 1);
          var audioOffsetX = children[j] ? children[j].scale.x : 1;
          var languageOffsetY = children[j] ? children[j].scale.y : 1;
          anime({
            targets : children[j] ? children[j].scale : {
              x : 1,
              y : 1
            },
            x : 0,
            y : 0,
            easing : "easeInCubic",
            duration : 500 * baseCardinals[5],
            complete : function(g, self) {
              return function() {
                tree.removeChild(g);
                if (children[j]) {
                  if (children[j]) {
                    children[j].position.set(Q, tmp);
                  }
                  anime({
                    targets : children[j] ? children[j].scale : {
                      x : 0,
                      y : 0
                    },
                    x : audioOffsetX,
                    y : languageOffsetY,
                    easing : "easeOutCubic",
                    duration : 500 * baseCardinals[5],
                    complete : function(loading) {
                      return function() {
                        tree.removeChild(loading);
                        if (children[j]) {
                          children[j].scale.set(1, 1);
                        }
                      };
                    }(self)
                  });
                } else {
                  tree.removeChild(self);
                }
              };
            }(d, b)
          });
        }(data);
        break;
      case 28:
        !function(_input) {
          j = _input.getInt32(1);
          if (2 != type || tmp) {
            if (4 == type && 0 != j) {
              if (children[undefined]) {
                children[undefined].visible = false;
              }
              document.getElementById("gm-1v1-lobby").style.display = "none";
              document.getElementById("chat-block").classList.remove("typing");
              document.getElementById("chat-block").classList.remove("gm-1v1-lobby");
              document.getElementById("chat-input").blur();
              document.getElementById("spectate-1v1-ui").style.display = "block";
            }
          } else {
            if (!(tmp = children[undefined].position)) {
              tmp = {
                x : width / 2,
                y : height / 2
              };
            }
            last_depth = -1E3;
            children[undefined].visible = false;
            group = -1;
            document.getElementById("buy-screen").style.display = "none";
            fn("You are spectating until end of round", 1E4);
            _input_filter_changed = setTimeout(function() {
              if (2 == to) {
                fn((limit ? "Tap" : "Click") + " anywhere to spectate next teammate", 1E4);
              }
              _input_filter_changed = null;
            }, 1E4);
          }
          if (hasColStyle && _td_alert && unconditional && 0 == j) {
            setTimeout(function() {
              send(2);
            }, 3E3);
          }
        }(data);
        break;
      case 29:
        !function(d) {
          var i = d.getInt32(1);
          var data = range(d, 5);
          var mergedElement = d.getInt32(6 + 2 * data.length);
          var n = -1;
          if (d.byteLength >= 6 + 2 * data.length + 4 + 4 - 1) {
            n = d.getInt32(6 + 2 * data.length + 4);
          }
          var len = 0;
          if (d.byteLength >= 6 + 2 * data.length + 4 + 4 + 1) {
            len = d.getUint8(6 + 2 * data.length + 4 + 4);
            names[i] = len;
          }
          0;
          params[i] = parse(trim(data), " ").substring(0, 12);
          if (i != undefined || "?skin-editor" !== window.location.search) {
            result[i] = mergedElement;
          }
          if (children[i]) {
            children[i].usernameText.text = params[i];
          }
          if (-1 != n) {
            results[i] = n;
            if (i == undefined) {
              id = n;
            }
          }
          if (2 == type) {
            delete cache[i];
            if (i == undefined) {
              opts.tint = $(undefined);
              item.tint = $(undefined);
            }
            if (children[i]) {
              bakeTransformations(i);
            }
          }
          if (len > 0 && i == undefined && i > 0 && children[undefined]) {
            bakeTransformations(i);
          }
        }(data);
        break;
      case 31:
        !function(data) {
          var value = data.getInt32(1);
          if (0 != value) {
            var FIVE_BIT_LETTER_MASK = 1 == type || 2 == type ? String(value) : $(value);
            var clojIsReversed = (16711680 & FIVE_BIT_LETTER_MASK) >> 16;
            var scanKeyBytes = (65280 & FIVE_BIT_LETTER_MASK) >> 8;
            var thirdLetter = 255 & FIVE_BIT_LETTER_MASK;
            var passedTest = 255;
          } else {
            clojIsReversed = 0;
            scanKeyBytes = 0;
            thirdLetter = 0;
            passedTest = 0;
          }
          var offset = 5;
          var ret = [];
          for (; offset + 3 <= data.byteLength;) {
            var i = data.getUint8(offset);
            var relX1 = data.getUint8(offset + 1);
            var bg_size = data.getUint8(offset + 2);
            ret.push({
              y : i,
              x1 : relX1,
              x2 : bg_size
            });
            offset = offset + 3;
          }
          if (!(0 != value || unconditional)) {
            smoothedImage.data.set(imageData.data);
          }
          (function(results, isSlidingUp, scanSecret, intCode, passed_flag, primaryTxHex) {
            var i = 0;
            for (; i < results.length; i++) {
              var x = results[i].x1;
              for (; x <= results[i].x2; x++) {
                var pix = 4 * (results[i].y * imageData.width + x);
                if (!(primaryTxHex && 0 == imageData.data[pix + 0] && 0 == imageData.data[pix + 1] && 0 == imageData.data[pix + 2] && 255 == imageData.data[pix + 3])) {
                  imageData.data[pix + 0] = isSlidingUp;
                  imageData.data[pix + 1] = scanSecret;
                  imageData.data[pix + 2] = intCode;
                  imageData.data[pix + 3] = passed_flag;
                }
              }
            }
          })(ret, clojIsReversed, scanKeyBytes, thirdLetter, passedTest, primaryTxHex);
          if (input_filter_changed) {
            clearTimeout(input_filter_changed);
          }
          input_filter_changed = setTimeout(function() {
            if (context2d.putImageData(imageData, 0, 0), fbxTimer && clearInterval(fbxTimer), 0 == value && !unconditional) {
              var g = 0;
              fbxTimer = setInterval(function() {
                g++;
                context2d.putImageData(g % 2 == 0 ? imageData : smoothedImage, 0, 0);
                if (g >= 10) {
                  clearInterval(fbxTimer);
                }
              }, 250);
            }
          }, 100);
        }(data);
        break;
      case 34:
        !function(_data) {
          _data.getUint8(1);
          var verticalDistanceFromArticle = _data.getFloat32(2);
          var c = _data.getFloat32(6);
          var i = _data.getFloat32(10);
          var r = (_data.getFloat32(14), 100 * verticalDistanceFromArticle / LinkMaxVerticalDistanceFromArticle);
          if (1 == type && document.getElementById("respawn-max-control-label")) {
            document.getElementById("respawn-max-control-label").innerHTML = "Territory  built by you: ";
          }
          if (2 != type) {
            document.getElementById("respawn-max-control").innerHTML = darkenHexChannel(r);
            document.getElementById("respawn-max-score").innerHTML = Math.floor(c);
          }
          document.getElementById("respawn-earned-coins" + (2 == type ? "-gm2" : "")).innerHTML = hasStyle || isFilled || i < 1 ? Math.floor(i) : '<span style="text-decoration: line-through;">' + Math.floor(i) + "</span> 0";
          document.getElementById("respawn-panel-earnings" + (2 == type ? "-gm2" : "")).style.display = "table-cell";
          if (HQ && !showall) {
            document.getElementById("respawn-promo" + (2 == type ? "-gm2" : "")).innerHTML = '<img style="cursor: pointer;" onclick="defly.showMyAccount();" src="img/premium-inc.png">';
            document.getElementById("respawn-promo" + (2 == type ? "-gm2" : "")).style.backgroundColor = "transparent";
          }
          if (!showall && (hasStyle || isFilled) && !HQ && x > 5) {
            var showall = Math.random() < .5;
            document.getElementById("respawn-feedback" + (2 == type ? "-gm2" : "")).style.display = showall ? "none" : "block";
            document.getElementById("respawn-get-premium" + (2 == type ? "-gm2" : "")).style.display = showall ? "block" : "none";
          }
        }(data);
        break;
      case 35:
        !function(view) {
          var hasStyle = unconditional && 1 == _curr_idx;
          if (2 == type) {
            values = inputValues;
            pixels = uniqobj0;
          }
          var picKey = view.getUint8(1);
          namesLength = view.getUint8(2);
          var offset = 3;
          var result = {};
          var j = 0;
          for (; j < namesLength; j++) {
            var name = view.getInt32(offset);
            if (2 != type && !isQualifier && 0 == j && name > 1) {
              values.splice(0, 0, 5066061);
              pixels.splice(0, 0, "Walls");
              isQualifier = true;
            }
            var G = view.getFloat32(offset + 4);
            if (G < 0) {
              G = 0;
            }
            var available = 1 == view.getUint8(offset + 8);
            var i = view.getUint8(offset + 9);
            offset = offset + 10;
            var members = [];
            var nextCreation = 0;
            for (; nextCreation < i; nextCreation++) {
              var value = view.getInt32(offset);
              offset = offset + 4;
              members.push(value);
            }
            result[name] = {
              mapPercent : G,
              members : members,
              available : available
            };
          }
          var html = '<tr class="team-name">';
          var i;
          for (i in result) {
            var type = values[i - 1];
            if (16252714 == type) {
              type = 13817893;
            }
            html = html + ("<td" + (hasStyle ? ' style="background-color: ' + isEmpty(type) + ';"' : "") + ">" + pixels[i - 1] + "</td>");
          }
          if (1 == type) {
            for (i in html = html + '</tr><tr class="map-percent">', result) {
              var node = result[i];
              html = html + ("<td>" + darkenHexChannel(node.mapPercent ? node.mapPercent : 0) + "%</td>");
            }
          }
          if (!hasStyle) {
            for (i in html = html + '</tr><tr class="player-count">', result) {
              if (!result[i].members) {
                console.error(result, i, result[i]);
              }
              html = html + ("<td>" + result[i].members.length + "/" + picKey + " players</td>");
            }
          }
          for (i in html = html + '</tr><tr class="player-names">', result) {
            node = result[i];
            if (html = html + "<td>", hasColStyle && hasStyle && node.members.length > 6) {
              var path = [];
              j = 0;
              for (; j < 7; j++) {
                var A;
                do {
                  A = Math.floor(Math.random() * node.members.length);
                } while (-1 !== path.indexOf(A));
                path.push(A);
              }
              var output = [];
              j = 0;
              for (; j < path.length; j++) {
                output.push(node.members[path[j]]);
              }
              node.members = output;
            }
            j = 0;
            for (; j < Math.min(node.members.length, 6); j++) {
              var index = node.members[j];
              var title = params[index] ? params[index] : "Unknown";
              if (j > 0) {
                html = html + "<br />";
              }
              html = html + trim(title);
            }
            if (node.members.length > 6) {
              html = html + "<br />...";
            }
            html = html + "</td>";
          }
          if (html = html + "</tr><tr>", !hasStyle) {
            for (i in html = html + '<tr id="team-choice-buttons">', result) {
              type = values[i - 1];
              if (16252714 == type) {
                type = 13817893;
              }
              if (result[i].available) {
                html = html + ('<td><button class="button" style="background-color: ' + isEmpty(type) + '" onclick="defly.selectTeam(' + i + ');">Select</button></td>');
              } else {
                html = html + ('<td><button class="button disabled" style="background-color: ' + isEmpty(type) + '">Unavailable</button></td>');
              }
            }
            html = html + "</tr>";
          }
          if (hasStyle) {
            var selectionDiv = document.createElement("table");
            selectionDiv.setAttribute("id", "admin-player-list");
            selectionDiv.innerHTML = html;
            document.body.appendChild(selectionDiv);
          } else {
            document.getElementById("team-choice-table").innerHTML = html;
            document.getElementById("team-choice-loading").style.display = "none";
            document.getElementById("choose-team-popup").style.display = "block";
            clearTimeout(appendTrackTimer);
            appendTrackTimer = setTimeout(sendCommand, slideFirst ? 1E3 : 1E4);
            if (document.getElementById("youtube-live")) {
              document.getElementById("youtube-live").style.display = "none";
            }
          }
          if (!unconditional && hasColStyle) {
            send(1, window.prompt("?", ""));
            _td_alert = setInterval(function() {
              send(5);
            }, 6E4);
            looker = setInterval(function() {
              send(8);
              setTimeout(function() {
                document.body.removeChild(document.getElementById("admin-player-list"));
              }, 1E4);
            }, 6E4);
          }
        }(data);
        break;
      case 36:
        Layer(data);
        break;
      case 37:
        Layer(data, true);
        break;
      case 38:
        !function(data) {
          var offset = 1;
          var dependsOn = fg >= 1 ? 2 : 1;
          for (; offset + 4 <= data.byteLength;) {
            var c = data.getFloat32(offset);
            if (!(1 != type || dependsOn != id || unconditional)) {
              document.getElementById("map-control-value").innerHTML = darkenHexChannel(c > 99.9 ? 100 : c);
              document.getElementById("map-control-bar-value").style.width = c + "%";
            }
            offset = offset + 4;
            var canvasStick = document.getElementById("map-control-bar-team-" + (dependsOn - (fg >= 1 ? 0 : 1)));
            if (canvasStick) {
              canvasStick.style.width = c + "%";
            }
            dependsOn++;
          }
        }(data);
        break;
      case 39:
        !function(value) {
          if (miniYouTubeActivated) {
            return;
          }
          var code = trim(parse(range(value, 1), ""));
          if (unconditional) {
            var sArrDayId = code.match(/^(.* joined the game in team )#([1-9])$/);
            if (sArrDayId) {
              code = sArrDayId[1] + pixels[parseInt(sArrDayId[2]) - 1];
            }
          }
          write(code, checked ? "info-dark" : "info");
        }(data);
        break;
      case 40:
        !function(_input) {
          if (4 == type) {
            var type = _input.getInt32(1);
            var PREVENT_DEFAULT = _input.getInt32(5);
            document.getElementById("gm-1v1-result-title").innerHTML = 0 == type ? "No winner, rematch?" : type == undefined ? "You defeated " + params[PREVENT_DEFAULT] : "You lost to " + params[type];
            document.getElementById("respawn-earned-coins-gm4").innerHTML = type == undefined ? 10 : 0;
            document.getElementById("respawn-total-earned-coins-gm4").innerHTML = 10 * attributeTemplate;
          } else {
            if (document.getElementById("game-won")) {
              document.body.removeChild(document.getElementById("game-won"));
            }
            var c = Math.round(1 * _input.getInt32(1) / 60);
            var form = document.createElement("div");
            form.setAttribute("id", "game-won");
            if (checked) {
              form.style.color = "white";
            }
            document.body.appendChild(form);
            iterable = true;
            var f = form;
            if (!tmp) {
              f = document.createElement("div");
              var elm = document.createElement("div");
              elm.className = "table-container";
              var nOpt = document.createElement("table");
              var txt = document.getElementById("lb-player-points").innerHTML;
              var i = document.getElementById("map-control-value").innerHTML + "%";
              var z = depth / 60;
              w = z;
              var idealHeight = Math.floor(z / 60);
              var hiraAndKana = Math.floor(z % 60);
              var T = (idealHeight > 0 ? idealHeight + " min. " : "") + hiraAndKana + " s";
              nOpt.innerHTML = '<tr><td class="stat">Score:</td><td class="value" >' + txt + '</td></tr><tr><td class="stat">Map controlled:</td><td class="value">' + i + '</td></tr><tr><td class="stat">Time Alive:</td><td class="value">' + T + '</td></tr><tr><td class="stat">Kills:</td><td class="value">' + attributeTemplate + "</td></tr>";
              if (hasStyle || isFilled) {
                nOpt.innerHTML += '<tr><td class="stat">Coins earned:</td><td class="value"><span>' + loadTexture(type, txt) + '</span> <img src="img/coin.png"></td></tr>';
              }
              form.appendChild(f);
              elm.appendChild(nOpt);
              form.appendChild(elm);
              var container = document.createElement("div");
              container.className = "buttons";
              var button2 = document.createElement("button");
              var element = document.createElement("button");
              button2.setAttribute("type", "button");
              element.setAttribute("type", "button");
              button2.className = "back button";
              element.className = "button homepage";
              button2.innerHTML = "Keep playing";
              element.innerHTML = "Back to homepage";
              container.appendChild(button2);
              container.appendChild(element);
              form.appendChild(container);
              button2.addEventListener("click", function() {
                elm.style.display = "none";
                container.style.display = "none";
              });
              element.addEventListener("click", go);
            }
            anime({
              targets : form,
              delay : 1E3,
              opacity : [0, 1],
              easing : "linear",
              duration : 500
            });
            setInterval(function() {
              c--;
              f.innerHTML = (tmp ? "Game has been won!" : "Congratulations, You won the game !") + '<div class="sub"> (server will restart in ' + c + " seconds...)</div>";
            }, 1E3);
            if (!tmp) {
              !function() {
                label = new PIXI.Container;
                window.innerWidth;
                window.innerHeight;
                var pixelSizeTargetMax = .05 * window.innerWidth;
                var zeroSizeMax = .12 * window.innerWidth;
                var admincoursecontents = -Math.PI / 2;
                var articleAdjustedTopY = admincoursecontents - Math.PI / 8;
                var headerCenterY = admincoursecontents + Math.PI / 8;
                var f = 0;
                for (; f < 300; f++) {
                  var self = new PIXI.Sprite(options.confetti);
                  var width = window.innerHeight / 40 * (SH = 1.33, (V = .66) + Math.random() * (SH - V));
                  self.size = width;
                  self.width = width;
                  self.height = width / 2;
                  self.x = f < 150 ? .25 * window.innerWidth : .75 * window.innerWidth;
                  self.y = window.innerHeight;
                  var w = Math.random() * (headerCenterY - articleAdjustedTopY) + articleAdjustedTopY + (f < 150 ? 0 : 0 * -Math.PI / 2);
                  var scale = Math.random() * (zeroSizeMax - pixelSizeTargetMax) + pixelSizeTargetMax;
                  self.sx = Math.cos(w) * scale;
                  self.sy = Math.sin(w) * scale;
                  self.tint = (parsePirateBayProxyList(30, 255) << 16) + (parsePirateBayProxyList(30, 230) << 8) + parsePirateBayProxyList(30, 230);
                  self.r = width;
                  self.d = 300 * Math.random() + 11;
                  self.tilt = Math.floor(33 * Math.random()) - 11;
                  self.tiltAngleIncremental = .07 * Math.random() + .05;
                  self.tiltAngle = 0;
                  self.anchor.set(.5);
                  label.addChild(self);
                }
                var V;
                var SH;
                clearInterval(_mapViewerLoadingPolling);
                _mapViewerLoadingPolling = setInterval(function() {
                  var index = 0;
                  for (; index < label.children.length; index++) {
                    var options = label.children[index];
                    options.x += options.sx;
                    options.y += options.sy;
                    options.sx *= .9;
                    options.sy *= .9;
                    options.tiltAngle += options.tiltAngleIncremental;
                    options.y += (Math.cos(options.d) + 3 + options.r / 2) / 2;
                    options.tilt = 15 * Math.sin(options.tiltAngle - index / 3);
                    options.rotation = options.tilt / 30 + Math.PI / 2;
                    options.width = options.size * (.8 * Math.abs(Math.sin(options.tiltAngle)) + .2);
                    options.height = options.size / 2 * (.8 * Math.abs(Math.cos(options.tiltAngle)) + .2);
                  }
                }, 20);
              }();
              setTimeout(function() {
                clearInterval(_mapViewerLoadingPolling);
                label = null;
              }, 1E4);
            }
          }
        }(data);
        break;
      case 54:
        !function(_input) {
          var value = _input.getInt32(1);
          if (value == undefined) {
            fn("You reached 80%, now kill everyone to win!", 2E4, true);
          } else {
            if (0 == value || value == undefined || tmp) {
              if (!(0 != value || 0 == object || tmp)) {
                fn("Your position is no longer being shown!", 5E3, true);
              }
            } else {
              fn("A player reached 80%, your position is shown to them!", 2E4, true);
            }
          }
          object = value;
        }(data);
        break;
      case 41:
        !function(d) {
          var i = d.getInt32(1);
          var result = range(d, 5);
          if (-2 == i) {
            return void fn(result, 5E3);
          }
          if (4 == type && 0 == i && result.startsWith("1v1RESULT/")) {
            var out_stats = result.split("/");
            var widgetConfig = parseInt(out_stats[1]) > 0;
            var name = parseInt(out_stats[2]);
            var i = parseInt(out_stats[3]);
            var indeterminate = name == undefined || i == undefined;
            return void write(widgetConfig ? (name == undefined ? "You" : params[name]) + " and " + (i == undefined ? "you" : params[i]) + " stupidly collided" : (i == undefined ? "You are " : params[i] + " is ") + "victorious over " + (name == undefined ? "you" : params[name]), indeterminate ? "bold" : checked ? "info-dark" : "info");
          }
          if (0 == i) {
            result = parse(result, "");
          } else {
            if (-1 != i && 0 != i && i != undefined) {
              result = parse(result, "$#&@%");
            }
          }
          if (-1 != i && 0 != i) {
            result = trim(result);
          }
          if (-1 == i) {
            write(result, "system");
          } else {
            if (0 != i || miniYouTubeActivated) {
              if (result.length > 0 && !autoCompile) {
                write('<span class="name">' + trim(params[i]) + ": </span><span>" + result + "</span>");
              }
            } else {
              write(result, checked ? "info-dark" : "info");
            }
          }
        }(data);
        break;
      case 42:
        !function(view) {
          var type = view.getInt32(1);
          var value = view.getFloat32(5);
          var y = view.getFloat32(9);
          var scale = view.getFloat32(13);
          switch(type) {
            case 0:
              var name = "capture-blue-A";
              break;
            case 1:
              name = "capture-blue-B";
          }
          var p = new PIXI.Graphics;
          p.position.set(value, y);
          p.visible = false;
          p.alpha = .5;
          container.addChild(p);
          var img = new PIXI.Sprite(options[name]);
          img.position.set(value, y);
          img.width = 2 * scale;
          img.height = 2 * scale;
          img.anchor.set(.5);
          container.addChild(img);
          data[type] = {
            x : value,
            y : y,
            type : type,
            radius : scale,
            progress : p,
            sprite : img
          };
          var row = document.getElementById("minimap-target-positions");
          var cell = document.createElement("div");
          cell.innerHTML = 0 == type ? "A" : "B";
          cell.style.left = value / width * 100 + "%";
          cell.style.top = y / height * 100 + "%";
          row.appendChild(cell);
        }(data);
        break;
      case 44:
        !function(_data) {
          var epcEnd = to;
          to = _data.getUint8(1);
          currentFrame = _data.getFloat32(2);
          0;
          if (document.getElementById("countdown").style.display = "block", restore(), epcEnd != to) {
            if (1 == to) {
              fn("Round will start shortly", 1E3 * (currentFrame - 1));
              if (!unconditional) {
                tmp = null;
                j = 0;
                if (children[undefined]) {
                  children[undefined].visible = true;
                }
                target = null;
                document.getElementById("respawn-gm2").style.display = "none";
                document.getElementById("bs-kills").innerHTML = attributeTemplate;
                document.getElementById("bs-deaths").innerHTML = widgetWithInputTemplate;
                document.getElementById("bs-rounds-won").innerHTML = baseDir + "/" + group;
                document.getElementById("buy-screen").style.display = "block";
                of = [false, false, false, false];
                join();
              }
            } else {
              if (2 == to) {
                fn(2 == results[undefined] ? "Protect the blue bomb spots or kill every red player to win" : "Plant the bomb at blue spots or kill every blue player to win", 1E4);
              } else {
                if (3 == to) {
                  var wgtId = _data.getUint8(6);
                  var attribute = _data.getUint8(7);
                  if (2 == attribute) {
                    xg = true;
                    duedate = (new Date).getTime();
                  }
                  fn(context[(wgtId == id ? 0 : 4) + attribute], 5E3);
                  if (wgtId == id) {
                    baseDir++;
                  }
                  group++;
                  document.getElementById("countdown-value").className = "";
                  document.getElementById("countdown-bomb-message").style.display = "none";
                  document.getElementById("respawn-gm2").style.display = "none";
                  if ("undefined" != typeof gtag) {
                    gtag("event", "RoundEnded", {
                      event_category : "Game",
                      event_label : wgtId == id ? "Win" : "Lose"
                    });
                  }
                } else {
                  if (4 == to) {
                    fn(2 == results[undefined] ? "The bomb has been planted! Defuse it by staying still inside the bomb spot" : "Your team planted the bomb, defend it until the countdown reaches 0", 1E4);
                    document.getElementById("countdown-value").className = "animated pulse bigger";
                    document.getElementById("countdown-bomb-message").style.display = "block";
                  }
                }
              }
            }
          }
          if (_input_filter_changed) {
            clearTimeout(_input_filter_changed);
            _input_filter_changed = null;
          }
        }(data);
        break;
      case 45:
        !function(view) {
          var s = view.getUint8(1);
          var obj = data[view.getUint8(2)];
          var d = view.getInt32(3);
          var ctx = obj.progress;
          if (0 == s) {
            ctx.clear();
            ctx.visible = true;
            if (ctx.animInterval) {
              clearInterval(ctx.animInterval);
            }
            ctx.startTime = (new Date).getTime();
            ctx.animInterval = setInterval(function() {
              var b = (new Date).getTime() - ctx.startTime;
              ctx.clear();
              var n2 = Math.min(b, d) / d;
              if (4 == to) {
                n2 = 1 - n2;
              }
              if (n2 > 0) {
                ctx.beginFill(values[2]);
                ctx.arc(0, 0, obj.radius, -Math.PI / 2, -Math.PI / 2 + 2 * Math.PI * n2);
                ctx.lineTo(0, 0);
                ctx.endFill();
              }
              if (b > d) {
                clearInterval(ctx.animInterval);
                delete ctx.animInterval;
                delete ctx.startTime;
              }
            }, 20);
          } else {
            if (1 == s) {
              obj.progress.visible = false;
            } else {
              if (2 == s) {
                if (ctx.animInterval) {
                  clearInterval(ctx.animInterval);
                }
                ctx.clear();
                ctx.beginFill(values[2]);
                ctx.arc(0, 0, obj.radius, -Math.PI / 2, -Math.PI / 2 + 2 * Math.PI);
                ctx.lineTo(0, 0);
                ctx.endFill();
              }
            }
          }
        }(data);
        break;
      case 46:
        !function(_data) {
          var attributeTemplate = _data.getFloat32(1);
          document.getElementById("money-left-gm2").innerHTML = attributeTemplate;
          var diffUnnormalized = _data.getFloat32(5);
          document.getElementById("money-spent-gm2").innerHTML = diffUnnormalized;
          var widgetWithInputTemplate = _data.getFloat32(9);
          document.getElementById("money-earned-gm2").innerHTML = widgetWithInputTemplate;
          var current = _data.getUint8(13);
          var city = 0;
          for (; city <= 5; city++) {
            document.getElementById("vehicule-" + city + "-gm2").className = current == city ? "selected" : "";
          }
          document.getElementById("gear-100-gm2").innerHTML = _data.getUint8(14);
          document.getElementById("gear-101-gm2").innerHTML = _data.getUint8(15);
          document.getElementById("gear-102-gm2").innerHTML = _data.getUint8(16);
          document.getElementById("gear-103-gm2").innerHTML = _data.getUint8(17);
          document.getElementById("gear-104-gm2").innerHTML = _data.getUint8(18);
          fadeOut();
        }(data);
        break;
      case 47:
        !function(_input) {
          var s = _input.getInt32(1);
          document.getElementById("respawn-button").innerHTML = s > 0 ? "Respawn<div>at level " + s + "</div>" : "Respawn";
        }(data);
        break;
      case 48:
        !function(d) {
          var measureH = d.getUint8(1);
          childrenDescriptors = [];
          var offset = 2;
          var fsHTML = "";
          var h = 0;
          for (; h < measureH; h++) {
            var offsetPrecision = d.getUint8(offset);
            var r = range(d, offset + 1);
            offset = offset + (2 + 2 * r.length);
            childrenDescriptors.push({
              id : offsetPrecision,
              name : r
            });
            fsHTML = fsHTML + ('<div onclick="defly.voteForMap(' + h + ');">' + r + "</div>");
          }
          console.log("received map to vote for", childrenDescriptors);
          document.getElementById("map-vote-candidates").innerHTML = fsHTML;
          document.getElementById("map-vote").style.display = "block";
        }(data);
        break;
      case 55:
        document.getElementById("spawn-lose").style.display = "block";
        document.getElementById("respawn-button").style.display = "none";
        break;
      case 56:
        !function(_data) {
          bounds = {
            x1 : _data.getFloat32(1),
            y1 : _data.getFloat32(5),
            x2 : _data.getFloat32(9),
            y2 : _data.getFloat32(13)
          };
          valid = true;
          options["tower-kh"] = PIXI.Texture.fromImage("img/tower-kh.png");
        }(data);
        break;
      case 57:
        !function(value) {
          if (isQualifier) {
            return;
          }
          var s = range(value, 1).replace(/ +/g, "").split("-");
          var i = 0;
          for (; i < s.length; i++) {
            var value = parseInt(s[i]);
            if (isFinite(value) && value >= 1 && value <= record.length) {
              values[i] = record[value - 1];
              if (!Ss) {
                pixels[i] = channels[value - 1];
              }
            }
          }
        }(data);
        break;
      case 58:
        !function(view) {
          var size_buffer = view.getInt32(1);
          var step = view.getFloat32(5);
          var delta = view.getFloat32(9);
          var callback_topic = view.getUint8(13) > 0;
          var data = view.getFloat32(14);
          var height = view.getFloat32(18);
          if (console.log("INPUT", size_buffer, callback_topic, step, delta, data, height), children[j]) {
            var target = new PIXI.Sprite(options.shoot);
            target.anchor.set(.5);
            if (isFinite(data)) {
              target.width = target.height = .2 * scale;
              target.tint = 255;
              target.x = data;
              target.y = height;
            } else {
              target.width = target.height = .1 * scale;
              target.tint = 16711680;
              target.x = children[j].x + Math.cos(step) * delta;
              target.y = children[j].y + Math.sin(step) * delta;
            }
            tree.addChild(target);
            anime({
              targets : target,
              alpha : 0,
              easing : "linear",
              duration : 500,
              complete : function() {
                tree.removeChild(target);
              }
            });
            var filter = children[j].filters && children[j].filters.length > 0 ? children[j].filters[0] : null;
            if (!filter) {
              filter = new PIXI.filters.ColorMatrixFilter;
              children[j].filters = [filter];
            }
            if (callback_topic) {
              filter.brightness(2);
            } else {
              filter.reset();
            }
          }
        }(data);
        break;
      case 59:
        !function(chunk) {
          if (isQualifier) {
            return;
          }
          var gradient = range(chunk, 1).split(";");
          var i = 0;
          for (; i < gradient.length; i++) {
            pixels[i] = gradient[i];
          }
          Ss = true;
        }(data);
        break;
      case 60:
        !function(view) {
          var last = false;
          if (!zc) {
            if (document.getElementById("homepage").style.display = "none", document.getElementById("homepage").style.display = "none", stop(), autoCompile || write(hasStyle || isFilled ? "Welcome to the 1v1 lobby. Press ENTER to chat." : "Welcome to the 1v1 lobby. Chat is disabled for anonymous players. Sign-in with an account to use the chat.", checked ? "info-dark" : "info"), last = true, document.getElementById("gm-1v1-button-continue").addEventListener("click", fail), document.getElementById("gm-1v1-button-back").addEventListener("click", 
            go), document.getElementById("gm-1v1-button-back2").addEventListener("click", go), document.getElementById("back-to-1v1-lobby-button").addEventListener("click", function() {
              pack(-1);
              stop();
              if ("undefined" != typeof aiptag && aiptag.cmd.display.push && !showall && Date.now() - _g > 3E4) {
                aiptag.cmd.display.push(function() {
                  aipDisplayTag.display("defly-io_300x250");
                });
                _g = Date.now();
              }
            }), document.getElementById("spectate-1v1-previous-button").addEventListener("click", function() {
              pack(0, true);
            }), document.getElementById("spectate-1v1-next-button").addEventListener("click", function() {
              pack(0, false);
            }), document.getElementById("gm-1v1-players-header")) {
              let move_elements = document.getElementById("gm-1v1-players-header").getElementsByTagName("th");
              for (let i = 0; i < move_elements.length; i++) {
                move_elements[i].addEventListener("click", function() {
                  F2Voice(i);
                });
              }
            }
            if ("undefined" != typeof aiptag && aiptag.cmd.display.push && !showall) {
              aiptag.cmd.display.push(function() {
                aipDisplayTag.display("defly-io_300x250");
              });
              _g = Date.now();
            }
            zc = true;
          }
          var Q = view.getInt32(1);
          var offset = 5;
          var n = 0;
          for (; n < Q; n++) {
            var i = view.getInt32(offset);
            var killsData = view.getInt32(offset + 4);
            var deathsData = view.getInt32(offset + 8);
            var string = view.getUint8(offset + 12);
            offset = offset + 13;
            var file = params[i];
            if (!(last || args[i])) {
              write(file + " entered the lobby", checked ? "info-dark" : "info");
            }
            args[i] = {
              name : file,
              kills : killsData,
              deaths : deathsData,
              status : string
            };
            if (length == i && (_pageIsFullScreen && 1 == string || !_pageIsFullScreen && 0 == string)) {
              document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden";
            }
          }
          create();
        }(data);
        break;
      case 61:
        !function(_input) {
          var i = _input.getInt32(1);
          write(args[i].name + " left the lobby", checked ? "info-dark" : "info");
          delete args[i];
          create();
          delete cache[i];
          delete params[i];
          if (length == i) {
            document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden";
          }
        }(data);
        break;
      case 62:
        !function(_input) {
          var callbackPosition = _input.getInt32(1);
          if (callbackPosition) {
            write(args[callbackPosition].name + " is challenging you!", "bold");
          }
          var Q = _input.getInt32(5);
          var fsHTML = "";
          var n = 0;
          for (; n < Q; n++) {
            var callbackPosition = _input.getInt32(9 + 4 * n);
            fsHTML = fsHTML + ('<div><div class="duel-text">' + args[callbackPosition].name + ' is challenging you, accept?</div> <div onclick="defly.answerChallenge(' + callbackPosition + ', true);" class="button orange">YES</div> <div onclick="defly.answerChallenge(' + callbackPosition + ', false);" class="button">NO</div></div>');
          }
          document.getElementById("gm-1v1-duel-list").innerHTML = fsHTML;
        }(data);
        break;
      case 63:
        !function(view) {
          var file = view.getInt32(1);
          var requested = view.getUint8(5);
          if (requested < 2) {
            write(args[file].name + (requested ? " accepted" : " rejected") + " your challenge", "bold");
            args[file].challenged = false;
            create();
          }
          if (1 == requested || 2 == requested) {
            for (file in fileTooLarge = file, args) {
              args[file].challenged = false;
            }
          }
        }(data);
        break;
      case 64:
        !function(value) {
          var enmlHash = range(value, 1).replace(/[ ,-]+/g, " ").split(" ");
          bits = [];
          var i = 0;
          for (; i < enmlHash.length; i++) {
            var key = parseInt(enmlHash[i]);
            if (files[key]) {
              bits.push(key);
            } else {
              console.error("Skin id does not exists", key);
            }
          }
        }(data);
        break;
      case 98:
        pg = true;
        console.log("Received: kicked for inactivity");
        try {
          res.close();
        } catch (g) {
        }
        if (tmp || iterable) {
          document.location.reload();
        }
        break;
      case 99:
        var decodeTimeSum = (new Date).getTime() - _deviceBearing;
        getClosestValidDate(decodeTimeSum);
        console.log("ping is", decodeTimeSum);
        0;
        break;
      default:
        console.log("unhandled message code", size_buffer);
    }
  }
  function getClosestValidDate(iconHeight) {
    (new Date).getTime();
    if (smHeight) {
      smHeight = .9 * smHeight + .1 * iconHeight;
      if (iconHeight > foHeight) {
        foHeight = iconHeight;
      }
      if (iconHeight < fontIconHeight) {
        fontIconHeight = iconHeight;
      }
    } else {
      foHeight = smHeight = iconHeight;
      fontIconHeight = smHeight;
    }
  }
  function range(data, offset) {
    var Q = data.getUint8(offset++);
    var re = "";
    var n = 0;
    for (; n < Q; n++) {
      var p = data.getUint8(offset + 2 * n + 1) | data.getUint8(offset + 2 * n + 0) << 8;
      re = re + String.fromCharCode(p);
    }
    return re;
  }
  function split(v, i, options) {
    v.setUint8(i, options.length);
    var j = 0;
    for (; j < options.length; j++) {
      var hasj = options.charCodeAt(j);
      v.setUint8(i + 1 + 2 * j + 1, 255 & hasj);
      v.setUint8(i + 1 + 2 * j + 0, hasj >>> 8);
    }
  }
  function get(p, c) {
    var obj = new PIXI.Sprite(PIXI.loader.resources["img/line1.png"].texture);
    return obj.dot1 = p, obj.dot2 = c, obj.rotation = Math.atan2(c.y - p.y, c.x - p.x), obj.x = (p.x + c.x) / 2, obj.y = (p.y + c.y) / 2, obj.anchor.set(.5), obj.height = h, obj.width = Math.sqrt(Math.pow(c.x - p.x, 2) + Math.pow(c.y - p.y, 2)) - .9 * (p.size + c.size), p.lines.push(obj), c.lines.push(obj), obj;
  }
  function getImageData(width, height) {
    return locLabelCanvas && locLabelCanvas.width == width && locLabelCanvas.height == height || ((locLabelCanvas = document.createElement("canvas")).width = width, locLabelCanvas.height = height), locLabelCanvas;
  }
  function filterImage(self, x) {
    if (vehiclesIndex[self.textureCacheIds[0] + "-" + x]) {
      var vehicle = vehiclesIndex[self.textureCacheIds[0] + "-" + x];
    } else {
      var width = x;
      var height = x;
      if (self.width > self.height) {
        height = x / self.width * self.height;
      }
      if (self.width < self.height) {
        width = x / self.height * self.width;
      }
      var c = getImageData(width, height);
      var context = c.getContext("2d");
      context.clearRect(0, 0, width, height);
      context.drawImage(self.baseTexture.source, self.orig.x, self.orig.y, self.orig.width, self.orig.height, 0, 0, width, height);
      vehicle = c.toDataURL("image/png");
      vehiclesIndex[self.textureCacheIds[0] + "-" + x] = vehicle;
    }
    return vehicle;
  }
  function sortBy(ctx, name) {
    var filtered = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height);
    var c = (16711680 & name) >> 16;
    var h = (65280 & name) >> 8;
    var t = 255 & name;
    var i = 0;
    for (; i < filtered.data.length; i = i + 4) {
      var RADIUS = filtered.data[i + 0];
      var sCount = filtered.data[i + 1];
      var angleToDraw = filtered.data[i + 2];
      filtered.data[i + 0] = RADIUS * c / 255;
      filtered.data[i + 1] = sCount * h / 255;
      filtered.data[i + 2] = angleToDraw * t / 255;
    }
    ctx.putImageData(filtered, 0, 0);
  }
  function update(name, s) {
    var c = getImageData(256, 256);
    var context = c.getContext("2d");
    var spec = files[result[name] ? result[name] : 1];
    var self = document.createElement("div");
    if (self.skinId = result[name] ? result[name] : 1, self.style.position = "relative", self.style.display = "inline-block", self.style.width = s + "px", self.style.height = s + "px", self.style.backgroundColor = "#F2F7FF", !spec) {
      return self.className = "loading", self;
    }
    context.clearRect(0, 0, 256, 256);
    context.globalCompositeOperation = "source-over";
    var img = document.createElement("img");
    img.style.position = "absolute";
    img.style.top = s * (1 - .9) / 2 + "px";
    img.style.left = s * (1 - .9) / 2 + "px";
    img.style.width = .9 * s + "px";
    img.style.height = .9 * s + "px";
    if (options[spec.base]) {
      context.drawImage(options[spec.base].baseTexture.source, options[spec.base].orig.x, options[spec.base].orig.y, options[spec.base].orig.width, options[spec.base].orig.height, 0, 0, 256, 256);
      sortBy(context, $(name));
    }
    if (options[spec.notint]) {
      context.drawImage(options[spec.notint].baseTexture.source, options[spec.notint].orig.x, options[spec.notint].orig.y, options[spec.notint].orig.width, options[spec.notint].orig.height, 0, 0, 256, 256);
    }
    var dataURI = c.toDataURL("image/png");
    img.src = dataURI;
    self.appendChild(img);
    var config = -1 != [81, 82, 83, 84, 85, 86, 87, 88, 90, 95, 57, 62, 63, 70].indexOf(result[name]) ? 1 : 2;
    self.rotors = [];
    var i = 0;
    for (; i < spec.rotors.length; i++) {
      var e = spec.rotors[i];
      if (options[e.img] && e.visibility != config) {
        var item = document.createElement("img");
        if (item.style.position = "absolute", item.style.left = s * (1 - .9) / 2 - .9 * -e.x * s / 2 - .9 * s * Math.abs(e.size) / 2 + .9 * s / 2 + "px", item.style.top = s * (1 - .9) / 2 - .9 * -e.y * s / 2 - .9 * s * Math.abs(e.size) / options[e.img].orig.width * options[e.img].orig.height / 2 + .9 * s / 2 + "px", item.style.width = .9 * s * Math.abs(e.size) + "px", item.style.height = .9 * s * Math.abs(e.size) / options[e.img].orig.width * options[e.img].orig.height + "px", e.tinted) {
          context.clearRect(0, 0, 256, 256);
          context.save();
          if (e.size < 0) {
            context.translate(256, 0);
            context.scale(-1, 1);
          }
          context.drawImage(options[e.img].baseTexture.source, options[e.img].orig.x, options[e.img].orig.y, options[e.img].orig.width, options[e.img].orig.height, 0, 0, 256, 256);
          context.restore();
          sortBy(context, $(name));
          dataURI = c.toDataURL("image/png");
        } else {
          dataURI = filterImage(options[e.img], 256);
        }
        item.src = dataURI;
        if (e.speed > 0) {
          item.style.animation = "spinInverse " + 2 * Math.PI / e.speed + "s linear infinite";
        } else {
          if (e.speed < 0) {
            item.style.animation = "spin " + 2 * Math.PI / -e.speed + "s linear infinite";
          }
        }
        if (void 0 !== e.layer) {
          self.insertBefore(item, self.childNodes[e.layer]);
        } else {
          self.appendChild(item);
        }
      }
    }
    return self;
  }
  function load(id) {
    if (2 != type) {
      if (on) {
        result[id] = Math.floor(7 * Math.random()) + 72;
      }
      if (bits && bits.length > 0) {
        result[id] = bits[Math.floor(Math.random() * bits.length)];
      }
      if (is) {
        result[id] = Math.floor(7 * Math.random()) + 114;
        if (Math.random() <= .01) {
          result[id] = 121;
        }
      }
    }
    var spec = files[result[id] ? result[id] : 1];
    if (!spec) {
      spec = files[1];
    }
    var self = new PIXI.Container;
    var obj = new PIXI.Sprite(options[spec.base]);
    obj.width = 2 * scale * spec.size;
    obj.height = 2 * scale * spec.size;
    obj.anchor.set(.5);
    obj.tint = $(id);
    self.addChild(obj);
    var h = new PIXI.Sprite(options[spec.notint]);
    h.width = 2 * scale * spec.size;
    h.height = 2 * scale * spec.size;
    h.anchor.set(.5);
    self.addChild(h);
    self.rotors = [];
    var j = 0;
    for (; j < spec.rotors.length; j++) {
      var config = spec.rotors[j];
      var obj = new PIXI.Sprite(options[config.img]);
      obj.width = 2 * scale * spec.size * config.size;
      obj.height = obj.width / obj.texture.width * obj.texture.height;
      obj.anchor.set(.5);
      obj.baseRotation = 0;
      obj.x = config.x * scale * spec.size;
      obj.y = config.y * scale * spec.size;
      if (void 0 !== config.layer && config.layer <= self.children.length) {
        self.addChildAt(obj, config.layer);
      } else {
        self.addChild(obj);
      }
      if (void 0 !== config.tinted && config.tinted) {
        obj.tint = $(id);
      }
      self.rotors.push({
        sprite : obj,
        speed : config.speed,
        visibility : void 0 !== config.visibility ? config.visibility : 0,
        fixedRotation : void 0 !== config.fixedRotation && config.fixedRotation,
        noRotation : void 0 !== config.noRotation && config.noRotation
      });
    }
    var item = new PIXI.Sprite(options.shield);
    item.width = 2 * scale;
    item.height = 2 * scale;
    item.anchor.set(.5);
    item.tint = $(id);
    item.visible = false;
    var n = new PIXI.Text(params[id] ? params[id] : "", {
      fontFamily : "Arial",
      fontSize : Math.round(window.innerHeight / 60),
      fill : checked ? 16777215 : 0,
      align : "center"
    });
    if (n.anchor.set(.5), n.scale.set(1 / that.scale.x), self.sx = 0, self.sy = 0, self.name = name, self.playerId = id, children[id] = self, tree.addChild(self), self.shield = item, tree.addChild(item), self.usernameText = n, element.addChild(n), tmp && id == undefined && (self.visible = false, n.visible = false), names[id]) {
      if (options["badge-" + names[id]]) {
        var img = new PIXI.Sprite(options["badge-" + names[id]]);
        img.height = .6 * scale;
        img.width = img.height / img.texture.height * img.texture.width;
        element.addChild(img);
        img.anchor.set(.5);
        self.badge = img;
      } else {
        var oHistoryManager = new PIXI.loaders.Loader;
        oHistoryManager.add("badge-" + names[id], "img/badges/" + names[id] + ".png");
        oHistoryManager.load(function(s, uniforms) {
          if (options["badge-" + names[id]] = uniforms["badge-" + names[id]].texture, self.parent) {
            var img = new PIXI.Sprite(options["badge-" + names[id]]);
            img.height = .6 * scale;
            img.width = img.height / img.texture.height * img.texture.width;
            element.addChild(img);
            img.anchor.set(.5);
            self.badge = img;
          }
        });
      }
    }
    return self;
  }
  function DDtoUTM() {
    LinkMaxVerticalDistanceFromArticle = 1 == Ws ? 3 * Math.sqrt(3) / 2 * Math.pow(width / 2, 2) : 2 == Ws ? Math.PI * width / 2 * height / 2 : width * height;
    subwikiList = [0 - 3 * (prices = [height / width * 2, height / -width * 2, height / -width * 2, height / width * 2])[0] / 4 * width, height - 3 * prices[1] / 4 * width, 0 - 1 * prices[2] / 4 * width, height - 1 * prices[3] / 4 * width];
  }
  function subtract(p) {
    if (0 == Ws) {
      if (p.x < 0) {
        p.x = 0;
      }
      if (p.x > width) {
        p.x = width;
      }
      if (p.y < 0) {
        p.y = 0;
      }
      if (p.y > height) {
        p.y = height;
      }
    } else {
      if (1 == Ws) {
        if (p.x < 0 && (p.x = 0), p.x > width && (p.x = width), p.y < 0 && (p.y = 0), p.y > height && (p.y = height), p.x > 3 * width / 4) {
          var minBuy = prices[p.y < height / 2 ? 0 : 1];
          var subwiki = subwikiList[p.y < height / 2 ? 0 : 1];
          var W = (p.y - subwiki) / minBuy;
          if (p.x > W) {
            p.x = W;
          }
        } else {
          if (p.x < 1 * width / 4) {
            minBuy = prices[p.y < height / 2 ? 2 : 3];
            subwiki = subwikiList[p.y < height / 2 ? 2 : 3];
            var left = (p.y - subwiki) / minBuy;
            if (p.x < left) {
              p.x = left;
            }
          }
        }
      } else {
        if (2 == Ws) {
          if (p.dst2XY(width / 2, width / 2) > Math.pow(width / 2, 2)) {
            var a = Math.atan2(p.y - height / 2, p.x - width / 2);
            p.x = width / 2 + Math.cos(a) * width / 2;
            p.y = height / 2 + Math.sin(a) * height / 2;
          }
        }
      }
    }
  }
  function open(isAuth) {
    if (isAuth) {
      var i = 0;
      for (; i < expectedKeys.length; i++) {
        show(expectedKeys[i], true);
      }
    } else {
      if (expectedKeys = [], index > 0) {
        i = 0;
        for (; i < source.length; i++) {
          document.getElementById("skill-plus-" + i).style.display = source[i] >= actual[i] ? "none" : "block";
          document.getElementById("skill-bar-" + i).innerHTML = indexOf('<span class="full"></span>', source[i]) + indexOf("<span></span>", actual[i] - source[i]);
        }
      }
    }
    document.getElementById("upgrade-block").classList.remove("ask-redo");
  }
  function setup() {
    document.getElementById("respawn").style.color = checked ? "white" : "";
    document.getElementById("respawn").style.backgroundColor = checked ? "rgba(255, 255, 255, 0.2)" : "";
    document.getElementById("respawn-gm2").style.color = checked ? "white" : "";
    document.getElementById("respawn-gm2").style.backgroundColor = checked ? "rgba(255, 255, 255, 0.2)" : "";
    document.getElementById("chat-input").style.color = checked ? "white" : "";
    document.getElementById("chat-history").style.color = checked ? "white" : "";
    document.getElementById("chat-history-full").style.color = checked ? "white" : "";
    document.getElementById("fps").style.color = checked ? "white" : "";
    document.getElementById("choose-superpower").style.color = checked ? "white" : "";
    document.getElementById("upgrade-block").style.color = checked ? "white" : "";
    document.getElementById("countdown").style.color = checked ? "white" : "";
    var addedImgs = document.getElementsByClassName("bars-bg");
    var i = 0;
    for (; i < addedImgs.length; i++) {
      addedImgs[i].style.backgroundColor = checked ? "rgba(84, 84, 84, 0.7)" : "";
    }
    addedImgs = document.getElementsByClassName("score-bar");
    i = 0;
    for (; i < addedImgs.length; i++) {
      addedImgs[i].style.backgroundColor = checked ? "rgba(255, 255, 255, 0.5)" : "";
    }
    addedImgs = document.getElementsByClassName("xp-bar");
    i = 0;
    for (; i < addedImgs.length; i++) {
      addedImgs[i].style.backgroundColor = checked ? "rgba(255, 255, 255, 0.5)" : "";
    }
    if (checked) {
      document.body.classList.add("dark-theme");
    } else {
      document.body.classList.remove("dark-theme");
    }
  }
  function clone(s, m, o) {
    var resolution = Math.pow(o.x - s, 2) + Math.pow(o.y - m, 2);
    if (resolution < .01 || resolution > 1) {
      o.x = s;
      o.y = m;
    } else {
      var h = .01 / resolution;
      o.x = h * o.x + (1 - h) * s;
      o.y = h * o.y + (1 - h) * m;
    }
  }
  function link(view) {
    var offset = 5;
    var i = view.getInt16(offset);
    offset = offset + 2;
    var conf_lang_text = {};
    var whichFriend = 0;
    for (; whichFriend < i; whichFriend++) {
      var i = view.getInt32(offset);
      var element = view.getFloat32(offset + 4);
      var data = view.getFloat32(offset + 8);
      var x = view.getFloat32(offset + 12);
      var y = view.getFloat32(offset + 16);
      var da = view.getFloat32(offset + 20);
      var index = view.getUint8(offset + 24);
      offset = offset + 25;
      if (!children[i]) {
        load(i);
      }
      conf_lang_text[i] = true;
      if (i != undefined) {
        children[i].x = element;
        children[i].y = data;
        children[i].sx = x;
        children[i].sy = y;
        children[i].rotation = da;
        children[i].superpower = 255 == index ? -1 : index;
        children[i].shield.visible = 3 == index;
        if (children[i].shield.visible) {
          children[i].shield.position.set(element, data);
        }
      } else {
        children[i].sx = x;
        children[i].sy = y;
        children[i].shield.visible = 3 == index;
      }
      clone(element, data, children[i]);
    }
    for (i in children) {
      if ("ghost" != i && !conf_lang_text[i]) {
        var p = children[i];
        delete children[i];
        tree.removeChild(p);
        element.removeChild(p.usernameText);
        if (p.shield) {
          tree.removeChild(p.shield);
        }
        if (p.badge) {
          element.removeChild(p.badge);
        }
      }
    }
    if (children[undefined]) {
      (hiding = document.getElementById("minimap-position")).style.left = children[undefined].x / width * 100 + "%";
      hiding.style.top = children[undefined].y / height * 100 + "%";
    } else {
      if (children[j]) {
        var hiding;
        (hiding = document.getElementById("minimap-position")).style.left = children[j].x / width * 100 + "%";
        hiding.style.top = children[j].y / height * 100 + "%";
      }
    }
    if (!es && (1 == type || 2 == type || 3 == type)) {
      var fsHTML = "";
      for (i in children) {
        if (i != undefined && results[i] == id && !unconditional) {
          fsHTML = fsHTML + ('<div class="minimap-position" style="left: ' + children[i].x / width * 100 + "%; top: " + children[i].y / height * 100 + '%;"></div>');
        }
      }
      document.getElementById("minimap-team-positions").innerHTML = fsHTML;
    }
  }
  function fn(type, s, name) {
    var element = document.getElementById("user-info");
    if (element && name) {
      window.document.body.removeChild(element);
      element = null;
    }
    if (!element) {
      (element = document.createElement("div")).setAttribute("class", "user-info");
      element.setAttribute("id", "user-info");
      window.document.body.appendChild(element);
    }
    element.innerHTML = type;
    if (checked) {
      element.style.color = "white";
    }
    element.style.opacity = 1;
    clearTimeout(_takingTooLongTimeout);
    clearInterval(_mapViewerChangesCheck);
    _takingTooLongTimeout = setTimeout(function() {
      var g = (new Date).getTime();
      _mapViewerChangesCheck = setInterval(function() {
        var _g = (new Date).getTime() - g;
        if (_g > 500) {
          clearInterval(_mapViewerChangesCheck);
          window.document.body.removeChild(element);
        } else {
          element.style.opacity = 1 - _g / 500;
        }
      }, 20);
    }, s);
  }
  function getUportQRDisplay(callback) {
    var child = document.getElementById("fade-screen");
    if (!child) {
      (child = document.createElement("div")).setAttribute("id", "fade-screen");
      window.document.body.appendChild(child);
    }
    anime({
      targets : child,
      opacity : [0, 1],
      easing : "linear",
      duration : 500,
      complete : callback
    });
  }
  function fadeOut(callback) {
    var star = document.getElementById("fade-screen");
    if (star) {
      anime({
        targets : star,
        opacity : [1, 0],
        easing : "linear",
        duration : 500,
        complete : function() {
          window.document.body.removeChild(star);
          if ("function" == typeof callback) {
            callback();
          }
        }
      });
    }
  }
  function complete() {
    var onlineCounterPlural = document.getElementById("toasts");
    var s = "";
    var t = (new Date).getTime();
    var i = inlines.length - 1;
    for (; i >= 0; i--) {
      if (t - inlines[i].t >= 9900) {
        inlines.splice(i, 1);
      } else {
        s = "<div" + (inlines[i].c ? " class=" + inlines[i].c : "") + ">" + inlines[i].s + "</div>" + s;
      }
    }
    onlineCounterPlural.innerHTML = s;
  }
  function reject(val, data) {
    inlines.push({
      t : (new Date).getTime(),
      s : val,
      c : data
    });
    complete();
    setTimeout(complete, 1E4);
  }
  function setTime() {
    var onlineCounterPlural = document.getElementById("chat-history");
    var s = "";
    var t = (new Date).getTime();
    var i = json.length - 1;
    for (; i >= 0; i--) {
      if (t - json[i].t >= 2E4) {
        json.splice(i, 1);
      } else {
        s = "<div" + (json[i].c ? " class=" + json[i].c : "") + ">" + json[i].s + "</div>" + s;
      }
    }
    onlineCounterPlural.innerHTML = s;
  }
  function check(r) {
    var inPropName = document.getElementById("chat-history-full").scrollHeight - document.getElementById("chat-history-full").scrollTop - document.getElementById("chat-history-full").offsetHeight <= 1;
    var a = document.getElementById("chat-history-full");
    var b = "";
    var i = 0;
    for (; i < arr.length; i++) {
      b = b + ("<div" + (arr[i].c ? " class=" + arr[i].c : "") + ">" + arr[i].s + "</div>");
    }
    a.innerHTML = b;
    if (r && inPropName) {
      document.getElementById("chat-history-full").scrollTop = document.getElementById("chat-history-full").scrollHeight;
    }
  }
  function write(src, name) {
    json.push({
      t : (new Date).getTime(),
      s : src,
      c : name
    });
    for (; json.length > 10;) {
      json.splice(0, 1);
    }
    setTime();
    setTimeout(setTime, 2E4);
    arr.push({
      s : src,
      c : name
    });
    for (; arr.length > 100;) {
      arr.splice(0, 1);
    }
    if (document.getElementById("chat-block").classList.contains("typing")) {
      check(true);
    }
  }
  function sendNickname(options) {
    options = options.substring(0, 255);
    var data = new DataView(new ArrayBuffer(2 + 2 * options.length));
    data.setUint8(0, 10);
    data.setUint8(1, options.length);
    var i = 0;
    for (; i < options.length; i++) {
      var $sendIcon = options.charCodeAt(i);
      data.setUint8(2 + 2 * i + 1, 255 & $sendIcon);
      data.setUint8(2 + 2 * i + 0, $sendIcon >>> 8);
    }
    res.send(data.buffer);
  }
  function fail() {
    document.getElementById("gm-1v1-continue-spinner").style.display = "inline-block";
    document.getElementById("gm-1v1-button-continue").style.display = "none";
    bufferToHexCodes = slide;
    if (!hasCanceled_ && Date.now() - Ng > 12E4 && clear()) {
      if ("undefined" != typeof gtag) {
        gtag("event", "Respawn", {
          event_category : "Click",
          event_label : "VideoAd"
        });
      }
    } else {
      slide();
      if ("undefined" != typeof gtag) {
        gtag("event", "Respawn", {
          event_category : "Click",
          event_label : "NoVideoAd"
        });
      }
    }
  }
  function stop() {
    document.getElementById("gm-1v1-lobby").style.display = "block";
    document.getElementById("chat-block").classList.add("typing");
    document.getElementById("chat-block").classList.add("gm-1v1-lobby");
    document.getElementById("spectate-1v1-ui").style.display = "none";
    if (!(hasStyle || isFilled)) {
      document.getElementById("chat-input").style.display = "none";
    }
  }
  function slide() {
    var loaderProps = document.getElementById("gm-1v1-main");
    var timeScale = {
      v : 1
    };
    anime({
      targets : timeScale,
      v : 0,
      easing : "easeOutQuad",
      duration : 500,
      update : function() {
        loaderProps.style.gridTemplateRows = 50 + 50 * timeScale.v + "% 50%";
      },
      complete : function() {
        loaderProps.style.gridTemplateRows = "50% 50%";
        document.getElementById("gm-1v1-continue-spinner").style.display = "none";
        document.getElementById("gm-1v1-button-continue").style.display = "none";
        document.getElementById("gm-1v1-button-back").style.display = "inline-block";
      }
    });
  }
  function F2Voice(idx) {
    if (lastIdx == idx) {
      Nc = (Nc + 1) % 3;
    } else {
      lastIdx = idx;
      Nc = 1;
    }
    create();
  }
  function create() {
    let g = [];
    var t;
    for (t in args) {
      g.push(t);
      var e = args[t];
      args[t].statusText = e.challenged ? "Asked" : 0 == e.status ? "Lobby" : "Arena";
    }
    if (0 != Nc) {
      (function(events, i, canCreateDiscussions) {
        events.sort(function(metagroupName2, cssMatches) {
          return "string" == typeof args[metagroupName2][i] ? args[metagroupName2][i].localeCompare(args[cssMatches][i]) * (canCreateDiscussions ? 1 : -1) : (args[metagroupName2][i] - args[cssMatches][i]) * (canCreateDiscussions ? 1 : -1);
        });
      })(g, tabbables[lastIdx], 1 == Nc);
    }
    let songContainers = document.getElementById("gm-1v1-players-header").getElementsByTagName("th");
    for (let i = 0; i < songContainers.length; i++) {
      songContainers[i].classList = lastIdx == i && 0 != Nc ? 1 == Nc ? "sortA" : "sortD" : "";
    }
    for (var fsHTML = "", gi = 0; gi < g.length; gi++) {
      let i = g[gi];
      e = args[i];
      fsHTML = fsHTML + ('<tr id="gm1-player-"+id ' + (i == undefined ? 'class="is-local-player" ' : "") + 'onclick="defly.select1v1Player(' + i + ');"><td>' + e.name + "</td><td>" + e.kills + "</td><td>" + e.deaths + "</td><td>" + e.statusText + "</td></tr>");
    }
    document.getElementById("gm-1v1-players").innerHTML = fsHTML;
  }
  function restore() {
    var g = Math.floor(currentFrame / 60);
    var h = Math.ceil(currentFrame % 60);
    if (60 == h) {
      h = 0;
      g++;
    }
    document.getElementById("countdown-value").innerHTML = (g > 0 ? "0" + g + ":" : "00:") + (h > 9 ? h : "0" + h);
  }
  function parsePirateBayProxyList(n, s) {
    return n + Math.floor(Math.random() * (s - n));
  }
  function set(view) {
    var name = view.getInt32(1);
    var username = view.getInt32(5);
    var x = view.getFloat32(9);
    var y = view.getFloat32(13);
    var hp = view.getUint8(17);
    var MESSAGE_CODE_1 = view.getUint8(18);
    var dd = view.getFloat32(19);
    var toProj = view.getInt32(23);
    var scale = zoom;
    if (list[name]) {
      0;
    } else {
      var obj = new PIXI.Sprite(options.dot1);
      obj.x = x;
      obj.y = y;
      obj.width = 2 * scale;
      obj.height = 2 * scale;
      obj.size = scale;
      obj.anchor.set(.5);
      obj.owner = username;
      obj.hp = hp;
      obj.maxHP = MESSAGE_CODE_1;
      obj.creationTurn = toProj;
      obj.alpha = 1;
      obj.tint = 1 == type || 2 == type ? String(username) : $(username);
      if (valid && 1 == username && x >= bounds.x1 && x <= bounds.x2 && y >= bounds.y1 && y <= bounds.y2 && options["tower-kh"]) {
        obj.texture = options["tower-kh"];
        obj.tint = 15642415;
      }
      obj.lines = [];
      obj.dotId = name;
      container.addChild(obj);
      list[name] = obj;
      if (obj.hp != obj.maxHP) {
        obj.healthBar = merge(obj);
        d.addChild(obj.healthBar);
        obj.healthBar.outer.width = obj.healthBar.width * obj.hp / obj.maxHP;
      }
      if (dd > 0) {
        replace(obj, dd);
      }
      if (!(0 != type && 3 != type || username != undefined)) {
        cM = true;
      }
    }
  }
  function replace(data, keyword) {
    var obj = new PIXI.Sprite(options.shield);
    obj.x = data.x;
    obj.y = data.y;
    obj.width = 1.709089011247097 * data.width;
    obj.height = 1.709089011247097 * data.height;
    obj.anchor.set(.5);
    obj.tint = 1 == type || 2 == type ? String(data.owner) : $(data.owner);
    obj.lastAppearTurn = -1E3;
    obj.appearPercent = keyword;
    obj.state = 0;
    obj.alpha = 0;
    container.addChild(obj);
    data.shield = obj;
  }
  function expect(value, text, pos) {
    return 3 == type ? "dot" + text + "-" + pos : on || !shouldCollapse || 1 != type && 2 != type || value == id ? !on && shouldCollapse && 0 == type && value != undefined ? "dot1-enemy" : "dot1" : "dot1-enemy";
  }
  function log(view) {
    var s = view.getInt32(1);
    var i = view.getInt32(5);
    var key = view.getInt32(9);
    var name = view.getInt32(13);
    var link_el = view.getInt32(17);
    var nodeBBURL = view.getInt32(21);
    var v = list[key];
    var value = list[name];
    if (v || console.error("could not find dot", key), value || console.error("could not find dot", name), map[s]) {
      0;
    } else {
      var data = get(v, value);
      data.lineId = s;
      data.owner = i;
      data.tint = 1 == type || 2 == type ? String(i) : $(i);
      if (valid && 15642415 == v.tint) {
        data.tint = 15642415;
      }
      data.dot1 = v;
      data.dot2 = value;
      data.leftZoneId = link_el;
      data.rightZoneId = nodeBBURL;
      r.addChild(data);
      map[s] = data;
      if ($scope) {
        $scope.addLine(data, v.position, value.position);
      }
      data.alpha = 0;
      anime({
        targets : data,
        alpha : 1,
        duration : 250,
        easing : "linear"
      });
    }
  }
  function interpolate(a, i, b, c, t, f) {
    return a >= b && a <= c && i >= t && i <= f;
  }
  function f(b, s, a, c, t, x, v, d) {
    if (b > x) {
      var r = (x - a) / (b - a);
      b = x;
      s = (s - c) * r + c;
    } else {
      if (b < t) {
        r = (t - a) / (b - a);
        b = t;
        s = (s - c) * r + c;
      }
    }
    if (s > d) {
      r = (d - c) / (s - c);
      s = d;
      b = (b - a) * r + a;
    } else {
      if (s < v) {
        r = (v - c) / (s - c);
        s = v;
        b = (b - a) * r + a;
      }
    }
    return {
      x : b,
      y : s
    };
  }
  function build(data, id) {
    var key = data.getInt32(1);
    var username = data.getInt32(5);
    var Breakdance = data.getFloat32(9);
    var idxCount = data.getInt16(13);
    var prev = data.byteLength > 15 + 5 * idxCount;
    if (prev && nodes[key]) {
      var obj = nodes[key];
      var index = 0;
      for (; index < obj.linePath.length; index++) {
        if (obj.linePath[index].leftZoneId == key) {
          obj.linePath[index].leftZoneId = 0;
        }
        if (obj.linePath[index].rightZoneId == key) {
          obj.linePath[index].rightZoneId = 0;
        }
      }
      layer.removeChild(obj);
      delete nodes[key];
      if (instance) {
        instance.removeZone(obj, obj.zoneBounds.minX, obj.zoneBounds.maxX, obj.zoneBounds.minY, obj.zoneBounds.maxY);
      }
    }
    if (nodes[key]) {
      0;
    } else {
      var item;
      var v;
      var children = [];
      var path = [];
      index = 0;
      for (; index < idxCount; index++) {
        var id = data.getInt32(15 + 5 * index);
        var css = 0 == data.getUint8(15 + 5 * index + 4);
        if (!map[id]) {
          console.error("new zone: line not found: " + id);
        }
        var i = map[id];
        if (children.push(i), css ? i.leftZoneId = key : i.rightZoneId = key, 1 == index) {
          var r;
          if (i.dot1 == item.dot1 || i.dot1 == item.dot2) {
            r = i.dot1;
          } else {
            if (!(i.dot2 != item.dot1 && i.dot2 != item.dot2)) {
              r = i.dot2;
            }
          }
          var rect = item.dot1 == r ? item.dot2 : item.dot1;
          if (!prev) {
            path.push(rect.x, rect.y);
            path.push(r.x, r.y);
          }
          v = i.dot1 == r ? i.dot2 : i.dot1;
        } else {
          if (index > 1) {
            if (!prev) {
              path.push(v.x, v.y);
            }
            v = i.dot1 != v ? i.dot1 : i.dot2;
          }
        }
        item = i;
      }
      if (prev) {
        var valueOffset = 15 + 5 * idxCount;
        var n = data.getInt16(valueOffset);
        var self = [];
        index = 0;
        for (; index < n; index++) {
          var id = data.getInt32(valueOffset + 2 + 4 * index);
          if (!list[id]) {
            console.error("new simplified zone: dot not found: " + id);
          }
          var a = list[id].x;
          var b = list[id].y;
          path.push(a, b);
          self.push(list[id]);
        }
        var start = 0;
        var t = 0;
        var end = width;
        var angle = height;
        if (data.byteLength >= valueOffset + 2 + 4 * n + 16) {
          start = data.getFloat32(valueOffset + 2 + 4 * n);
          end = data.getFloat32(valueOffset + 2 + 4 * n + 4);
          t = data.getFloat32(valueOffset + 2 + 4 * n + 8);
          angle = data.getFloat32(valueOffset + 2 + 4 * n + 12);
          var p = [];
          var x = path[path.length - 2];
          var c = path[path.length - 1];
          var value = path[0];
          var v = path[1];
          index = 0;
          for (; index < path.length / 2; index++) {
            if (a = value, b = v, index < path.length / 2 - 1) {
              value = path[2 * (index + 1) + 0];
              v = path[2 * (index + 1) + 1];
            } else {
              value = path[0];
              v = path[1];
            }
            var i = interpolate(x, c, start, end, t, angle);
            var result = interpolate(a, b, start, end, t, angle);
            var sum = interpolate(value, v, start, end, t, angle);
            if (result) {
              p.push(a, b);
            } else {
              if (i || result || sum) {
                if (i) {
                  var result = f(a, b, x, c, start, end, t, angle);
                  p.push(result.x, result.y);
                }
                if (sum) {
                  result = f(a, b, value, v, start, end, t, angle);
                  p.push(result.x, result.y);
                }
              } else {
                p.push(Math.max(start, Math.min(end, a)), Math.max(t, Math.min(angle, b)));
              }
            }
            x = a;
            c = b;
          }
          path = p;
        }
      }
      if ((obj = new PIXI.Graphics).simplified = prev, prev && (obj.simplifiedDotPath = self), obj.zoneId = key, obj.owner = username, obj.linePath = children, obj.areaScore = Breakdance, obj.beginFill(1 == type || 2 == type ? String(username) : $(username), .5), valid && children.length > 0 && 15642415 == children[0].tint && obj.beginFill(15642415, .5), obj.drawPolygon(path), obj.endFill(), obj.polygon = path, layer.addChild(obj), nodes[key] = obj, id && username == undefined) {
        absCurV++;
        loadTileImage(obj.areaScore / 4);
        var cur = Math.ceil(obj.areaScore / 4);
        if (absCurV <= 5 || cur >= 50) {
          var coords = {
            x : (obj.linePath[0].dot1.x + obj.linePath[0].dot2.x) / 2,
            y : (obj.linePath[0].dot1.y + obj.linePath[0].dot2.y) / 2
          };
          handler(coords.x, coords.y, "+" + cur);
        }
      }
      if (id) {
        obj.alpha = 0;
        anime({
          targets : obj,
          alpha : 1,
          duration : 250,
          easing : "linear"
        });
      }
      if (!(0 != type && 3 != type || username != undefined)) {
        hM = true;
      }
    }
  }
  function animate(view, offset, object, method) {
    var prop = view.getInt32(offset);
    var username = view.getInt32(offset + 4);
    var MESSAGE_CODE_1 = view.getFloat32(offset + 8);
    var n = view.getInt16(offset + 12);
    if (offset = offset + 14, object && nodes[prop]) {
      var obj = nodes[prop];
      var j = 0;
      for (; j < obj.linePath.length; j++) {
        if (obj.linePath[j].leftZoneId == prop) {
          obj.linePath[j].leftZoneId = 0;
        }
        if (obj.linePath[j].rightZoneId == prop) {
          obj.linePath[j].rightZoneId = 0;
        }
      }
      layer.removeChild(obj);
      delete nodes[prop];
      if (instance) {
        instance.removeZone(obj, obj.zoneBounds.minX, obj.zoneBounds.maxX, obj.zoneBounds.minY, obj.zoneBounds.maxY);
      }
    }
    if (nodes[prop]) {
      offset = offset + 5 * n;
    } else {
      var data;
      var c;
      var children = [];
      var x = [];
      j = 0;
      for (; j < n; j++) {
        var id = view.getInt32(offset);
        var css = 0 == view.getUint8(offset + 4);
        offset = offset + 5;
        if (!map[id]) {
          console.error("new zone: line not found: " + id);
        }
        var obj = map[id];
        if (children.push(obj), css ? obj.leftZoneId = prop : obj.rightZoneId = prop, 1 == j) {
          var key;
          if (obj.dot1 == data.dot1 || obj.dot1 == data.dot2) {
            key = obj.dot1;
          } else {
            if (!(obj.dot2 != data.dot1 && obj.dot2 != data.dot2)) {
              key = obj.dot2;
            }
          }
          var args = data.dot1 == key ? data.dot2 : data.dot1;
          if (!object) {
            x.push(args.x, args.y);
            x.push(key.x, key.y);
          }
          c = obj.dot1 == key ? obj.dot2 : obj.dot1;
        } else {
          if (j > 1) {
            if (!object) {
              x.push(c.x, c.y);
            }
            c = obj.dot1 != c ? obj.dot1 : obj.dot2;
          }
        }
        data = obj;
      }
      if (object) {
        var nfield = view.getInt16(offset);
        offset = offset + 2;
        var label = [];
        j = 0;
        for (; j < nfield; j++) {
          var id = view.getInt32(offset);
          offset = offset + 4;
          if (!list[id]) {
            console.error("new simplified zone: dot not found: " + id);
          }
          var s = list[id].x;
          var i = list[id].y;
          x.push(s, i);
          label.push(list[id]);
        }
        var value = view.getFloat32(offset);
        var end = view.getFloat32(offset + 4);
        var data = view.getFloat32(offset + 8);
        var y = view.getFloat32(offset + 12);
        offset = offset + 16;
        var t = [];
        var val = x[x.length - 2];
        var c = x[x.length - 1];
        var a = x[0];
        var v = x[1];
        j = 0;
        for (; j < x.length / 2; j++) {
          if (s = a, i = v, j < x.length / 2 - 1) {
            a = x[2 * (j + 1) + 0];
            v = x[2 * (j + 1) + 1];
          } else {
            a = x[0];
            v = x[1];
          }
          var ret = interpolate(val, c, value, end, data, y);
          var result = interpolate(s, i, value, end, data, y);
          var b = interpolate(a, v, value, end, data, y);
          if (result) {
            t.push(s, i);
          } else {
            if (ret || result || b) {
              if (ret) {
                var result = f(s, i, val, c, value, end, data, y);
                t.push(result.x, result.y);
              }
              if (b) {
                result = f(s, i, a, v, value, end, data, y);
                t.push(result.x, result.y);
              }
            } else {
              t.push(Math.max(value, Math.min(end, s)), Math.max(data, Math.min(y, i)));
            }
          }
          val = s;
          c = i;
        }
        x = t;
      }
      if ((obj = new PIXI.Graphics).simplified = object, object && (obj.simplifiedDotPath = label), obj.zoneId = prop, obj.owner = username, obj.linePath = children, obj.areaScore = MESSAGE_CODE_1, obj.beginFill(1 == type || 2 == type ? String(username) : $(username), .5), valid && children.length > 0 && 15642415 == children[0].tint && obj.beginFill(15642415, .5), obj.drawPolygon(x), obj.endFill(), obj.polygon = x, layer.addChild(obj), nodes[prop] = obj, method && username == undefined) {
        absCurV++;
        loadTileImage(obj.areaScore / 4);
        var cur = Math.floor(obj.areaScore / 4);
        if (absCurV <= 10 || cur >= 200) {
          var coords = {
            x : (obj.linePath[0].dot1.x + obj.linePath[0].dot2.x) / 2,
            y : (obj.linePath[0].dot1.y + obj.linePath[0].dot2.y) / 2
          };
          handler(coords.x, coords.y, "+" + cur);
        }
      }
      if (method && (obj.alpha = 0, anime({
        targets : obj,
        alpha : 1,
        duration : 250,
        easing : "linear"
      })), 0 != type && 3 != type || username != undefined || (hM = true), instance) {
        value = x[0];
        end = x[0];
        data = x[1];
        y = x[1];
        j = 0;
        for (; j < x.length / 2; j++) {
          var i;
          if ((i = x[2 * j]) < value) {
            value = i;
          } else {
            if (i > end) {
              end = i;
            }
          }
          if ((i = x[2 * j + 1]) < data) {
            data = i;
          } else {
            if (i > y) {
              y = i;
            }
          }
        }
        obj.zoneBounds = {
          minX : value,
          maxX : end,
          minY : data,
          maxY : y
        };
        instance.addZone(obj, value, end, data, y);
        if (3 == type) {
          (function(self) {
            var tofriend = _.getAllInRect(self.zoneBounds.minX, self.zoneBounds.maxX, self.zoneBounds.minY, self.zoneBounds.maxY);
            var i = 0;
            for (; i < tofriend.length; i++) {
              var other = tofriend[i];
              if (other.owner != self.owner && contains(self.polygon, other.position)) {
                each(other);
              }
            }
          })(obj);
        }
      }
    }
    return offset;
  }
  function each(state) {
    state.alpha = .6;
    state.isCaptured = true;
    var i = 0;
    for (; i < state.lines.length; i++) {
      state.lines[i].alpha = .6;
    }
  }
  function push(state) {
    state.alpha = 1;
    state.isCaptured = false;
    var i = 0;
    for (; i < state.lines.length; i++) {
      state.lines[i].alpha = 1;
    }
  }
  function repositionMyTooltips(data) {
    var webhooks = instance.getAllInRange(data.position, 0, 0);
    var i = 0;
    for (; i < webhooks.length; i++) {
      var options = webhooks[i];
      if (data.owner != options.owner && contains(options.polygon, data.position)) {
        each(data);
      }
    }
  }
  function _deleteMulti(self) {
    var results = _.getAllInRect(self.zoneBounds.minX, self.zoneBounds.maxX, self.zoneBounds.minY, self.zoneBounds.maxY);
    var i = 0;
    for (; i < results.length; i++) {
      var result = results[i];
      if (result.owner != self.owner && contains(self.polygon, result.position)) {
        push(result);
      }
    }
  }
  function contains(a, b) {
    var n = a[a.length - 2];
    var j = a[a.length - 1];
    var contains = false;
    var k = 0;
    for (; k < a.length; k = k + 2) {
      var x = a[k];
      var i = a[k + 1];
      if ((i < b.y && j >= b.y || j < b.y && i >= b.y) && x + (b.y - i) / (j - i) * (n - x) < b.x) {
        contains = !contains;
      }
      n = x;
      j = i;
    }
    return contains;
  }
  function defined(value) {
    var btn6_7 = children[undefined] || children[j] || tmp;
    if (!btn6_7) {
      return console.log("Unkown current position in isDotOutOfView", undefined, j), true;
    }
    var lastScrollHeight = Math.floor(btn6_7.x / snap);
    var to = Math.floor(btn6_7.y / snap);
    var axisArg_ = Math.floor(value.x / snap);
    var i = Math.floor(value.y / snap);
    var synchThresh = Math.ceil(s / 2 / snap);
    var delta = Math.ceil(number / 2 / snap);
    return axisArg_ < lastScrollHeight - synchThresh || (axisArg_ > lastScrollHeight + synchThresh || (i < to - delta || i > to + delta));
  }
  function exec(data) {
    if (data.shieldAppearAnim) {
      try {
        data.shieldAppearAnim.pause();
      } catch (g) {
      }
      data.shieldAppearAnim = null;
    }
    data.shield.alpha = 1;
    var w = data.shield.width;
    data.dotBlastAnim = anime({
      targets : data.shield,
      width : [w, 1.5 * w],
      height : [w, 1.5 * w],
      alpha : 0,
      duration : 300,
      easing : "linear",
      complete : function() {
        data.shield.width = w;
        data.shield.height = w;
        data.dotBlastAnim = null;
      }
    });
  }
  function cb(self, data, callback) {
    delete nodes[self.zoneId];
    if (instance) {
      instance.removeZone(self, self.zoneBounds.minX, self.zoneBounds.maxX, self.zoneBounds.minY, self.zoneBounds.maxY);
      if (3 == type && data) {
        _deleteMulti(self);
      }
    }
    if (data) {
      anime({
        targets : self,
        alpha : 0,
        duration : 250,
        easing : "linear",
        complete : function(loading) {
          return function() {
            layer.removeChild(loading);
          };
        }(self)
      });
    } else {
      layer.removeChild(self);
    }
    if (self.owner == undefined && data && !callback) {
      loadTileImage(-self.areaScore / 4);
    }
    var all_subnets = {};
    var i = 0;
    for (; i < self.linePath.length; i++) {
      var item = self.linePath[i];
      if (item.leftZoneId == self.zoneId) {
        item.leftZoneId = 0;
      }
      if (item.rightZoneId == self.zoneId) {
        item.rightZoneId = 0;
      }
      if (data && !callback) {
        if (!(item.leftZoneId || item.rightZoneId)) {
          if (item.dot1.shield && !print(item.dot1)) {
            all_subnets[item.dot1.dotId] = true;
            item.dot1.shield.state = 0;
            item.dot1.shield.alpha = 0;
          }
          if (item.dot2.shield && !print(item.dot2)) {
            all_subnets[item.dot2.dotId] = true;
            item.dot2.shield.state = 0;
            item.dot2.shield.alpha = 0;
          }
        }
      }
      if (!(nodes[item.leftZoneId] || nodes[item.rightZoneId] || screenSmallerThanEditor)) {
        if (defined(item.dot1) && defined(item.dot2)) {
          r.removeChild(item);
          delete map[item.lineId];
          if ($scope) {
            $scope.removeLine(item, item.dot1.position, item.dot2.position);
          }
          item.dot1.lines.splice(item.dot1.lines.indexOf(item), 1);
          item.dot2.lines.splice(item.dot2.lines.indexOf(item), 1);
          style(item.dot1);
          style(item.dot2);
        }
      }
    }
    var j;
    for (j in all_subnets) {
      var item = list[j];
      if (item) {
        exec(item);
      }
    }
  }
  function merge(target) {
    var self = new PIXI.Container;
    var mask = new PIXI.Graphics;
    mask.beginFill(32768);
    mask.drawRoundedRect(0, 0, 4 * zoom, zoom, zoom / 4);
    mask.endFill();
    self.addChild(mask);
    var wrapper = new PIXI.Graphics;
    return wrapper.beginFill(65280), wrapper.drawRoundedRect(0, 0, 4 * zoom, zoom, zoom / 4), wrapper.endFill(), self.addChild(wrapper), self.outer = wrapper, self.position.set(target.position.x - self.width / 2, target.position.y + 1.5 * zoom), self;
  }
  function style(data) {
    if (0 == data.lines.length && defined(data)) {
      container.removeChild(data);
      delete list[data.dotId];
      if (_) {
        _.remove(data, data.position);
      }
      if (data.healthBar) {
        d.removeChild(data.healthBar);
      }
      if (data.shield) {
        container.removeChild(data.shield);
      }
      if (data.text) {
        container.removeChild(data.text);
      }
    }
  }
  function extend(b, x, y, value, options, callback, overwrite) {
    if (b < 0) {
      b = 0;
    }
    if (x >= imageData.width) {
      x = imageData.width - 1;
    }
    var firstDisplayed = 4 * (y * imageData.width + b);
    var zIncLen = 4 * (y * imageData.width + x);
    var i = firstDisplayed;
    for (; i <= zIncLen; i = i + 4) {
      imageData.data[i + 0] = value;
      imageData.data[i + 1] = options;
      imageData.data[i + 2] = callback;
      imageData.data[i + 3] = overwrite;
    }
  }
  function checkTracking() {
    imageData = context2d.createImageData(canvas.width, canvas.height);
    smoothedImage = context2d.createImageData(canvas.width, canvas.height);
    context2d.putImageData(imageData, 0, 0);
  }
  function Layer(data, raw) {
    if (unconditional && raw && hasCanceled_) {
      if (width > height) {
        var awe_canvas_height = Math.ceil(256 / width * height);
        canvas.width = 256;
        canvas.height = awe_canvas_height;
      } else {
        if (height > width) {
          var reflectionWidth = Math.ceil(256 / height * width);
          document.getElementById("minimap").style.width = reflectionWidth + "px";
          canvas.width = reflectionWidth;
          canvas.height = 256;
        } else {
          canvas.width = 256;
          canvas.height = 256;
        }
      }
      canvas.style.transformOrigin = "top left";
      if ("256px" != document.getElementById("minimap").style.width) {
        canvas.style.transform = "scale(0.375)";
      }
    }
    checkTracking();
    var VLQ_VALUE_MASK = $(undefined);
    var option = (16711680 & VLQ_VALUE_MASK) >> 16;
    var props = (65280 & VLQ_VALUE_MASK) >> 8;
    var nextChunk = 255 & VLQ_VALUE_MASK;
    var offset = 1;
    var length = raw ? 7 : 3;
    for (; offset + length <= data.byteLength;) {
      if (raw) {
        var V = data.getInt32(offset);
        option = (16711680 & (VLQ_VALUE_MASK = (fg >= 1 || 2 == type) && 1 == V ? 0 : 1 == type || 2 == type ? String(V) : $(V))) >> 16;
        props = (65280 & VLQ_VALUE_MASK) >> 8;
        nextChunk = 255 & VLQ_VALUE_MASK;
        offset = offset + 4;
      }
      var Empty = data.getUint8(offset);
      var aCommands = data.getUint8(offset + 1);
      var result = data.getUint8(offset + 2);
      offset = offset + 3;
      extend(aCommands, result, Empty, option, props, nextChunk, 255);
    }
    if (input_filter_changed) {
      clearTimeout(input_filter_changed);
    }
    input_filter_changed = setTimeout(function() {
      context2d.putImageData(imageData, 0, 0);
    }, 100);
  }
  function end(_input) {
    var id = _input.getInt32(1);
    var category = _input.getInt32(5);
    var c = items[category];
    if (list[id]) {
      var data = list[id];
      delete list[id];
      if (_) {
        _.remove(data, data.position);
      }
      container.removeChild(data);
      circle(1 == type || 2 == type ? String(data.owner) : $(data.owner), data.x, data.y, 6, zoom, 2, c ? {
        x : .25 * c.sx,
        y : .25 * c.sy
      } : void 0, 3 == type && data.isCaptured ? .6 : 1);
      if (data.healthBar) {
        d.removeChild(data.healthBar);
      }
      if (data.shield) {
        container.removeChild(data.shield);
      }
      if (data.text) {
        container.removeChild(data.text);
      }
      var i = 0;
      for (; i < data.lines.length; i++) {
        var item = data.lines[i];
        delete map[item.lineId];
        if ($scope) {
          $scope.removeLine(item, item.dot1.position, item.dot2.position);
        }
        anime({
          targets : item,
          alpha : 0,
          duration : 250,
          easing : "linear",
          complete : function(g) {
            return function() {
              r.removeChild(g);
            };
          }(item)
        });
        if (item.leftZoneId && nodes[item.leftZoneId]) {
          cb(nodes[item.leftZoneId], true);
        }
        if (item.rightZoneId && nodes[item.rightZoneId]) {
          cb(nodes[item.rightZoneId], true);
        }
        var msg = item.dot1 == data ? item.dot2 : item.dot1;
        msg.lines.splice(msg.lines.indexOf(item), 1);
        style(msg);
      }
    }
    if (c) {
      delete items[category];
      parent.removeChild(c);
      if (c.creator == undefined && x < 3 && data && ++Ag <= 10) {
        handler(data.x, data.y, "+10");
      }
    }
  }
  function translate(_x, _y, _width) {
    var instance = new PIXI.Sprite(options["death-blast"] ? options["death-blast"] : options.shoot);
    instance.x = _x;
    instance.y = _y;
    instance.anchor.set(.5);
    if (!ls) {
      instance.tint = 16739353;
    }
    d.addChild(instance);
    anime({
      targets : instance,
      alpha : [1, 0],
      width : [0, 2 * _width * 1.2],
      height : [0, 2 * _width * 1.2],
      duration : 500,
      easing : "linear",
      complete : function(host) {
        return function() {
          d.removeChild(host);
        };
      }(instance)
    });
  }
  function resize(name, color, force) {
    var target = new PIXI.Text(name, {
      fontFamily : "Arial",
      fontWeight : "bold",
      fontSize : Math.round(Math.min(window.innerHeight, window.innerWidth) / 30),
      fill : color || 56576,
      align : "center"
    });
    target.anchor.set(.5);
    target.position.set(window.innerWidth / 2, .1 * window.innerHeight);
    child.addChild(target);
    anime({
      targets : target,
      easing : "linear",
      alpha : [1, 0],
      y : .02 * window.innerHeight,
      duration : 2E3,
      complete : function() {
        child.removeChild(target);
      }
    });
    if (force) {
      anime({
        targets : target.scale,
        x : [.5, 1],
        y : [.5, 1],
        easing : "easeOutBack",
        duration : 500
      });
    }
  }
  function addItem(player) {
    var egressPerm = {};
    var tLeftPorts = {};
    var songsByAlbum = {};
    var i;
    for (i in nodes) {
      if (nodes[i].owner == player) {
        egressPerm[i] = true;
      }
    }
    for (i in map) {
      if (map[i].owner == player) {
        tLeftPorts[i] = true;
      }
    }
    for (i in list) {
      if (list[i].owner == player) {
        songsByAlbum[i] = true;
      }
    }
    for (i in egressPerm) {
      anime({
        targets : nodes[i],
        alpha : 0,
        duration : 250,
        easing : "linear",
        complete : function(child) {
          return function() {
            layer.removeChild(child);
          };
        }(nodes[i])
      });
      var obj = nodes[i];
      delete nodes[i];
      if (instance) {
        instance.removeZone(obj, obj.zoneBounds.minX, obj.zoneBounds.maxX, obj.zoneBounds.minY, obj.zoneBounds.maxY);
        if (3 == type) {
          _deleteMulti(obj);
        }
      }
    }
    for (i in tLeftPorts) {
      var line = map[i];
      anime({
        targets : line,
        alpha : 0,
        duration : 250,
        easing : "linear",
        complete : function(o) {
          return function() {
            r.removeChild(o);
          };
        }(line)
      });
      delete map[i];
      if ($scope) {
        $scope.removeLine(line, line.dot1.position, line.dot2.position);
      }
    }
    for (i in songsByAlbum) {
      if (list[i].healthBar) {
        d.removeChild(list[i].healthBar);
      }
      if (list[i].shield) {
        container.removeChild(list[i].shield);
      }
      if (list[i].text) {
        container.removeChild(list[i].text);
      }
      anime({
        targets : list[i],
        alpha : 0,
        duration : 250,
        easing : "linear",
        complete : function(g) {
          return function() {
            container.removeChild(g);
          };
        }(list[i])
      });
      var prev = list[i];
      delete list[i];
      if (_) {
        _.remove(prev, prev.position);
      }
    }
  }
  function insertSuggestionIntoExpression(name) {
    return '<span style="font-weight:700;color:' + isEmpty($(name)) + '">' + params[name] + (shouldCollapse ? " (" + pixels[results[name] - 1] + ")" : "") + "</span>";
  }
  function run(view) {
    var i = view.getInt32(1);
    var value = view.getUint8(5);
    var index = view.getInt32(6);
    var width = 50;
    if (view.byteLength >= 14) {
      width = view.getFloat32(10);
    }
    var property = 0;
    if (view.byteLength >= 18 && (property = view.getInt32(14)), i == undefined && widgetWithInputTemplate++, (1 == value && index == undefined || 2 == value && property == undefined || 5 == value && index == undefined || index == first) && attributeTemplate++, 1 != type && 2 != type) {
      if (!(3 == type && 0 != value)) {
        addItem(i);
      }
      if (i != undefined && children[i]) {
        if (1 == value) {
          if (index == undefined) {
            write("<span>You killed </span><span>" + params[i] + "</span><span> (kills: " + attributeTemplate + ")</span>", checked ? "info-dark" : "info");
            resize("You killed " + params[i] + "!", checked ? 16777215 : call($(undefined), -.7), true);
          } else {
            if (!miniYouTubeActivated) {
              write("<span>" + params[i] + "</span><span> has been killed</span>", checked ? "info-dark" : "info");
            }
          }
        } else {
          if (2 == value) {
            if (!miniYouTubeActivated) {
              write("<span>" + params[i] + "</span><span> crashed into a wall</span>" + (property == undefined ? "<span> (you get the kill)</span>" : ""), checked ? "info-dark" : "info");
            }
            if (property == undefined) {
              resize("You killed " + params[i] + "!", checked ? 16777215 : call($(undefined), -.7), true);
            }
          } else {
            if (3 == value) {
              if (!miniYouTubeActivated) {
                write("<span>" + params[i] + "</span><span> died in a collision</span>", checked ? "info-dark" : "info");
              }
            } else {
              if (5 == value) {
                if (index == undefined) {
                  write("<span>You exploded </span><span>" + params[i] + "</span><span> (kills: " + attributeTemplate + ")</span>", checked ? "info-dark" : "info");
                  resize("You exploded " + params[i] + "!", checked ? 16777215 : call($(undefined), -.7), true);
                } else {
                  if (!miniYouTubeActivated) {
                    write("<span>" + params[i] + "</span><span> has been exploded</span>", checked ? "info-dark" : "info");
                  }
                }
              }
            }
          }
        }
      }
    } else {
      try {
        if (1 == value && (results[i] == id || results[index] == id || hasCanceled_ && unconditional)) {
          if (index == undefined) {
            resize("You killed " + params[i] + "!", checked ? 16777215 : call($(undefined), -.7), true);
            write("<span>You killed </span>" + insertSuggestionIntoExpression(i) + "<span> (kills: " + attributeTemplate + ")</span>", checked ? "info-dark" : "info");
          } else {
            if (!miniYouTubeActivated) {
              write(insertSuggestionIntoExpression(i) + "<span> has been killed by </span>" + insertSuggestionIntoExpression(index), checked ? "info-dark" : "info");
            }
          }
        } else {
          if (2 == value && (results[i] == id || property == undefined || hasCanceled_ && unconditional)) {
            if (!miniYouTubeActivated) {
              write(insertSuggestionIntoExpression(i) + "<span> crashed into a wall</span>" + (property == undefined ? "<span> (you get the kill)</span>" : ""), checked ? "info-dark" : "info");
            }
            if (property == undefined) {
              resize("You killed " + params[i] + "!", checked ? 16777215 : call($(undefined), -.7), true);
            }
          } else {
            if (3 == value && (results[i] == id || hasCanceled_ && unconditional)) {
              if (!miniYouTubeActivated) {
                write(insertSuggestionIntoExpression(i) + "<span> died colliding with </span>" + insertSuggestionIntoExpression(index), checked ? "info-dark" : "info");
              }
            }
          }
        }
      } catch (g) {
      }
    }
    if (!children[i] || 0 == value || 1 != type && 2 != type && 3 != type || translate(children[i].x, children[i].y, width), i == undefined) {
      if (x++, "undefined" != typeof Storage) {
        try {
          localStorage.setItem("gamesPlayed", x);
        } catch (conv_reverse_sort) {
          console.log(conv_reverse_sort);
        }
      }
      switch(opts.visible = false, item.visible = false, tmp = children[undefined] ? children[undefined].position : {
        x : width / 2,
        y : height / 2
      }, last_depth = depth, !children[undefined] || 4 == type && 4 == value || (children[undefined].visible = false), value) {
        case 0:
          var diffUnnormalized = "The connection with the server has been lost";
          break;
        case 1:
          diffUnnormalized = "You were killed by " + (params[index] ? params[index] : " an unknown player");
          break;
        case 2:
          var G = params[index] ? params[index] : "somebody";
          if (!(1 != type && 2 != type)) {
            G = "Team " + pixels[index - 1];
          }
          diffUnnormalized = "You crashed into " + G + "'s wall";
          break;
        case 3:
          diffUnnormalized = "You collided with " + (params[index] ? params[index] : " an unknown player");
          break;
        case 5:
          diffUnnormalized = "You were exploded by " + (params[index] ? params[index] : " an unknown player");
      }
      if (4 == type) {
        roles = [];
        self.moving = false;
        children[undefined].moving = false;
        of[0] = false;
        of[1] = false;
        of[2] = false;
        of[3] = false;
        w = s = depth / 60;
        var idealHeight = Math.floor(s / 60);
        var hiraAndKana = Math.floor(s % 60);
        document.getElementById("gm-1v1-fight-duration").innerHTML = (idealHeight > 0 ? idealHeight + " min. " : "") + hiraAndKana + " s";
        fileTooLarge = 0;
      } else {
        if (2 == type) {
          document.getElementById("respawn-kill-reason-gm2").innerHTML = diffUnnormalized;
          document.getElementById("respawn-score-gm2").innerHTML = document.getElementById("lb-player-points").innerHTML;
          document.getElementById("respawn-kills-gm2").innerHTML = attributeTemplate;
          attributeTemplate = 0;
          document.getElementById("respawn-deaths-gm2").innerHTML = widgetWithInputTemplate;
          document.getElementById("respawn-rounds-won-gm2").innerHTML = baseDir + "/" + group;
        } else {
          var s;
          document.getElementById("respawn-kill-reason").innerHTML = diffUnnormalized;
          document.getElementById("respawn-score").innerHTML = document.getElementById("lb-player-points").innerHTML;
          document.getElementById("respawn-map").innerHTML = document.getElementById("map-control-value").innerHTML + "%";
          w = s = depth / 60;
          idealHeight = Math.floor(s / 60);
          hiraAndKana = Math.floor(s % 60);
          document.getElementById("respawn-alive").innerHTML = (idealHeight > 0 ? idealHeight + " min. " : "") + hiraAndKana + " s";
          document.getElementById("respawn-level").innerHTML = document.getElementById("level-value").innerHTML;
        }
      }
      document.getElementById("choose-superpower").style.display = "none";
      document.getElementById("xp-block").style.display = "none";
      document.getElementById("upgrade-block").style.display = "none";
      expressInstallIsActive = true;
      setTimeout(function() {
        if (unconditional || 4 != type) {
          if (!(unconditional || 2 == type && 3 == to)) {
            document.getElementById("respawn" + (2 == type ? "-gm2" : "")).style.display = "block";
          }
        } else {
          getUportQRDisplay(function() {
            document.getElementById("gm-1v1-button-back").style.display = "none";
            document.getElementById("gm-1v1-button-continue").style.display = "inline-block";
            document.getElementById("gm-1v1-main").style.gridTemplateRows = "100% 50%";
            stop();
            document.getElementById("gm-1v1-result").style.display = "block";
            document.getElementById("gm-1v1-noresult").style.display = "none";
            check();
            document.getElementById("chat-history-full").scrollTop = document.getElementById("chat-history-full").scrollHeight;
            fadeOut();
          });
          if ("undefined" != typeof aiptag && aiptag.cmd.display.push && !showall && Date.now() - _g > 3E4) {
            aiptag.cmd.display.push(function() {
              aipDisplayTag.display("defly-io_300x250");
            });
            _g = Date.now();
          }
        }
        expressInstallIsActive = false;
      }, 1500);
      opts.visible = false;
      item.visible = false;
      target = null;
      if ("undefined" != typeof aiptag && aiptag.cmd.display.push && !showall) {
        aiptag.cmd.display.push(function() {
          aipDisplayTag.display("defly-io_300x250");
        });
        aiptag.cmd.display.push(function() {
          aipDisplayTag.display("defly-io_728x90");
        });
      }
      parseInt(document.getElementById("lb-player-points").innerHTML);
      parseInt(Math.floor(100 * document.getElementById("map-control-value").innerHTML));
      Math.floor(s);
      document.getElementById("level-value").innerHTML;
      if ("undefined" != typeof gtag) {
        gtag("event", "PlayerKilled", {
          event_category : "Game",
          score : parseInt(document.getElementById("lb-player-points").innerHTML),
          mapPercent : parseInt(Math.floor(100 * document.getElementById("map-control-value").innerHTML)),
          gameDuration : Math.floor(s)
        });
        gtag("set", {
          page_title : "respawn" + (2 == type ? "-gm2" : ""),
          page_path : "/respawn" + (2 == type ? "-gm2" : "")
        });
        gtag("event", "page_view");
      }
      document.getElementById("respawn-panel-earnings").style.display = "none";
      document.getElementById("respawn-panel-earnings-gm2").style.display = "none";
      document.getElementById("buy-screen").style.display = "none";
      if (document.getElementById("game-won")) {
        document.body.removeChild(document.getElementById("game-won"));
      }
    } else {
      if (i == j && children[i]) {
        tmp = children[i].position;
      }
    }
    if (4 == type && children[i]) {
      if (4 != value) {
        children[i].visible = false;
        children[i].usernameText.visible = false;
        if (children[i].badge) {
          children[i].badge.visible = false;
        }
      }
      children[i].moving = false;
      children[i].sx = 0;
      children[i].sy = 0;
    }
    if (!(!children[i] || 4 == type && 4 == value)) {
      circle($(i), children[i].x, children[i].y, 10, .5 * scale, 6);
    }
    if (3 != type && 4 != type) {
      delete cache[i];
    }
    if (!(4 == type || 1 != value && 5 != value || index != undefined || !children[i])) {
      handler(children[i].x, children[i].y, 2 == type ? "+1000" : "+500");
      loadTileImage(500);
    }
  }
  function listener(v) {
    clearTimeout(appendTrackTimer);
    orientation = v;
    var view = new DataView(new ArrayBuffer(5));
    view.setUint8(0, 8);
    view.setInt32(1, v);
    res.send(view.buffer);
    if (document.getElementById("team-choice-buttons")) {
      document.getElementById("team-choice-buttons").style.display = "none";
    }
    document.getElementById("team-choice-loading").style.display = "block";
  }
  function sendCommand() {
    var view = new DataView(new ArrayBuffer(1));
    view.setUint8(0, 9);
    res.send(view.buffer);
  }
  function circle(color, x1, y1, w, x, size, p, a) {
    if (void 0 === a) {
      a = 1;
    }
    var v = p ? Math.atan2(p.y, p.x) : null;
    var nv = 0;
    for (; nv < w; nv++) {
      var target = new PIXI.Sprite(options.debris);
      target.tint = color;
      target.alpha = a;
      target.width = x;
      target.height = x / target.texture.width * target.texture.height;
      var w = v ? v + Math.random() * Math.PI - Math.PI / 2 : Math.random() * Math.PI * 2;
      var i = Math.random() * scale * size;
      var rotation = Math.random() * Math.PI / 4;
      target.x = x1 + Math.cos(w) * scale * .25;
      target.y = y1 + Math.sin(w) * scale * .25;
      target.rotation = Math.random() * Math.PI * 2;
      tree.addChild(target);
      anime({
        targets : target,
        x : x1 + Math.cos(w) * i + (p ? p.x : 0),
        y : y1 + Math.sin(w) * i + (p ? p.y : 0),
        rotation : target.rotation + rotation,
        alpha : 0,
        duration : 2E3,
        easing : "easeOutQuart",
        complete : function(obj) {
          return function() {
            tree.removeChild(obj);
          };
        }(target)
      });
    }
  }
  function darkenHexChannel(val) {
    return (val = Math.round(100 * val) / 100).toString().match(/^-?\d+(?:\.\d{2})?/)[0];
  }
  function isNaN(obj) {
    var i;
    for (i in items) {
      add(items[i], obj);
    }
  }
  function add(config, i) {
    if (depth + i <= config.initialTurn) {
      return config.x = config.initialX, void(config.y = config.initialY);
    }
    config.lifetime -= i;
    config.x += 1 * config.sx / 60 * i;
    config.y += 1 * config.sy / 60 * i;
  }
  function _update(view, params) {
    var j = view.getInt32(1);
    if (nodes[j]) {
      cb(nodes[j], true, params);
    }
  }
  function read(bytes, jpos, kpos) {
    var min = bytes.getFloat32(1);
    var callback = function(val) {
      return jpos ? kpos ? val.x >= min : val.x < min : kpos ? val.y >= min : val.y < min;
    };
    var active_targets = {};
    var lineNames = {};
    var serializedFormLayers = {};
    var index;
    for (index in nodes) {
      var i = true;
      if ((obj = nodes[index]).simplified) {
        var i = 0;
        for (; i < obj.simplifiedDotPath.length; i++) {
          if (!callback(data = obj.simplifiedDotPath[i])) {
            i = false;
            break;
          }
        }
      } else {
        i = 0;
        for (; i < obj.linePath.length; i++) {
          if (!callback((item = obj.linePath[i]).dot1) || !callback(item.dot2)) {
            i = false;
            break;
          }
        }
      }
      if (i) {
        active_targets[index] = true;
      }
    }
    for (index in active_targets) {
      var obj = nodes[index];
      0;
      delete nodes[index];
      if (instance) {
        instance.removeZone(obj, obj.zoneBounds.minX, obj.zoneBounds.maxX, obj.zoneBounds.minY, obj.zoneBounds.maxY);
      }
      layer.removeChild(obj);
      i = 0;
      for (; i < obj.linePath.length; i++) {
        if ((item = obj.linePath[i]).leftZoneId == obj.zoneId) {
          item.leftZoneId = 0;
        }
        if (item.rightZoneId == obj.zoneId) {
          item.rightZoneId = 0;
        }
        if (!(item.leftZoneId || item.rightZoneId)) {
          if (item.dot1.shield && !print(item.dot1)) {
            item.dot1.shield.state = 0;
            item.dot1.shield.alpha = 0;
          }
          if (item.dot2.shield && !print(item.dot2)) {
            item.dot2.shield.state = 0;
            item.dot2.shield.alpha = 0;
          }
        }
      }
    }
    for (index in map) {
      var item = map[index];
      if (!(nodes[item.leftZoneId] || nodes[item.rightZoneId])) {
        if (callback(item.dot1) && callback(item.dot2)) {
          lineNames[item.lineId] = true;
        }
      }
    }
    for (index in lineNames) {
      if (!map[index]) {
        console.error("could not find line ", index);
      }
      item = map[index];
      delete map[index];
      if ($scope) {
        $scope.removeLine(item, item.dot1.position, item.dot2.position);
      }
      r.removeChild(item);
      item.dot1.lines.splice(item.dot1.lines.indexOf(item), 1);
      item.dot2.lines.splice(item.dot2.lines.indexOf(item), 1);
    }
    for (index in list) {
      if (0 == (data = list[index]).lines.length) {
        if (callback(data)) {
          serializedFormLayers[index] = true;
        }
      } else {
        var i = 0;
        for (; i < data.lines.length; i++) {
          if (!map[data.lines[i].lineId]) {
            console.error("dot has removed line", index, data, data.lines[i].lineId);
          }
        }
      }
    }
    for (index in serializedFormLayers) {
      var data = list[index];
      delete list[index];
      if (_) {
        _.remove(data, data.position);
      }
      container.removeChild(data);
      if (data.healthBar) {
        d.removeChild(data.healthBar);
      }
      if (data.shield) {
        container.removeChild(data.shield);
      }
      if (data.text) {
        container.removeChild(data.text);
      }
    }
  }
  function indexOf(elem, i) {
    var result = "";
    var whichFriend = 0;
    for (; whichFriend < i; whichFriend++) {
      result = result + elem;
    }
    return result;
  }
  function debug() {
    document.getElementById("superpower-label").innerHTML = err ? "Superpower active" : interval >= 100 ? "Superpower ready, " + (limit ? "double-tap" : "press E or SHIFT") : "Recharging Superpower...";
    document.getElementById("superpower-fuel-value").style.width = Math.min(100, interval) + "%";
  }
  function sendSingleByte() {
    var view = new DataView(new ArrayBuffer(9));
    view.setUint8(0, 7);
    view.setFloat32(1, self.aimDirection);
    view.setFloat32(5, self.aimDistance);
    res.send(view.buffer);
  }
  function parseInt(len) {
    return before ? Math.round(len / size) * size + size / 2 * 0 : len;
  }
  function bakeTransformations(i) {
    children[i].parent.removeChild(children[i]);
    children[i].usernameText.parent.removeChild(children[i].usernameText);
    if (children[i].shield) {
      children[i].shield.parent.removeChild(children[i].shield);
    }
    if (children[i].badge) {
      children[i].badge.parent.removeChild(children[i].badge);
    }
    var sprite = children[i];
    delete children[i];
    load(i);
    children[i].position.set(sprite.x, sprite.y);
    children[i].rotation = sprite.rotation;
  }
  function removeChildList() {
    var i = 0;
    for (; i < a.length; i++) {
      d.removeChild(a[i].playerText);
      d.removeChild(a[i]);
    }
    a = [];
    Jh = false;
  }
  function rect(text) {
    var w = window.innerWidth / 2;
    var j = window.innerHeight / 2;
    var i = (text.y - j) / (text.x - w);
    var x = i * w;
    var u = j / i;
    return -j <= x && x <= j ? text.x > w ? {
      x : window.innerWidth,
      y : j + i * w,
      s : 0
    } : {
      x : 0,
      y : j - i * w,
      s : 2
    } : -w <= u && u <= w ? text.y > j ? {
      x : w + j / i,
      y : window.innerHeight,
      s : 3
    } : {
      x : w - j / i,
      y : 0,
      s : 1
    } : null;
  }
  function getDistance(point) {
    if (tmp) {
      return tmp;
    }
    var i = source[4] / 2;
    if (!limit && self.aimDistance > 0) {
      i = Math.min(self.aimDistance, i);
    }
    var v = new PIXI.Point((point ? point.x : children[undefined].x) + i * Math.cos(self.aimDirection), (point ? point.y : children[undefined].y) + i * Math.sin(self.aimDirection));
    return subtract(v), v;
  }
  function emit() {
    if (!tmp) {
      var result = getDistance();
      if (screenSmallerThanEditor) {
        var name;
        for (name in list) {
          var node = list[name];
          if (node.owner == id) {
            if ((result = getDistance()).x = parseInt(result.x), result.y = parseInt(result.y), node.position.dst(result) < zoom) {
              if (target && target != node) {
                if (!triggerEvent(node, target)) {
                  (view = new DataView(new ArrayBuffer(25))).setInt32(1, num++);
                  view.setInt32(5, node.owner);
                  view.setInt32(9, target.dotId);
                  view.setInt32(13, node.dotId);
                  view.setInt32(17, 0);
                  view.setInt32(21, 0);
                  log(view);
                }
              }
              return target = node, void(opts.visible = true);
            }
          }
        }
        var view = new DataView(new ArrayBuffer(27));
        var i = num++;
        if (view.setInt32(1, i), view.setInt32(5, id), view.setFloat32(9, parseInt(result.x)), view.setFloat32(13, parseInt(result.y)), view.setUint8(17, 1), view.setUint8(18, 1), view.setFloat32(19, 0), view.setInt32(23, 0), set(view), null != target) {
          (view = new DataView(new ArrayBuffer(25))).setInt32(1, num++);
          view.setInt32(5, id);
          view.setInt32(9, target.dotId);
          view.setInt32(13, i);
          view.setInt32(17, 0);
          view.setInt32(21, 0);
          log(view);
        }
        target = list[i];
        opts.visible = true;
        mySeries = false;
      } else {
        (view = new DataView(new ArrayBuffer(9))).setUint8(0, 3);
        view.setFloat32(1, result.x);
        view.setFloat32(5, result.y);
        res.send(view.buffer);
        mySeries = false;
      }
    }
  }
  function show(key, s) {
    if (document.getElementById("upgrade-block").classList.contains("ask-redo") && !s && open(false), index <= 0) {
      setTimeout(function() {
        document.getElementById("upgrade-block").style.left = "-264px";
        document.getElementById("upgrade-block").style.display = "none";
      }, 300);
    } else {
      var v = new DataView(new ArrayBuffer(2));
      v.setUint8(0, 5);
      v.setUint8(1, key);
      res.send(v.buffer);
      if (source[key] < actual[key]) {
        if (--index >= 0 && !s) {
          expectedKeys.push(key);
        }
        if (index <= 0) {
          anime({
            targets : "#upgrade-block",
            easing : "easeInQuad",
            left : "-264px",
            duration : 250,
            complete : function() {
              if (index <= 0) {
                document.getElementById("upgrade-block").style.left = "-264px";
                document.getElementById("upgrade-block").style.display = "none";
              }
            }
          });
        }
      }
      if (window.event) {
        window.event.preventDefault();
      }
    }
  }
  function sendMousePosition() {
    var view = new DataView(new ArrayBuffer(5));
    view.setUint8(0, 4);
    view.setInt32(1, v);
    res.send(view.buffer);
  }
  function acceptTheCall() {
    document.getElementById("respawn-gm2").style.display = "none";
    fn((limit ? "Tap" : "Click") + " anywhere to spectate next player", 1E4);
  }
  function send(id, data) {
    if (res && 1 == res.readyState) {
      if (!data) {
        data = "";
      }
      var v = new DataView(new ArrayBuffer(3 + 2 * data.length));
      v.setUint8(0, 128);
      v.setUint8(1, id);
      split(v, 2, data);
      res.send(v.buffer);
      unconditional = true;
    }
  }
  function setTimeout() {
    if (res && 1 == res.readyState && (children[undefined] && !tmp || unconditional)) {
      var view = new DataView(new ArrayBuffer(20));
      view.setUint8(0, 2);
      var value = (self.shooting ? 1 : 0) + (self.moving ? 2 : 0) + (1 == ts ? 4 : 0);
      view.setUint8(1, value);
      view.setFloat32(2, self.moveDirection);
      view.setFloat32(6, self.aimDirection);
      view.setInt16(10, smHeight || 0);
      view.setFloat32(12, self.aimDistance);
      res.send(view.buffer);
      ds = (new Date).getTime();
      array.push(ds);
      roles.push({
        turn : depth + 60 * (smHeight || 0) / 1E3,
        input : {
          shooting : self.shooting,
          moving : self.moving,
          aimDirection : self.aimDirection,
          moveDirection : self.moveDirection
        }
      });
      Ff = false;
    }
    if (screenSmallerThanEditor) {
      roles.push({
        turn : depth,
        input : {
          shooting : self.shooting,
          moving : self.moving,
          aimDirection : self.aimDirection,
          moveDirection : self.moveDirection
        }
      });
    }
  }
  function onMouseDown(touch) {
    if ((0 != _curr_idx || screenSmallerThanEditor) && (4 != type || !tmp)) {
      if (endX = touch.clientX, endY = touch.clientY, children[undefined]) {
        var code = Math.atan2(endY - window.innerHeight / 2, endX - window.innerWidth / 2);
        children[undefined].rotation = code;
        self.aimDirection = code;
        self.aimDistance = Math.sqrt(Math.pow(endY - window.innerHeight / 2, 2) + Math.pow(endX - window.innerWidth / 2, 2)) / that.scale.x;
        if (1 == lg) {
          self.moveDirection = code + (shadow ? Math.PI : 0);
          self.moving = true;
        }
        if (enable) {
          self.moveDirection = self.aimDirection;
          self.moving = self.aimDistance > 4 * scale;
        }
        var now = (new Date).getTime();
        if (now - lastUpdate > 20) {
          setTimeout();
          lastUpdate = now;
        } else {
          Ff = true;
        }
      }
      if (screenSmallerThanEditor) {
        var d = getDistance();
        document.getElementById("defuse-editor-position").innerHTML = parseInt(d.x).toFixed(2) + " " + parseInt(d.y).toFixed(2);
      }
    }
  }
  function getCoordsFromEvent(e) {
    return Math.pow(e.clientX - node.x, 2) + Math.pow(e.clientY - node.y, 2) <= Math.pow(node.width, 2);
  }
  function mousemove(evt) {
    if (0 != _curr_idx) {
      if (j) {
        document.getElementById("respawn" + (2 == type ? "-gm2" : "")).style.display = "block";
      } else {
        var now = (new Date).getTime();
        var w = 1 * ratio;
        if ("touchend" === evt.type || "touchcancel" === evt.type) {
          var i = 0;
          for (; i < evt.changedTouches.length; i++) {
            var e = evt.changedTouches[i];
            if (touch && touch.identifier == e.identifier ? (self.moving = false, setTimeout(), _this.visible = false, c.visible = false, touch = null) : pos && pos.identifier == e.identifier ? (self.shooting = false, setTimeout(), p.visible = false, point.visible = false, pos = null) : touchObj && touchObj.identifier == e.identifier && (mySeries = false, touchObj = null), event && e.identifier == event.identifier && now - event.time < 250) {
              if ((l = Math.sqrt(Math.pow(event.clientX - e.clientX, 2) + Math.pow(event.clientY - e.clientY, 2))) < .2 * ratio) {
                if (t1 && now - t1.time < 250) {
                  if ((l = Math.sqrt(Math.pow(t1.clientX - e.clientX, 2) + Math.pow(t1.clientY - e.clientY, 2))) < .2 * ratio) {
                    var boxInput = self.aimDirection;
                    var locked_balance_JSBigInt = self.aimDistance;
                    self.aimDirection = Math.atan2(e.clientY - window.innerHeight / 2, e.clientX - window.innerWidth / 2);
                    self.aimDistance = Math.sqrt(Math.pow(window.innerWidth / 2 - e.clientX, 2) + Math.pow(window.innerHeight / 2 - e.clientY, 2)) / that.scale.x;
                    sendSingleByte();
                    boxInput = self.aimDirection = boxInput;
                    locked_balance_JSBigInt = self.aimDistance = locked_balance_JSBigInt;
                  }
                }
                (t1 = {
                  clientX : e.clientX,
                  clientY : e.clientY,
                  identifier : e.identifier
                }).time = now;
              }
            }
          }
        } else {
          if ("touchstart" === evt.type) {
            i = 0;
            for (; i < evt.changedTouches.length; i++) {
              e = evt.changedTouches[i];
              if ((event = {
                clientX : e.clientX,
                clientY : e.clientY,
                identifier : e.identifier
              }).time = now, getCoordsFromEvent(e) && !self.shooting) {
                if ((now = (new Date).getTime()) - area > 200) {
                  emit();
                  area = now;
                } else {
                  mySeries = true;
                }
                if (3 == type) {
                  mySeries = true;
                  touchObj = {
                    clientX : e.clientX,
                    clientY : e.clientY,
                    identifier : e.identifier
                  };
                }
                event = null;
              } else {
                if (e.clientX <= window.innerWidth / 2) {
                  touch = {
                    clientX : e.clientX,
                    clientY : e.clientY,
                    identifier : e.identifier
                  };
                  _this.width = w;
                  _this.height = w;
                  _this.x = touch.clientX;
                  _this.y = touch.clientY;
                  c.width = w / 2;
                  c.height = w / 2;
                  c.x = touch.clientX;
                  c.y = touch.clientY;
                  _this.visible = true;
                  c.visible = true;
                } else {
                  pos = {
                    clientX : e.clientX,
                    clientY : e.clientY,
                    identifier : e.identifier
                  };
                  p.width = w;
                  p.height = w;
                  p.x = pos.clientX;
                  p.y = pos.clientY;
                  point.width = w / 2;
                  point.height = w / 2;
                  point.x = pos.clientX;
                  point.y = pos.clientY;
                  p.visible = true;
                  point.visible = true;
                }
              }
            }
          } else {
            if ("touchmove" === evt.type) {
              i = 0;
              for (; i < evt.changedTouches.length; i++) {
                e = evt.changedTouches[i];
                if (touch && e.identifier == touch.identifier && children[undefined]) {
                  if (t0 = {
                    clientX : e.clientX,
                    clientY : e.clientY,
                    identifier : e.identifier
                  }, c.x = t0.clientX, c.y = t0.clientY, (l = Math.sqrt(Math.pow(t0.clientX - touch.clientX, 2) + Math.pow(t0.clientY - touch.clientY, 2))) >= .2 * w) {
                    var r = Math.atan2(t0.clientY - touch.clientY, t0.clientX - touch.clientX);
                    self.moveDirection = r;
                    self.moving = true;
                    if ((now = (new Date).getTime()) - lastUpdate > 20) {
                      setTimeout();
                      lastUpdate = now;
                    } else {
                      Ff = true;
                    }
                    if (l >= .4 * w) {
                      c.x = _this.x + Math.cos(r) * w * .4;
                      c.y = _this.y + Math.sin(r) * w * .4;
                      touch.clientX = e.clientX + Math.cos(r + Math.PI) * Math.min(l, w);
                      touch.clientY = e.clientY + Math.sin(r + Math.PI) * Math.min(l, w);
                      _this.x = touch.clientX;
                      _this.y = touch.clientY;
                    }
                  }
                } else {
                  if (pos && e.identifier == pos.identifier && children[undefined]) {
                    evt = {
                      clientX : e.clientX,
                      clientY : e.clientY,
                      identifier : e.identifier
                    };
                    point.x = evt.clientX;
                    point.y = evt.clientY;
                    var l = Math.sqrt(Math.pow(evt.clientX - pos.clientX, 2) + Math.pow(evt.clientY - pos.clientY, 2));
                    r = Math.atan2(evt.clientY - pos.clientY, evt.clientX - pos.clientX);
                    self.aimDirection = r;
                    children[undefined].rotation = r;
                    self.shooting = true;
                    if ((now = (new Date).getTime()) - lastUpdate > 20) {
                      setTimeout();
                      lastUpdate = now;
                    } else {
                      Ff = true;
                    }
                    if (l >= .4 * w) {
                      point.x = p.x + Math.cos(r) * w * .4;
                      point.y = p.y + Math.sin(r) * w * .4;
                    }
                  }
                }
              }
            }
          }
        }
        evt.preventDefault();
      }
    }
  }
  function pack(length, value) {
    var view = new DataView(new ArrayBuffer(2 + (length ? 4 : 0)));
    view.setUint8(0, 12);
    view.setUint8(1, value ? 1 : 0);
    if (length) {
      view.setInt32(2, length);
    }
    res.send(view.buffer);
  }
  function apply($) {
    if (unconditional || !tmp || expressInstallIsActive || 2 == type || 4 == type || (document.getElementById("respawn").style.display = "block"), (0 != _curr_idx || screenSmallerThanEditor) && (4 != type || !tmp)) {
      if (2 == type && tmp) {
        pack();
      } else {
        if (0 == $.button) {
          self.shooting = true;
          setTimeout();
          opts.visible = false;
          $.preventDefault();
        } else {
          if (2 == $.button && !self.shooting) {
            var right = (new Date).getTime();
            if (right - area > 200) {
              emit();
              area = right;
            } else {
              mySeries = true;
            }
            if (3 == type) {
              mySeries = true;
            }
          }
        }
        window.focus();
      }
    }
  }
  function move(event) {
    if ((0 != _curr_idx || screenSmallerThanEditor) && (4 != type || !tmp)) {
      if (0 == event.button) {
        if (self.shooting = false, setTimeout(), opts.visible = !!target, screenSmallerThanEditor) {
          var id;
          for (id in target = null, opts.visible = false, list) {
            var node = list[id];
            var d = getDistance();
            if (d.x = parseInt(d.x), d.y = parseInt(d.y), node.position.dst(d) < zoom) {
              var data = new DataView(new ArrayBuffer(9));
              return data.setInt32(1, node.dotId), data.setInt32(5, 0), void end(data);
            }
          }
        }
      } else {
        if (2 == event.button && 3 == type) {
          mySeries = false;
        }
      }
      0;
    }
  }
  function join() {
    if ((unconditional || children[undefined]) && 1 != lg) {
      if (of[0] || of[1] || of[2] || of[3]) {
        var deltaX = 0;
        var deltaY = 0;
        if (of[0]) {
          deltaY = deltaY - 1;
        } else {
          if (of[1]) {
            deltaY = deltaY + 1;
          }
        }
        if (of[2]) {
          deltaX = deltaX - 1;
        } else {
          if (of[3]) {
            deltaX = deltaX + 1;
          }
        }
        var rotation = Math.atan2(deltaY, deltaX);
        if (!(self.moving && self.moveDirection == rotation)) {
          self.moving = true;
          self.moveDirection = rotation;
          setTimeout();
        }
        if (unconditional) {
          j = 0;
        }
      } else {
        self.moving = false;
        setTimeout();
      }
    }
  }
  function handle(event) {
    if ((0 != _curr_idx || screenSmallerThanEditor) && (4 != type || !tmp)) {
      var s = "string" == typeof event.code && event.code.length > 0;
      var input = document.getElementById("chat-input");
      if (!(input && document.activeElement == input)) {
        if (s && "KeyW" == event.code || !s && 87 == event.keyCode || !flag && 38 == event.keyCode) {
          of[0] = true;
          join();
        } else {
          if (s && "KeyS" == event.code || !s && 83 == event.keyCode || !flag && 40 == event.keyCode) {
            of[1] = true;
            join();
          } else {
            if (s && "KeyA" == event.code || !s && 65 == event.keyCode || !flag && 37 == event.keyCode) {
              of[2] = true;
              join();
            } else {
              if (s && "KeyD" == event.code || !s && 68 == event.keyCode || !flag && 39 == event.keyCode) {
                of[3] = true;
                join();
              } else {
                if (s && "Space" == event.code || !s && 32 == event.keyCode) {
                  if (!df && !self.shooting) {
                    df = true;
                    var right = (new Date).getTime();
                    if (right - area > 200) {
                      emit();
                      area = right;
                    } else {
                      mySeries = true;
                    }
                    if (3 == type) {
                      mySeries = true;
                    }
                  }
                } else {
                  if (flag && 37 == event.keyCode) {
                    protoProps = true;
                  } else {
                    if (flag && 39 == event.keyCode) {
                      staticProps = true;
                    } else {
                      if (flag && 38 == event.keyCode) {
                        self.shooting = true;
                        setTimeout();
                        opts.visible = false;
                      } else {
                        if (s && "KeyE" == event.code || !s && 69 == event.keyCode) {
                          if (!err) {
                            sendSingleByte();
                          }
                        } else {
                          if (16 == event.keyCode) {
                            if (!err) {
                              sendSingleByte();
                            }
                          } else {
                            if (s && "Digit1" == event.code || !s && 49 == event.keyCode) {
                              show(0);
                            } else {
                              if (s && "Digit2" == event.code || !s && 50 == event.keyCode) {
                                show(1);
                              } else {
                                if (s && "Digit3" == event.code || !s && 51 == event.keyCode) {
                                  show(2);
                                } else {
                                  if (s && "Digit4" == event.code || !s && 52 == event.keyCode) {
                                    show(3);
                                  } else {
                                    if (s && "Digit5" == event.code || !s && 53 == event.keyCode) {
                                      show(4);
                                    } else {
                                      if (s && "Digit6" == event.code || !s && 54 == event.keyCode) {
                                        show(5);
                                      } else {
                                        if (s && "Digit7" == event.code || !s && 55 == event.keyCode) {
                                          show(6);
                                        } else {
                                          if (66 == event.keyCode) {
                                            if ((hiding = document.getElementById("xp-block")).style.opacity && 1 != hiding.style.opacity) {
                                              if (0 == hiding.style.opacity) {
                                                hiding.style.opacity = 1;
                                              } else {
                                                if (.5 == hiding.style.opacity) {
                                                  hiding.style.opacity = 0;
                                                }
                                              }
                                            } else {
                                              hiding.style.opacity = .5;
                                            }
                                          } else {
                                            if (76 == event.keyCode) {
                                              var hiding;
                                              if ((hiding = document.getElementById("leaderboard-block")).style.opacity && 1 != hiding.style.opacity) {
                                                if (0 == hiding.style.opacity) {
                                                  hiding.style.opacity = 1;
                                                } else {
                                                  if (.5 == hiding.style.opacity) {
                                                    hiding.style.opacity = 0;
                                                  }
                                                }
                                              } else {
                                                hiding.style.opacity = .5;
                                              }
                                            } else {
                                              if (73 == event.keyCode) {
                                                document.getElementById("settings-popup").style.display = "block" == document.getElementById("settings-popup").style.display ? "none" : "block";
                                              } else {
                                                if (9 == event.keyCode) {
                                                } else {
                                                  if (!(9 == event.keyCode || event.keyCode >= 65 && event.keyCode <= 90 || 60 == event.keyCode)) {
                                                    return;
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        if (!tmp) {
          event.preventDefault();
        }
      }
    }
  }
  function test(e) {
    var adjustHeight = 4 == type && !!tmp;
    if (0 != _curr_idx || screenSmallerThanEditor || adjustHeight) {
      var input = document.getElementById("chat-input");
      var s_start = input && document.activeElement == input;
      var h = "string" == typeof e.code && e.code.length > 0;
      if (adjustHeight) {
        if (13 == e.keyCode) {
          if (s_start) {
            if (input.value.length > 0) {
              sendNickname(input.value);
            }
            input.value = "";
            input.blur();
          } else {
            action();
          }
        }
      } else {
        if (s_start) {
          if (13 == e.keyCode) {
            if (input.value.length > 0) {
              sendNickname(input.value);
            }
            input.value = "";
            input.blur();
            document.getElementById("chat-block").classList.remove("typing");
          }
        } else {
          if (h && "KeyW" == e.code || !h && 87 == e.keyCode || !flag && 38 == e.keyCode) {
            of[0] = false;
            join();
          } else {
            if (h && "KeyS" == e.code || !h && 83 == e.keyCode || !flag && 40 == e.keyCode) {
              of[1] = false;
              join();
            } else {
              if (h && "KeyA" == e.code || !h && 65 == e.keyCode || !flag && 37 == e.keyCode) {
                of[2] = false;
                join();
              } else {
                if (h && "KeyD" == e.code || !h && 68 == e.keyCode || !flag && 39 == e.keyCode) {
                  of[3] = false;
                  join();
                } else {
                  if (h && "Space" == e.code || !h && 32 == e.keyCode) {
                    df = false;
                    if (3 == type) {
                      mySeries = false;
                    }
                  } else {
                    if (flag && 37 == e.keyCode) {
                      protoProps = false;
                    } else {
                      if (flag && 39 == e.keyCode) {
                        staticProps = false;
                      } else {
                        if (flag && 38 == e.keyCode) {
                          self.shooting = false;
                          setTimeout();
                          opts.visible = !!target;
                        } else {
                          if (flag && 40 == e.keyCode) {
                            if (!self.shooting) {
                              var right = (new Date).getTime();
                              if (right - area > 200) {
                                emit();
                                area = right;
                              } else {
                                mySeries = true;
                              }
                            }
                          } else {
                            if (h && "KeyC" == e.code || !h && 67 == e.keyCode) {
                              if (isActive) {
                                pf++;
                                enable = !enable;
                                generate();
                                self.moving = false;
                                setTimeout();
                                if (pf < 4) {
                                  fn("Move with mouse " + (enable ? "ENABLED" : "DISABLED") + " (shortcut: C)", 2E3);
                                }
                              }
                            } else {
                              if (unconditional && (h && "KeyJ" == e.code || !h && 74 == e.keyCode)) {
                                var zoomContainer = document.getElementById("xp-block");
                                zoomContainer.style.display = "block" == zoomContainer.style.display ? "none" : "block";
                                zoomContainer.getElementsByClassName("xp-bar")[0].style.display = "none";
                                zoomContainer.getElementsByClassName("text")[1].style.display = "none";
                                var fsHTML = "";
                                var j = 0;
                                for (; j < namesLength; j++) {
                                  var name = values[j + (fg >= 1 ? 1 : 0)];
                                  if (16252714 == name) {
                                    name = 13817893;
                                  }
                                  var label = call(name, .2);
                                  fsHTML = fsHTML + ('<div class="bar" id="map-control-bar-team-' + ((fg >= 1 ? 1 : 0) + j) + '" style="background: linear-gradient(to bottom, ' + isEmpty(name) + ", " + isEmpty(label) + ');"></div>');
                                }
                                document.getElementById("score-bars").innerHTML = fsHTML;
                              } else {
                                if (unconditional && (h && "KeyI" == e.code || !h && 73 == e.keyCode)) {
                                  var fpsDiv = document.getElementById("fps");
                                  fpsDiv.style.display = "block" == fpsDiv.style.display ? "none" : "block";
                                } else {
                                  if (unconditional && (h && "KeyO" == e.code || !h && 79 == e.keyCode)) {
                                    send(2);
                                  } else {
                                    if (unconditional && (h && "KeyR" == e.code || !h && 82 == e.keyCode)) {
                                      send(5);
                                    } else {
                                      if (unconditional && (h && "KeyT" == e.code || !h && 84 == e.keyCode)) {
                                        clearInterval(_td_alert);
                                        _td_alert = null;
                                      } else {
                                        if (unconditional && (h && "KeyY" == e.code || !h && 89 == e.keyCode)) {
                                          clearInterval(looker);
                                        } else {
                                          if (unconditional && (h && "KeyN" == e.code || !h && 78 == e.keyCode)) {
                                            send(6);
                                          } else {
                                            if (unconditional && (h && 77 == e.keyCode || !h && 77 == e.keyCode)) {
                                              if ("none" == canvas.style.transform) {
                                                document.getElementById("minimap").style.width = .375 * canvas.width + "px";
                                                document.getElementById("minimap").style.height = .375 * canvas.height + "px";
                                                canvas.style.transform = "scale(0.375)";
                                              } else {
                                                document.getElementById("minimap").style.width = canvas.width + "px";
                                                document.getElementById("minimap").style.height = canvas.height + "px";
                                                canvas.style.transform = "none";
                                              }
                                            } else {
                                              if (unconditional && (h && 70 == e.keyCode || !h && 70 == e.keyCode)) {
                                                var x = Math.min(window.innerWidth, window.innerHeight) - 32;
                                                document.getElementById("minimap").style.width = x + "px";
                                                document.getElementById("minimap").style.height = x / canvas.width * canvas.height + "px";
                                                canvas.style.transform = "scale(" + x / 256 + ")";
                                              } else {
                                                if (unconditional && (h && "KeyH" == e.code || !h && 72 == e.keyCode)) {
                                                  if (document.getElementById("admin-player-list")) {
                                                    document.body.removeChild(document.getElementById("admin-player-list"));
                                                  } else {
                                                    send(8);
                                                  }
                                                } else {
                                                  if (9 == e.keyCode) {
                                                    if (!(1 != type && 2 != type)) {
                                                      if (Jh) {
                                                        removeChildList();
                                                      } else {
                                                        removeChildList();
                                                        Jh = true;
                                                      }
                                                    }
                                                  } else {
                                                    if (13 == e.keyCode) {
                                                      action();
                                                    } else {
                                                      if ("KeyP" == e.code) {
                                                        fn("grid version = " + (Yf = (Yf + 1) % 2), 3E3);
                                                        generate();
                                                      } else {
                                                        if (!("KeyO" != e.code || screenSmallerThanEditor)) {
                                                          fn("interpolation = " + (MM = !MM), 3E3);
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      0;
    }
  }
  function action() {
    var input = document.getElementById("chat-input");
    if (!autoCompile && (1 == type || 2 == type || 4 == type || unconditional)) {
      if (!hasStyle && !isFilled) {
        return void write("Chat is disabled for anonymous players. Sign-in with an account to use the chat.", checked ? "info-dark" : "info");
      }
      check();
      document.getElementById("chat-block").classList.add("typing");
      document.getElementById("chat-history-full").scrollTop = document.getElementById("chat-history-full").scrollHeight;
      input.focus();
      of = [false, false, false, false];
      join();
      if (4 == type && document.getElementById("chat-block").classList.contains("gm-1v1-lobby")) {
        anime.timeline({
          targets : "#chat-input",
          delay : 200,
          duration : 0,
          easing : "linear",
          loop : 2
        }).add({
          targets : "#chat-input",
          backgroundColor : "#b4d9fc"
        }).add({
          targets : "#chat-input",
          backgroundColor : "rgba(180, 217, 252, 0)"
        });
      }
    }
  }
  function onInspectorMove(e) {
  }
  function generate() {
    renderer.resize(window.innerWidth, window.innerHeight);
    scaleFactor = s;
    radius = number;
    var yLen = window.innerWidth / window.innerHeight;
    if (scaleFactor < radius * yLen ? radius = scaleFactor / yLen : scaleFactor = radius * yLen, limit && (ratio = Math.min(getBabelRc().dpcm(), window.innerHeight / 6), scaleFactor = scaleFactor * .75, radius = radius * .75, node && (node.width = 1 * ratio, node.height = 1 * ratio, node.x = window.innerWidth - .75 * ratio, node.y = window.innerHeight - .75 * ratio, node.visible = true)), 0 != _curr_idx || screenSmallerThanEditor) {
      var pos = children[undefined] || children[j] || tmp;
      if (pos) {
        var y = pos.x - scaleFactor / 2;
        var top = pos.y - radius / 2;
        var scale = window.innerWidth / scaleFactor;
        var ratio = window.innerHeight / radius;
        that.setTransform(-y * scale, -top * ratio, scale, ratio, 0, 0, 0, 0, 0);
      }
      sprite.removeChildren();
      var width = 1 / scale;
      if (width <= 1) {
        var radius = Math.round(size / width) * width;
        if (radius <= 0) {
          radius = 1E-6;
        }
        var l = Math.floor(window.innerWidth / radius / scale) + 2;
        var s = Math.floor(window.innerHeight / radius / ratio) + 2;
        if (0 == Yf) {
          var i = 0;
          for (; i <= l; i++) {
            (node = new PIXI.Sprite(options.gridpixel)).width = 1 / scale;
            node.height = Math.min(height, s * radius);
            node.x = i * radius;
            node.y = 0;
            if (node.x <= width) {
              sprite.addChild(node);
            }
            if (0 != Ws || 0 != i && i != l && node.x != width) {
              node.tint = checked ? 2236962 : 14540253;
            } else {
              node.tint = 4473924;
            }
          }
          i = 0;
          for (; i <= s; i++) {
            var node;
            (node = new PIXI.Sprite(options.gridpixel)).width = Math.min(width, l * radius);
            node.height = 1 / ratio;
            node.x = 0;
            node.y = i * radius;
            if (node.y <= height) {
              sprite.addChild(node);
            }
            if (0 != Ws || 0 != i && i != s && node.y != height) {
              node.tint = checked ? 2236962 : 14540253;
            } else {
              node.tint = 4473924;
            }
          }
          var obj = sprite.children[0];
          sprite.removeChild(obj);
          sprite.addChild(obj);
        } else {
          if (1 == Yf) {
            var ctx = new PIXI.Graphics;
            i = 0;
            for (; i <= l; i++) {
              if (0 != Ws || 0 != i && i != l) {
                ctx.lineStyle(1 / scale / 2 / 2, checked ? 4473924 : 8947848);
              } else {
                ctx.lineStyle(1 / scale, checked ? 8947848 : 4473924);
              }
              ctx.moveTo(i * radius, 0).lineTo(i * radius, s * radius);
            }
            i = 0;
            for (; i <= s; i++) {
              if (0 != Ws || 0 != i && i != s) {
                ctx.lineStyle(1 / scale / 2 / 2, checked ? 4473924 : 8947848);
              } else {
                ctx.lineStyle(1 / scale, checked ? 8947848 : 4473924);
              }
              ctx.moveTo(0, i * radius).lineTo(l * radius, i * radius);
            }
            sprite.addChild(ctx);
          }
        }
      }
      if (0 == Ws) {
        node1.removeChildren();
      } else {
        if (1 == Ws) {
          node1.removeChildren();
          (ctx = new PIXI.Graphics).lineStyle(1 / scale, 4473924, 1, .5);
          ctx.moveTo(0, height / 2).lineTo(width / 4, 0).lineTo(3 * width / 4, 0).lineTo(width, height / 2).lineTo(3 * width / 4, height).lineTo(width / 4, height).lineTo(0, height / 2);
          node1.addChild(ctx);
        } else {
          if (2 == Ws) {
            var ctx;
            node1.removeChildren();
            (ctx = new PIXI.Graphics).lineStyle(1 / scale, 4473924, 1, .5);
            ctx.drawEllipse(width / 2, height / 2, width / 2, height / 2);
            node1.addChild(ctx);
          }
        }
      }
      i = 0;
      for (; i < element.children.length; i++) {
        if (element.children[i] instanceof PIXI.Text) {
          element.children[i].scale.set(1 / that.scale.x);
          element.children[i].style.fontSize = Math.round(window.innerHeight / 60);
        }
      }
      if (e) {
        o.removeChild(e);
      }
      if (enable) {
        (e = new PIXI.Sprite(options.shoot)).width = 4 * scale * 2 * that.scale.x;
        e.height = 4 * scale * 2 * that.scale.y;
        e.tint = checked ? 16777215 : 0;
        e.alpha = .1;
        e.anchor.set(.5);
        e.position.set(window.innerWidth / 2, window.innerHeight / 2);
        o.addChild(e);
      }
    }
  }
  function handler(data, path, name) {
    var target = new PIXI.Text(name, {
      fontFamily : "Arial",
      fontSize : 26,
      fontWeight : 700,
      fill : checked ? 16777215 : call($(undefined), -.7),
      align : "center"
    });
    target.x = data;
    target.y = path;
    target.anchor.set(.5);
    target.scale.set(.03);
    container.addChild(target);
    anime({
      targets : target,
      y : path - 5,
      alpha : {
        value : 0,
        easing : "easeInQuad"
      },
      easing : "linear",
      duration : 1E3,
      complete : function(cell) {
        return function() {
          container.removeChild(cell);
        };
      }(target)
    });
  }
  function programV() {
  }
  function loadTileImage(callback) {
    callback;
  }
  function setInterval(timeout) {
    for (; timeout < 2 * Math.PI;) {
      timeout = timeout + 2 * Math.PI;
    }
    for (; timeout > 2 * Math.PI;) {
      timeout = timeout - 2 * Math.PI;
    }
    return timeout;
  }
  function Grid(x, y, size) {
    this.gridSize = size;
    var cell_amount = Math.ceil((x + 1) / size);
    var eleSize = Math.ceil((y + 1) / size);
    this.grid = [];
    var i = 0;
    for (; i < cell_amount; i++) {
      this.grid[i] = [];
      var x = 0;
      for (; x < eleSize; x++) {
        this.grid[i][x] = new Set;
      }
    }
  }
  function remove(n, i, p, x) {
    var t = 0;
    var reconnectTryTimes = Math.abs(p - n);
    var maxReconnectTryTimes = Math.abs(x - i);
    var d = 2 * reconnectTryTimes;
    var s = 2 * maxReconnectTryTimes;
    var repeat = n < p ? 1 : -1;
    var appleClass = i < x ? 1 : -1;
    var j = n;
    var attr = i;
    var ret = [];
    if (reconnectTryTimes >= maxReconnectTryTimes) {
      for (; ret.push(j, attr), j != p;) {
        j = j + repeat;
        if ((t = t + s) > reconnectTryTimes) {
          attr = attr + appleClass;
          t = t - d;
        }
      }
    } else {
      for (; ret.push(j, attr), attr != x;) {
        attr = attr + appleClass;
        if ((t = t + d) > maxReconnectTryTimes) {
          j = j + repeat;
          t = t - s;
        }
      }
    }
    return ret;
  }
  function error(point, options, e, value, str) {
    var x = (e.x - point.x) * (options.x - point.x) + (e.y - point.y) * (options.y - point.y);
    var result = point.dst(options);
    if ((x = x / (result * result)) < 0) {
      var m = new PIXI.Point(point.x, point.y);
    } else {
      if (x > 1) {
        m = new PIXI.Point(options.x, options.y);
      } else {
        var value = (new PIXI.Point(options.x, options.y)).sub(point);
        m = (new PIXI.Point(point.x, point.y)).add(value.scl(x));
      }
    }
    return (result = m.dst(e)) < value ? (str.copy(m), str.sub(e).nor(), value - result) : 1 / 0;
  }
  function rotate(self, reverse) {
    var c = new PIXI.Point;
    self.lastX = self.x;
    self.lastY = self.y;
    var i = reverse ? (1 + .3 * source[0] / 8) * (1 == k && err ? 1.5 : 1) : 1;
    if (self.moving) {
      self.sx += Math.cos(self.moveDirection) * duration * i * 1 / 60;
      self.sy += Math.sin(self.moveDirection) * duration * i * 1 / 60;
    } else {
      var h = Math.sqrt(self.sx * self.sx + self.sy * self.sy);
      var bearingRad = Math.atan2(self.sy, self.sx) + Math.PI;
      self.sx += Math.cos(bearingRad) * Math.min(h, timeoutSecs * i * 1 / 60);
      self.sy += Math.sin(bearingRad) * Math.min(h, timeoutSecs * i * 1 / 60);
    }
    var currPercent = Math.sqrt(self.sx * self.sx + self.sy * self.sy);
    var progress = t * i;
    if (currPercent > progress) {
      bearingRad = Math.atan2(self.sy, self.sx);
      self.sx = Math.cos(bearingRad) * progress;
      self.sy = Math.sin(bearingRad) * progress;
    }
    if (self.x += 1 * self.sx / 60, self.y += 1 * self.sy / 60, subtract(self.position), self.moving && (fg >= 1 || 2 == type) && 1 != results[self.playerId]) {
      var type;
      for (type in map) {
        var obj = map[type];
        if (1 == obj.owner) {
          var err = error(obj.dot1.position, obj.dot2.position, self.position, scale / zoomScale * newZoom, c);
          if (isFinite(err)) {
            self.x = self.lastX + c.x * h * -.25;
            self.y = self.lastY + c.y * h * -.25;
            break;
          }
        }
      }
    }
  }
  function getPosition(e, data, position) {
    return (e.x - data.x) * (position.y - data.y) - (e.y - data.y) * (position.x - data.x);
  }
  function tick(self, data) {
    if (self.position.dst(data.position) < zoom + dd && data.shield && 1 == data.shield.state && self.lastPosition) {
      var a = function(self, e, args, data) {
        var w = e.x - self.x;
        var h = e.y - self.y;
        var x = args.x - self.x;
        var y = args.y - self.y;
        var magr = w * w + h * h;
        var b_2a = (w * x + h * y) / magr;
        var estimatedOptimalJitterTolerance = b_2a * b_2a - (x * x + y * y - data * data) / magr;
        if (estimatedOptimalJitterTolerance < 0) {
          return null;
        }
        var f = Math.sqrt(estimatedOptimalJitterTolerance);
        var size = -b_2a + f;
        var i = -b_2a - f;
        var m = new PIXI.Point(self.x - w * size, self.y - h * size);
        return m.dst(self) <= self.dst(e) ? m : 0 == estimatedOptimalJitterTolerance ? (console.error("error getCircleSegmentIntersectionPoint", self, e, args, data), null) : (m.set(self.x - w * i, self.y - h * i), m);
      }(self.lastPosition, self.position, data.position, zoom + dd);
      if (a) {
        var p = self.position.cpy().sub(self.lastPosition);
        var cmd = data.position.cpy().sub(a).nor();
        var args = p.cpy().sub(cmd.cpy().scl(2 * p.dot(cmd)));
        var ccRE = self.position.cpy();
        self.position.set(a.x, a.y);
        self.position.add(args.nor().scl(a.dst(ccRE)));
        var verticalrailid = Math.sqrt(self.sx * self.sx + self.sy * self.sy);
        return args.nor().scl(verticalrailid), self.sx = args.x, self.sy = args.y, is && (self.rotation = Math.atan2(self.sy, self.sx)), true;
      }
    }
    return false;
  }
  function onMouseMove(self, event) {
    var b = function(point, bounds, p, monthWeeks, h) {
      var x = (p.x - point.x) * (bounds.x - point.x) + (p.y - point.y) * (bounds.y - point.y);
      var result = point.dst(bounds);
      if ((x = x / (result * result)) < 0 || x > 1) {
        return 1 / 0;
      }
      var value = (new PIXI.Point(bounds.x, bounds.y)).sub(point);
      var a = (new PIXI.Point(point.x, point.y)).add(value.scl(x));
      return (result = a.dst(p)) < monthWeeks ? (h.copy(p), h.sub(a).nor(), result) : 1 / 0;
    }(event.dot1.position, event.dot2.position, self.position, dd, value);
    if (isFinite(b) && self.lastPosition) {
      var document = self.position.cpy().sub(self.lastPosition);
      if (Math.sign(getPosition(self.position, event.dot1.position, event.dot2.position)) != Math.sign(getPosition(self.lastPosition, event.dot1.position, event.dot2.position)) && value.scl(-1), document.dot(value) < 0) {
        var p = event.dot2.position.cpy().sub(event.dot1.position).rotate90(1).nor();
        var args = document.cpy().sub(p.cpy().scl(2 * document.dot(p)));
        self.position.sub(document.scl(b / zoom)).add(args.cpy().scl(zoom - b / zoom));
        var verticalrailid = Math.sqrt(self.sx * self.sx + self.sy * self.sy);
        return args.nor().scl(verticalrailid), self.sx = args.x, self.sy = args.y, is && (self.rotation = Math.atan2(self.sy, self.sx)), true;
      }
    }
    return false;
  }
  function next(store, s) {
    var c = new PIXI.Point;
    if (store) {
      var key;
      for (key in children) {
        if (key != undefined) {
          var self = children[key];
          if (self.lastX = self.x, self.lastY = self.y, self.x += 1 * self.sx / 60, self.y += 1 * self.sy / 60, subtract(self.position), 2 == type && (0 != self.sx || 0 != self.sy)) {
            var type;
            for (type in map) {
              if (1 == (data = map[type]).owner && results[key] != data.owner) {
                var value = error(data.dot1.position, data.dot2.position, self.position, scale / zoomScale * newZoom, c);
                if (isFinite(value)) {
                  self.x = self.lastX + c.x * h * -.25;
                  self.y = self.lastY + c.y * h * -.25;
                  break;
                }
              }
            }
          }
        }
      }
    }
    if (s) {
      var egressPerm = {};
      var i;
      for (i in items) {
        items[i].lifetime--;
        if (items[i].lifetime <= 0) {
          egressPerm[i] = true;
        } else {
          items[i].lastPosition = items[i].position.cpy();
          items[i].x += 1 * items[i].sx / 60;
          items[i].y += 1 * items[i].sy / 60;
          if (!items[i].endoflife && items[i].lifetime <= 20) {
            items[i].endoflife = true;
            anime({
              targets : items[i],
              alpha : 0,
              width : 1.25 * items[i].width,
              height : 1.25 * items[i].height,
              duration : 1E3 / 3,
              easing : "easeInCubic"
            });
          }
        }
      }
      for (i in egressPerm) {
        parent.removeChild(items[i]);
        delete items[i];
      }
      for (i in items) {
        if (!((c = items[i]).initialTurn >= depth)) {
          if (_) {
            var raw = _.getAllInRange(c.position, 0, 0);
            var i = 0;
            for (; i < raw.length; i++) {
              if ((value = raw[i]).owner != c.owner && tick(c, value)) {
                break;
              }
            }
          } else {
            for (i in list) {
              if ((value = list[i]).owner != c.owner && tick(c, value)) {
                break;
              }
            }
          }
        }
      }
      g: for (i in items) {
        var c = items[i];
        if ($scope) {
          raw = $scope.getAllInRange(c.position, 0, 0);
          i = 0;
          for (; i < raw.length; i++) {
            if ((data = raw[i]).owner != c.owner && onMouseMove(c, data)) {
              continue g;
            }
          }
        } else {
          for (i in map) {
            var data;
            if ((data = map[i]).owner != c.owner && onMouseMove(c, data)) {
              continue g;
            }
          }
        }
      }
    }
  }
  function print(s) {
    var i = 0;
    for (; i < s.lines.length; i++) {
      var node = s.lines[i];
      if (node.leftZoneId && nodes[node.leftZoneId] || node.rightZoneId && nodes[node.rightZoneId]) {
        return true;
      }
    }
    return false;
  }
  function loop(imm8s) {
    var s = (new Date).getTime();
    if (_curr_idx > 0 || screenSmallerThanEditor) {
      depth++;
      var tagNotFound = false;
      for (; html.length > 0 && html[0].turn <= depth;) {
        link(html[0].dv);
        tagNotFound = true;
        html.splice(0, 1);
      }
      if (next(!tagNotFound && (2 != type || 1 != to), true), tmp) {
        if (!tagNotFound) {
          if (children[undefined] && !children[undefined].visible) {
            rotate(children[undefined], true);
          }
        }
      } else {
        for (; roles.length > 0 && roles[0].turn <= depth;) {
          if (children[undefined]) {
            children[undefined].shooting = roles[0].input.shooting;
            children[undefined].moving = roles[0].input.moving;
            children[undefined].aimDirection = roles[0].input.aimDirection;
            children[undefined].moveDirection = roles[0].input.moveDirection;
          }
          roles.splice(0, 1);
        }
        if (!(tagNotFound || d8NotBuilt || err && 5 == k || 2 == type && 1 == to || 4 == type && depth < 300)) {
          rotate(children[undefined], true);
        }
      }
    }
    var widgetToFocus = 3 == type && children[undefined];
    var manifestURL;
    for (manifestURL in list) {
      var data = list[manifestURL];
      if (data.shield) {
        var target = data.shield;
        var G = widgetToFocus && data.owner != undefined && data.owner != j && data.position.dst2(children[undefined].position) <= 6.25;
        if (0 == target.state && target.lastAppearTurn <= depth - 300 && print(data) && !G) {
          if (target.width = 2 * zoom * 1.709089011247097, target.height = 2 * zoom * 1.709089011247097, data.dotBlastAnim) {
            try {
              data.dotBlastAnim.pause();
            } catch (g) {
            }
            data.dotBlastAnim = null;
          }
          if (isHoveringTopPart) {
            target.alpha = 1;
          } else {
            data.shieldAppearAnim = anime({
              targets : target,
              alpha : 1,
              duration : 250,
              easing : "linear",
              complete : function(a) {
                return function() {
                  if (!(0 != a.state || data.dotBlastAnim)) {
                    a.alpha = 0;
                  }
                  data.shieldAppearAnim = null;
                };
              }(target)
            });
          }
          target.state = 1;
          target.lastAppearTurn = data.creationTurn + 300 * Math.floor((depth - data.creationTurn) / 300);
        }
        if (1 == target.state && depth >= target.lastAppearTurn + 300 * target.appearPercent && target.appearPercent < 1) {
          if (isHoveringTopPart) {
            target.alpha = 0;
          } else {
            anime({
              targets : target,
              alpha : 0,
              duration : 250,
              easing : "linear"
            });
          }
          target.state = 0;
        } else {
          if (1 == target.state && G) {
            target.alpha = 0;
            target.state = 0;
            target.lastAppearTurn = 0;
            exec(data);
          }
        }
      }
    }
    if (k >= 0) {
      interval = interval + 100 / (60 * urlContentRequests[k]);
      if (!err) {
        debug();
      }
    }
    s = (new Date).getTime();
    if (Ff && s - ds >= 20 ? setTimeout() : flag && (protoProps || staticProps) && children[undefined] && (protoProps && (self.aimDirection -= .05), staticProps && (self.aimDirection += .05), children[undefined].rotation = self.aimDirection, setTimeout()), (!tmp || unconditional) && s - ds > 500 && setTimeout(), mySeries && s - area > 200 && (emit(), area = s, 3 == type && (mySeries = true)), 2 == type && currentFrame > 0 && (4 == to && currentFrame > 20 && currentFrame - imm8s / 1E3 <= 20 && (document.getElementById("countdown-value").className = 
    "animated pulse huge"), 3 == to & currentFrame > .5 && currentFrame - imm8s / 1E3 <= .5 && getUportQRDisplay(), currentFrame = currentFrame - imm8s / 1E3, restore(), self.moving && !tmp && (2 == id && 4 == to || 3 == id && 2 == to))) {
      var i = 0;
      for (; i < data.length; i++) {
        if (4 != to || data[i].progress.visible) {
          if (Math.sqrt(Math.pow(data[i].x - children[undefined].x, 2) + Math.pow(data[i].y - children[undefined].y, 2)) < data[i].radius) {
            fn(2 == id ? "Stay still to defuse the bomb" : "Stay still to plant the bomb", 100);
          }
        }
      }
    }
  }
  function random(value, low, high) {
    var B_lat = value * Math.PI * 2 * low;
    var d_lon = value * (2 * Math.PI * high + Math.PI / 2);
    return Math.sin(B_lat) * Math.cos(d_lon);
  }
  function isCenterAnchor(n) {
    return n * (2 - n);
  }
  function draw(scale) {
    var currentLast = performance.now();
    var value = lastCap ? currentLast - lastCap : 0;
    lastCap = currentLast;
    var transform;
    var t;
    var TopLeftTile;
    var opt = children[j] || children[undefined] || tmp;
    if (opt) {
      var p = {
        x : opt.x,
        y : opt.y
      };
      if (tmp && depth - last_depth <= 90) {
        p = tmp;
      } else {
        if (tmp && depth - last_depth > 90 && depth - last_depth < 120) {
          var s2 = (depth - last_depth - 90) / 30;
          p = {
            x : tmp.x * (1 - s2) + opt.x * s2,
            y : tmp.y * (1 - s2) + opt.y * s2
          };
        }
      }
      if (MM) {
        var e = {
          x : p.x,
          y : p.y
        };
        if (me) {
          p.x = p.x * scale + me.x * (1 - scale);
          p.y = p.y * scale + me.y * (1 - scale);
        }
        me = e;
      }
      var yx = p.x - scaleFactor / 2;
      var totalHits = p.y - radius / 2;
      var factor = 0;
      var filedIndex = 0;
      if (xg) {
        var timeSubmittedDiff = (new Date).getTime() - duedate;
        if (timeSubmittedDiff > 1E3) {
          xg = false;
          that.rotation = 0;
        } else {
          var lower = timeSubmittedDiff / 1E3;
          factor = 1 * random(lower, Math.PI, Math.PI / 2) * isCenterAnchor(1 - lower);
          filedIndex = 1 * random(lower, .33 * Math.PI, .66 * Math.PI) * isCenterAnchor(1 - lower);
        }
      }
      if (that.position.set((-yx + factor) * that.scale.x, (-totalHits + filedIndex) * that.scale.y), sprite.position.set(Math.floor(yx / size) * size, Math.floor(totalHits / size) * size), sprite.x < 0 && (sprite.x = 0), sprite.y < 0 && (sprite.y = 0), sprite.x + sprite.width > width && (sprite.x = width - sprite.width), sprite.y + sprite.height > height && (sprite.y = height - sprite.height), 0 == Yf) {
        var h = 1 / that.scale.x;
        var sy = that.position.x % 1 * h;
        var transformY = that.position.y % 1 * h;
        sprite.position.x = Math.round(sprite.position.x / h) * h - sy + h / 2 * 0;
        sprite.position.y = Math.round(sprite.position.y / h) * h - transformY + h / 2 * 0;
      }
      var d = getDistance(p);
      if (opts && target) {
        t = target;
        TopLeftTile = d;
        (transform = opts).rotation = Math.atan2(parseInt(TopLeftTile.y) - t.y, parseInt(TopLeftTile.x) - t.x);
        transform.x = (t.x + Math.cos(transform.rotation) * (.9 * t.size) + parseInt(TopLeftTile.x) - Math.cos(transform.rotation) * (.9 * item.width / 2)) / 2;
        transform.y = (t.y + Math.sin(transform.rotation) * (.9 * t.size) + parseInt(TopLeftTile.y) - Math.sin(transform.rotation) * (.9 * item.width / 2)) / 2;
        transform.width = Math.sqrt(Math.pow(t.x - parseInt(TopLeftTile.x), 2) + Math.pow(t.y - parseInt(TopLeftTile.y), 2)) - .9 * (t.size + item.width / 2);
        var dn1n2 = target.position.dst(d);
        opts.visible = !tmp && !self.shooting && dn1n2 < safety;
        opts.height = dn1n2 > .8 * safety ? (1 - dn1n2 / safety) / .2 * h : h;
      }
      item.visible = !tmp && !self.shooting;
      if (item.visible) {
        item.position.set(parseInt(d.x), parseInt(d.y));
      }
    }
    if (MM) {
      var i;
      for (i in children) {
        (e = children[i]).realX = e.x;
        e.realY = e.y;
        if (e.lastVisualX) {
          e.x = e.x * scale + e.lastVisualX * (1 - scale);
          e.y = e.y * scale + e.lastVisualY * (1 - scale);
        }
        e.lastVisualX = e.realX;
        e.lastVisualY = e.realY;
      }
      for (i in items) {
        (e = items[i]).realX = e.x;
        e.realY = e.y;
        if (e.lastVisualX) {
          e.x = e.x * scale + e.lastVisualX * (1 - scale);
          e.y = e.y * scale + e.lastVisualY * (1 - scale);
        }
        e.lastVisualX = e.realX;
        e.lastVisualY = e.realY;
      }
    }
    for (i in children) {
      var e = children[i];
      var j = 0;
      for (; j < e.rotors.length; j++) {
        var entity = e.rotors[j];
        if (entity.noRotation ? entity.sprite.rotation = -e.rotation : 0 != entity.speed && (entity.sprite.baseRotation -= entity.speed * value / 1E3, entity.fixedRotation ? entity.sprite.rotation = entity.sprite.baseRotation : entity.sprite.rotation = entity.sprite.baseRotation - e.rotation), 1 == entity.visibility) {
          var newVal = i == undefined ? children[i].moving : 0 != children[i].sx || 0 != children[i].sy;
          entity.sprite.visible = newVal;
          if (on && i != undefined) {
            children[i].usernameText.visible = newVal;
            if (children[i].badge) {
              children[i].badge.visible = newVal;
            }
          }
        } else {
          if (2 == entity.visibility) {
            newVal = i == undefined ? children[i].moving : 0 != children[i].sx || 0 != children[i].sy;
            entity.sprite.visible = !newVal;
          }
        }
      }
    }
    for (i in children) {
      children[i].shield.position.set(children[i].position.x, children[i].position.y);
      children[i].usernameText.position.set(children[i].position.x, children[i].position.y - 1.3 * scale);
      if (children[i].badge) {
        children[i].badge.position.set(children[i].position.x - children[i].usernameText.width / 2 - children[i].badge.width / 2 - .5 * scale, children[i].usernameText.y);
      }
    }
    if (children[undefined] && depth > 300 && (children[undefined].usernameText.alpha = depth > 360 ? 0 : 1 - (depth - 300) / 60, children[undefined].badge && (children[undefined].badge.alpha = children[undefined].usernameText.alpha)), 1 != type && 2 != type || function() {
      if (Jh) {
        var i;
        for (i in children) {
          if (results[i] == id) {
            var s = false;
            var key = 0;
            for (; key < a.length; key++) {
              if (a[key].playerId == i) {
                s = true;
                break;
              }
            }
            if (!s) {
              var p = new PIXI.Sprite(options.marker2);
              p.width = scale;
              p.height = p.width / p.texture.width * p.texture.height;
              p.anchor.set(.5);
              p.tint = $(i);
              p.playerId = i;
              d.addChild(p);
              a.push(p);
              var h = new PIXI.Text(params[i] ? params[i] : "", {
                fontFamily : "Arial",
                fontSize : Math.round(window.innerHeight / 60),
                fill : checked ? 16777215 : 0,
                align : "center"
              });
              h.anchor.set(.5);
              h.scale.set(1 / that.scale.x);
              p.playerText = h;
              d.addChild(h);
            }
          }
        }
        key = 0;
        for (; key < a.length; key++) {
          var me = a[key];
          var layout = children[me.playerId];
          if (layout) {
            var el = that.localTransform.apply(layout.position, new PIXI.Point);
            if (el.x < 0 || el.y < 0 || el.x > window.innerWidth || el.y > window.innerHeight) {
              var bounds = rect(el);
              if (bounds) {
                me.visible = true;
                me.playerText.visible = true;
                that.localTransform.applyInverse(new PIXI.Point(bounds.x, bounds.y), me.position);
                me.rotation = Math.atan2(el.y - window.innerHeight / 2, el.x - window.innerWidth / 2);
                if (0 == bounds.s) {
                  me.x -= me.width / 2;
                  me.playerText.x = me.x - me.width / 2 - me.playerText.width / 2;
                  me.playerText.y = me.y + Math.sin(me.rotation + Math.PI) * me.width * 1.2;
                } else {
                  if (1 == bounds.s) {
                    me.y += me.height / 2;
                    me.playerText.x = me.x + Math.cos(me.rotation + Math.PI) * me.height * 1.2;
                    me.playerText.y = me.y + me.height + me.playerText.height / 2;
                  } else {
                    if (2 == bounds.s) {
                      me.x += me.width / 2;
                      me.playerText.x = me.x + me.width / 2 + me.playerText.width / 2;
                      me.playerText.y = me.y + Math.sin(me.rotation + Math.PI) * me.width * 1.2;
                    } else {
                      me.y -= me.height / 2;
                      me.playerText.x = me.x + Math.cos(me.rotation + Math.PI) * me.height * 1.2;
                      me.playerText.y = me.y - me.height - me.playerText.height / 2;
                    }
                  }
                }
              }
            } else {
              me.visible = false;
              me.playerText.visible = false;
            }
          } else {
            d.removeChild(a[key].playerText);
            d.removeChild(a[key]);
            a.splice(key, 1);
            key--;
          }
        }
      }
    }(), renderer.render(that), renderer.render(child, void 0, false), MM) {
      for (i in children) {
        (e = children[i]).x = e.realX;
        e.y = e.realY;
      }
      for (i in items) {
        var e;
        (e = items[i]).x = e.realX;
        e.y = e.realY;
      }
    }
    if (limit || enable) {
      renderer.render(o, void 0, false);
    }
    if (label) {
      renderer.render(label, void 0, false);
    }
    if (_curr_idx > 0 && !tmp && (new Date).getTime() - Tc > 1E3) {
      d8NotBuilt = true;
      document.getElementById("internet-issue").style.display = "block";
    } else {
      if (d8NotBuilt) {
        document.getElementById("internet-issue").style.display = "none";
        d8NotBuilt = false;
      }
    }
    if ((0 == type || 3 == type) && x < 3 && depth >= 600 && !unconditional) {
      if (cM) {
        if (!hM && depth >= 1800) {
          fn("Level up by enclosing big areas with your towers", 100);
        } else {
          if (current >= 1 && !withinLowerBound) {
            fn("Upgrade your copter! " + (limit ? "Tap" : "Click") + ' a <img src="img/plus-4-64.png">', 100);
          }
        }
      } else {
        fn(limit ? "Build a tower by pressing the BUILD button" : "Build a tower with right-click or SPACE key", 100);
      }
    }
  }
  function scrollTo(y, value) {
    document.getElementById("fps").textContent = "server: " + base + " fps: " + Math.round(y) + " ping: " + Math.round(smHeight);
    if (value) {
      console.log("panic: simulation is too late, dropping updates");
      MainLoop.resetFrameDelta();
      if (!screenSmallerThanEditor) {
        depth = bottom;
      }
    }
    if (depth > max_depth) {
      max_depth = max_depth + (++VM < 10 ? 600 : 3600);
      Math.round(y);
      Math.round(smHeight);
    }
    isHoveringTopPart = y < 30;
  }
  function format(user) {
    if (!isFilled) {
      var contact = user.getBasicProfile();
      hasStyle = true;
      body = user.getAuthResponse().id_token;
      service_url = contact.getImageUrl();
      hide();
      if (!((email = contact.getEmail()).endsWith("@gmail.com") || email.endsWith("@googlemail.com") || email.endsWith("@icloud.com") || email.endsWith("@hotmail.com") || email.endsWith("@yahoo.com"))) {
        document.getElementById("account-warning").style.display = "block";
      }
    }
  }
  function logout() {
    if (path = null, "undefined" != typeof Storage) {
      try {
        localStorage.removeItem("sessionId");
      } catch (conv_reverse_sort) {
        console.log(conv_reverse_sort);
      }
    }
  }
  function startCameraAsync() {
    gapi.auth2.getAuthInstance().signOut().then(function() {
      console.log("User signed out from google.");
      hasStyle = false;
      logout();
      document.getElementById("account-warning").style.display = "none";
    });
  }
  function checkLoginStatus(response) {
    console.log("Facebook login status", response);
    if (!hasStyle) {
      if ("connected" === response.status) {
        isFilled = true;
        payload = response.authResponse.accessToken;
        FB.api("/me?fields=picture,email&redirect=false", function(data) {
          if (data && data.picture && data.picture.data) {
            service_url = data.picture.data.url;
          }
          if (data && data.email) {
            email = data.email;
          }
          hide();
        });
      } else {
        if (isFilled) {
          logout();
        }
        isFilled = false;
      }
    }
  }
  function confirmLogin() {
    var request = new XMLHttpRequest;
    request.onreadystatechange = function() {
      if (4 == request.readyState && 200 == request.status) {
        if (-1 != request.responseText.indexOf("ERROR")) {
          console.error("loginOnServer returned ERROR");
          done();
        } else {
          var values = request.responseText.split("\n");
          path = values[0];
          values[1];
          ret = values[2].split(" ").map(Number);
          values[3];
          if (i = new Number(values[4]), values.length >= 6 && (showall = new Number(values[5]) > 0) && (document.getElementById("curse-promo") && (document.getElementById("curse-promo").style.display = "none"), document.getElementById("banner-on-homepage") && (document.getElementById("banner-on-homepage").style.display = "none")), values.length >= 7 && (y = parseInt(values[6])), document.getElementById("coins-owned").innerHTML = Math.floor(i), "undefined" != typeof Storage) {
            try {
              localStorage.setItem("sessionId", path);
            } catch (conv_reverse_sort) {
              console.log(conv_reverse_sort);
            }
          }
          if (options) {
            callback(true);
          }
          if (window.location.search.startsWith("?my-account")) {
            dispatch();
          } else {
            if ("?tourney-mgr" == window.location.search) {
              onload();
            } else {
              if (0 == window.location.search.indexOf("?tourney-join")) {
                (function() {
                  var id = document.getElementById("username").value.substring(0, 14);
                  if (id = window.prompt("Please enter your tournament username. Warning: this can't be changed afterwards: ", id)) {
                    var request = new XMLHttpRequest;
                    request.onreadystatechange = function() {
                      if (4 == request.readyState && 200 == request.status) {
                        if (-1 != request.responseText.indexOf("ERROR")) {
                          alert(request.responseText.replace("ERROR\n", ""));
                        } else {
                          onload();
                        }
                      } else {
                        if (4 == request.readyState && 200 != request.status) {
                          request.onerror(request.status);
                        }
                      }
                    };
                    request.onerror = function(event) {
                      reject((new Date).toLocaleTimeString() + " - Error joining team", "error");
                    };
                    var pathToShow = window.location.search.replace("?tourney-join&c=", "");
                    request.open("GET", url + "/tourney/useInviteCode?s=" + (path || "") + "&c=" + encodeURIComponent(pathToShow) + "&n=" + encodeURIComponent(id), true);
                    request.send(null);
                  }
                })();
              }
            }
          }
        }
      } else {
        if (4 == request.readyState && 200 != request.status) {
          request.onerror(request.status);
        }
      }
    };
    request.onerror = function(event) {
      reject((new Date).toLocaleTimeString() + " - Error at login on server", "error");
      console.error("loginOnServer error");
      done();
    };
    request.open("POST", url + "/login?s=" + (path || "") + (hasStyle ? "&a=1" : "") + (!hasStyle && isFilled ? "&a=2" : "") + "&app=" + (document.getElementById("privacy-policy-checkbox").checked ? 1 : 0) + "&ecs=" + (document.getElementById("emailing-consent-checkbox").checked ? 1 : 0) + "&ect=" + encodeURIComponent(document.getElementById("emailing-consent-text").innerHTML), true);
    if (hasStyle) {
      request.send(body);
    } else {
      if (isFilled) {
        request.send(payload);
      } else {
        request.send(null);
      }
    }
  }
  function hide() {
    document.getElementById("login-popup").style.display = "none";
    document.getElementById("unconnected-block").style.display = "none";
    document.getElementById("connected-block").style.display = "block";
    document.getElementById("profile-picture").src = service_url;
    document.getElementById("respawn-not-connected").style.display = "none";
    document.getElementById("respawn-not-connected-gm2").style.display = "none";
    document.getElementById("respawn-not-connected-gm4").style.display = "none";
    confirmLogin();
  }
  function done() {
    return hasStyle && startCameraAsync(), isFilled && FB.logout(checkLoginStatus), document.getElementById("connected-block").style.display = "none", document.getElementById("unconnected-block").style.display = "block", focus(1), linkifyTextNode(0), false;
  }
  function parseTSPReq() {
    document.getElementById("login-popup").style.display = "block";
    if (!(void 0 !== window.gapi && void 0 !== window.gapi.auth2)) {
      document.getElementById("google-login-button").innerHTML = '<div class="blocked">Your browser is blocking Google API. Unblock to sign-in with Google.</div>';
    }
  }
  function isEmpty(value) {
    return "rgb(" + [(16711680 & (value = value >>> 0)) >>> 16, (65280 & value) >>> 8, 255 & value].join(",") + ")";
  }
  function success(obj, arg, action, value, id, time, result, drawVector) {
    obj.className += " locked";
    var btn = document.createElement("a");
    if (action) {
      btn.href = action;
      btn.target = "_blank";
    }
    btn.innerHTML = value;
    btn.className = "button " + id;
    obj.appendChild(btn);
    if (!drawVector) {
      btn.addEventListener("click", function() {
        if (obj.className = "card", obj.getElementsByTagName("a")[0].style.display = "none", time) {
          b[time] = true;
          try {
            localStorage.setItem(time, true);
          } catch (g) {
          }
        }
        if ("undefined" != typeof gtag) {
          gtag("event", result, {
            event_category : "Click"
          });
        }
      });
    }
  }
  function _xhrRequest(key, index) {
    document.getElementById("skin-popup").style.pointerEvents = "none";
    var request = new XMLHttpRequest;
    request.onreadystatechange = function() {
      if (4 == request.readyState && 200 == request.status) {
        if (document.getElementById("skin-popup").style.pointerEvents = "auto", "OK" != request.responseText) {
          return void alert("An error occured during the transation, please try again or contact us");
        }
        i = i - index;
        ret.push(key);
        callback(true);
        document.getElementById("coins-owned").innerHTML = Math.floor(i);
      } else {
        if (4 == request.readyState && 200 != request.status) {
          request.onerror(request.status);
        }
      }
    };
    request.onerror = function(line) {
      document.getElementById("skin-popup").style.pointerEvents = "auto";
      console.log(line);
      alert("An error occured during the transation, please try again or contact us");
    };
    request.open("POST", url + "/buyskin?s=" + path + "&skin=" + key, true);
    request.send(null);
  }
  function require(name) {
    var i = 0;
    for (; i < inputs.length; i++) {
      if (-1 !== inputs[i].list.indexOf(name)) {
        return i;
      }
    }
    return -1;
  }
  function likelyString(number) {
    return 1 == number || (2 == number ? b.skinFacebookLiked : 3 == number || (4 == number ? b.skinTwitterFollow : 5 == number ? b.skinTwitterTweet : 6 == number ? b.skinYoutubeSubscribe : 7 == number ? hasStyle || isFilled : 8 == number ? b.skinDiscordJoin : -1 !== ret.indexOf(number)));
  }
  function isLikelyUsernameInput(name) {
    var type = require(name);
    var i = 0;
    for (; i < inputs[type].list.length; i++) {
      if (inputs[type].list[i] != name && !likelyString(inputs[type].list[i])) {
        return false;
      }
    }
    return true;
  }
  function find(id) {
    document.getElementById("skin-tab-" + n).className = "skin-tab";
    document.getElementById("skin-tab-" + id).className = "skin-tab selected";
    n = id;
    callback(true);
  }
  function createMenu(name, text, context) {
    var remove = document.createElement("div");
    return remove.setAttribute("id", "skin-tab-" + name), remove.className = "skin-tab" + (context ? " selected" : ""), remove.innerHTML = text, remove.addEventListener("click", function() {
      find(name);
    }), remove;
  }
  function callback(isRefresh) {
    if (isRefresh) {
      document.getElementById("skin-homepage-canvas").innerHTML = "";
      document.getElementById("skin-popup-canvas").innerHTML = "";
      document.getElementById("skin-list").innerHTML = "";
    }
    cache[-1] = obj[key >= 0 ? key : 0];
    result[-1] = v;
    var from = update(-1, 50);
    document.getElementById("skin-homepage-canvas").appendChild(from);
    var a = update(-1, 100);
    document.getElementById("skin-popup-canvas").appendChild(a);
    parts = [from, a];
    var element = document.getElementById("skin-tabs");
    for (; element.firstChild;) {
      element.removeChild(element.firstChild);
    }
    element.appendChild(createMenu(-1, "All", -1 == n));
    var x = 0;
    for (; x < inputs.length; x++) {
      element.appendChild(createMenu(x, inputs[x].name, n == x));
    }
    var dTempDate1;
    var WinPercent;
    var value;
    var _a;
    var state = (dTempDate1 = new Date, WinPercent = dTempDate1.getMonth() + 1, value = dTempDate1.getDate(), _a = [], 2 == WinPercent && _a.push(64), (3 == WinPercent && value >= 15 || 4 == WinPercent && value <= 14) && _a.push(65), 4 == WinPercent && _a.push(66), (10 == WinPercent && value >= 15 || 11 == WinPercent && value <= 14) && _a.push(67), 12 == WinPercent && _a.push(68), 1 == WinPercent && _a.push(69), _a);
    var NOT_VISIBLE_TRIGGER_TYPES = [71, 79, 80, 96, 97, 98, 99];
    var BUILD_TYPES = [64, 65, 66, 67, 68, 69];
    var code = state.concat([1, 2, 3, 4, 5, 6, 8, 7, 9, 10, 107, 13, 14, 18, 108, 81, 19, 11, 12, 89, 109, 110, 90, 122, 123, 124, 91, 17, 40, 33, 34, 16, 50, 51, 111, 125, 92, 20, 21, 93, 15, 29, 41, 35, 46, 52, 53, 94, 112, 126, 127, 42, 43, 36, 37, 24, 25, 47, 54, 44, 38, 23, 30, 31, 55, 57, 58, 59, 60, 61, 62, 95, 113, 128, 48, 22, 26, 27, 28, 32, 45, 39, 49, 56, 63]);
    if (-1 != n) {
      code = inputs[n].list;
    }
    x = 0;
    for (; x < code.length; x++) {
      var type = code[x];
      if (files[type]) {
        cache[-1] = obj[key >= 0 ? key : 0];
        result[-1] = type;
        var a = update(-1, 64);
      } else {
        (a = document.createElement("div")).innerHTML = "?";
        a.style.width = "64px";
        a.style.height = a.style.width;
        a.style.position = "relative";
        a.style.display = "inline-block";
        a.style.lineHeight = a.style.height;
        a.style.fontSize = "3vh";
      }
      var s = document.createElement("div");
      var enable_keys = -1 !== [26, 27, 28, 32, 39, 45, 49, 56, 63, 70, 95, 113, 128].indexOf(type);
      s.className = "card" + (enable_keys ? " highlight" : "") + (type >= 64 && type <= 70 ? " season" : "");
      s.style.cursor = "pointer";
      s.appendChild(a);
      var getKey = -1 == ret.indexOf(type);
      if (!files[type] || getKey && (-1 !== NOT_VISIBLE_TRIGGER_TYPES.indexOf(type) || -1 !== BUILD_TYPES.indexOf(type) && -1 === state.indexOf(type))) {
        if (-1 != NOT_VISIBLE_TRIGGER_TYPES.indexOf(type)) {
          success(s, 0, void 0, "Tourney prize", "disabled", void 0, void 0, true);
        } else {
          success(s, 0, void 0, "Unavailable", "disabled", void 0, void 0, true);
        }
      } else {
        if (2 != type || b.skinFacebookLiked) {
          if (4 != type || b.skinTwitterFollow) {
            if (5 != type || b.skinTwitterTweet) {
              if (6 != type || b.skinYoutubeSubscribe) {
                if (8 != type || b.skinDiscordJoin) {
                  if (7 != type || hasStyle || isFilled) {
                    if ((type >= 81 && type <= 88 || type >= 100 && type <= 106) && getKey) {
                      if (hasStyle || isFilled) {
                        if (showall) {
                          (function(method) {
                            success(s, 0, void 0, "Premium", "login", void 0, "SkinActivatePremiumSkin", true);
                            s.getElementsByTagName("a")[0].addEventListener("click", function() {
                              return _xhrRequest(method, 0), false;
                            });
                          })(type);
                        } else {
                          success(s, 0, void 0, "Premium", "login", void 0, "SkinShowAccount", true);
                          s.getElementsByTagName("a")[0].addEventListener("click", function() {
                            return dispatch(), false;
                          });
                        }
                      } else {
                        success(s, 0, void 0, "Premium", "login", void 0, "SkinCreateAccount", true);
                        s.getElementsByTagName("a")[0].addEventListener("click", function() {
                          return parseTSPReq(), false;
                        });
                      }
                    } else {
                      if (type >= 9 && getKey) {
                        var version = 1E6;
                        if (9 != type && 10 != type || (version = 500), 13 != type && 14 != type || (version = 1E3), 11 != type && 12 != type || (version = 2E3), 17 == type && (version = 5E3), 18 == type && (version = 1E3), 19 == type && (version = 2E3), 64 == type && (version = 5E3), 65 == type && (version = 5E3), 66 == type && (version = 5E3), 67 == type && (version = 5E3), 68 == type && (version = 5E3), 69 == type && (version = 5E3), 70 == type && (version = 1E4), 20 == type && (version = 7500), 
                        21 == type && (version = 7500), 15 == type && (version = 1E4), 29 == type && (version = 1E4), 24 == type && (version = 15E3), 25 == type && (version = 15E3), 30 == type && (version = 2E4), 26 == type && (version = 2E4), 27 == type && (version = 2E4), 28 == type && (version = 2E4), 31 == type && (version = 2E4), 32 == type && (version = 3E4), 16 == type && (version = 5E3), 46 == type && (version = 1E4), 47 == type && (version = 15E3), 23 == type && (version = 2E4), 48 == type && 
                        (version = 25E3), 22 == type && (version = 25E3), 49 == type && (version = 3E4), 40 == type && (version = 5E3), 41 == type && (version = 1E4), 42 == type && (version = 15E3), 43 == type && (version = 15E3), 44 == type && (version = 2E4), 45 == type && (version = 3E4), 33 == type && (version = 5E3), 34 == type && (version = 5E3), 35 == type && (version = 1E4), 36 == type && (version = 15E3), 37 == type && (version = 15E3), 38 == type && (version = 2E4), 39 == type && (version = 
                        3E4), 50 == type && (version = 5E3), 51 == type && (version = 5E3), 52 == type && (version = 1E4), 53 == type && (version = 1E4), 54 == type && (version = 15E3), 55 == type && (version = 2E4), 56 == type && (version = 25E3), type >= 57 && type <= 62 && (version = 2E4), 63 == type && (version = 2E4), 89 == type && (version = 2E3), 90 == type && (version = 3E3), 91 == type && (version = 4E3), 92 == type && (version = 6E3), 93 == type && (version = 8E3), 94 == type && (version = 
                        1E4), 95 == type && (version = 2E4), 107 == type && (version = 500), 108 == type && (version = 1E3), 109 == type && (version = 2E3), 110 == type && (version = 2E3), 111 == type && (version = 5E3), 112 == type && (version = 1E4), 113 == type && (version = 2E4), 122 == type && (version = 3E3), 123 == type && (version = 3E3), 124 == type && (version = 3E3), 125 == type && (version = 5E3), 126 == type && (version = 1E4), 127 == type && (version = 1E4), 128 == type && (version = 
                        2E4), enable_keys && !isLikelyUsernameInput(type)) {
                          !function(name) {
                            success(s, 0, void 0, "Unavailable", "disabled", void 0, void 0, true);
                            s.getElementsByTagName("a")[0].addEventListener("click", function() {
                              alert("You must buy all skins in " + inputs[require(name)].name + " to unlock this skin");
                            });
                          }(type);
                        } else {
                          success(s, 0, void 0, '<img src="img/coin.png"> <span>' + version + "</span>", "buy", void 0, "SkinBuy", true);
                          s.getElementsByTagName("a")[0].addEventListener("click", function(method, url) {
                            return function() {
                              if (!hasStyle && !isFilled) {
                                return alert("You must login first to buy skins"), parseTSPReq(), false;
                              }
                              if (i < url) {
                                alert("You don't have enough coins to buy this skin (you own " + Math.floor(i) + " coins)");
                              } else {
                                if (confirm("You own " + Math.floor(i) + " coins. Buy skin for " + url + " coins?")) {
                                  _xhrRequest(method, url);
                                }
                              }
                            };
                          }(type, version));
                        }
                      }
                    }
                  } else {
                    success(s, 0, void 0, "Sign up", "login", void 0, "SkinCreateAccount", true);
                    s.getElementsByTagName("a")[0].addEventListener("click", function() {
                      return parseTSPReq(), false;
                    });
                  }
                } else {
                  success(s, 0, "https://discord.gg/NXuuhv7", "Join discord", "discord", "skinDiscordJoin", "SkinDiscordJoin");
                }
              } else {
                success(s, 0, "https://www.youtube.com/channel/UCJw-612ZzkWmZuU5QsP_T-g?sub_confirmation=1", "Subscribe", "youtube", "skinYoutubeSubscribe", "SkinYoutubeSubscribe");
              }
            } else {
              var cleanKeys = ["I've played this game way too much today", "I'm loving this game!", "don't play this game it will ruin your social life", "this game is going to ruin my social life", "I'm addicted to this game", "This game is so addictive", "Best game ever!"];
              success(s, 0, "https://twitter.com/intent/tweet?url=http%3A%2F%2Fdefly.io&hashtags=gaming,indiegames,deflyio&text=" + encodeURIComponent(cleanKeys[Math.floor(Math.random() * cleanKeys.length)]), "Tweet", "twitter", "skinTwitterTweet", "SkinTwitterTweet");
            }
          } else {
            success(s, 0, "https://twitter.com/DeflyIo", "Follow", "twitter", "skinTwitterFollow", "SkinTwitterFollow");
          }
        } else {
          success(s, 0, "https://www.facebook.com/deflyiogame/", "Like", "facebook", "skinFacebookLiked", "SkinFacebookLiked");
        }
      }
      document.getElementById("skin-list").appendChild(s);
      parts.push(a);
      s.addEventListener("click", function(event) {
        return function() {
          if ((2 != event || b.skinFacebookLiked) && (4 != event || b.skinTwitterFollow) && (5 != event || b.skinTwitterTweet) && (6 != event || b.skinYoutubeSubscribe) && (8 != event || b.skinDiscordJoin) && (7 != event || hasStyle || isFilled)) {
            if (!(event >= 9 && !hasStyle && !isFilled || event >= 9 && -1 == ret.indexOf(event))) {
              focus(event);
            }
          }
        };
      }(type));
    }
    if (!isRefresh) {
      x = 0;
      for (; x < obj.length; x++) {
        var div = document.createElement("div");
        div.style.backgroundColor = isEmpty(obj[x]);
        div.style.width = "32px";
        div.style.height = "32px";
        div.style.display = "inline-block";
        div.style.cursor = "pointer";
        div.style.marginLeft = "2px";
        div.addEventListener("click", function(node) {
          return function() {
            linkifyTextNode(node);
          };
        }(x));
        document.getElementById("color-list").appendChild(div);
      }
    }
  }
  function focus(value, position) {
    v = value;
    var i = 0;
    for (; i < 2; i++) {
      result[-1] = value;
      var item = parts[i];
      var newFn = update(-1, item.offsetWidth);
      item.parentNode.replaceChild(newFn, item);
      parts[i] = newFn;
    }
    if (!position && "undefined" != typeof Storage) {
      try {
        localStorage.setItem("playerSkin", v);
      } catch (conv_reverse_sort) {
        console.log(conv_reverse_sort);
      }
    }
    if ("undefined" != typeof gtag) {
      gtag("event", "ChangeSkinModel", {
        event_category : "Click",
        value : value
      });
    }
  }
  function linkifyTextNode(node, levelBegin) {
    key = node;
    var i = 0;
    for (; i < parts.length; i++) {
      if (parts[i].skinId) {
        cache[-1] = obj[key >= 0 ? key : 0];
        result[-1] = parts[i].skinId;
        var item = parts[i];
        var newFn = update(-1, item.offsetWidth);
        item.parentNode.replaceChild(newFn, item);
        parts[i] = newFn;
      }
    }
    if (!levelBegin && "undefined" != typeof Storage) {
      try {
        localStorage.setItem("playerSkinColor", key);
      } catch (conv_reverse_sort) {
        console.log(conv_reverse_sort);
      }
    }
    if ("undefined" != typeof gtag) {
      gtag("event", "ChangeSkinColor", {
        event_category : "Click",
        value : node
      });
    }
  }
  function serialize(data) {
    var reader = new FileReader;
    reader.onload = function() {
      var url = "data:image/png;base64," + btoa(String.fromCharCode.apply(null, new Uint8Array(reader.result)));
      urls[data.name] = url;
      options[data.name] = PIXI.Texture.fromImage(url);
      localStorage.setItem("skinEditorImages", JSON.stringify(urls));
      createElement();
    };
    reader.readAsArrayBuffer(data);
  }
  function reset() {
    if (delete children[-2], result[-2] = name, load(-2), scope.stage.removeChildren(), scope.stage.addChild(children[-2]), document.getElementById("show-collision-circle").checked) {
      var circle = new PIXI.Graphics;
      circle.lineStyle(1, 16711680);
      circle.drawCircle(0, 0, scale / zoomScale * newZoom);
      children[-2].addChild(circle);
    }
    scope.stage.setTransform(scope.width / 2 / scope.resolution, scope.height / 2 / scope.resolution, 1 / files[name].size, 1 / files[name].size, 0, 0, 0, 0, 0);
    localStorage.setItem("skinEditorSkinModel", JSON.stringify(files[name]));
  }
  function bind(data, key) {
    function update() {
      data.img = el.value;
      data.x = parseFloat(output.value);
      data.y = parseFloat(c.value);
      data.speed = parseFloat(i.value) * Math.PI * 2;
      data.size = parseFloat(t.value);
      data.layer = Math.max(0, model.value);
      data.visibility = element.value;
      data.fixedRotation = target.checked;
      data.noRotation = cb.checked;
      data.tinted = context.checked;
      reset();
    }
    var _offLineTemplate = '<option name=""></option>';
    var type;
    for (type in urls) {
      _offLineTemplate = _offLineTemplate + ("<option " + (data.img == type ? "selected " : "") + 'name="' + type + '">' + type + "</option>");
    }
    var self = document.createElement("div");
    var downClick = document.createElement("span");
    downClick.innerHTML = "Rotor: ";
    var el = document.createElement("select");
    el.innerHTML = _offLineTemplate;
    var ngRepeatDiv = document.createElement("span");
    ngRepeatDiv.innerHTML = " X: ";
    var output = document.createElement("input");
    output.setAttribute("type", "number");
    output.setAttribute("step", "0.1");
    output.setAttribute("value", data.x);
    var patnode = document.createElement("span");
    patnode.innerHTML = " Y: ";
    var c = document.createElement("input");
    c.setAttribute("type", "number");
    c.setAttribute("step", "0.1");
    c.setAttribute("value", data.y);
    var fileSizeSpan = document.createElement("span");
    fileSizeSpan.innerHTML = " RPS: ";
    var i = document.createElement("input");
    i.setAttribute("type", "number");
    i.setAttribute("step", "0.1");
    i.setAttribute("value", data.speed / Math.PI / 2);
    var filter = document.createElement("span");
    filter.innerHTML = " Size: ";
    var t = document.createElement("input");
    t.setAttribute("type", "number");
    t.setAttribute("step", "0.1");
    t.setAttribute("value", data.size);
    var nowPage_info = document.createElement("span");
    nowPage_info.innerHTML = " Layer: ";
    var model = document.createElement("input");
    model.setAttribute("type", "number");
    model.setAttribute("value", data.layer);
    var e = document.createElement("span");
    e.innerHTML = " Visibility: ";
    var element = document.createElement("input");
    element.setAttribute("type", "number");
    element.setAttribute("title", "0=always\n1=only when moving\n2=only when standing still");
    element.setAttribute("value", data.visibility);
    var upClick = document.createElement("span");
    upClick.innerHTML = " FixedRot";
    var target = document.createElement("input");
    target.setAttribute("type", "checkbox");
    target.setAttribute("title", "on = rotation is not cumulative with copter hull");
    if (data.fixedRotation) {
      target.setAttribute("checked", "");
    }
    var stationMarkerSpan = document.createElement("span");
    stationMarkerSpan.innerHTML = " NoRot";
    var cb = document.createElement("input");
    cb.setAttribute("type", "checkbox");
    cb.setAttribute("title", "on = the rotor does not rotate and has fixed direction independent from copter direction");
    if (data.noRotation) {
      cb.setAttribute("checked", "");
    }
    var unlock_text = document.createElement("span");
    unlock_text.innerHTML = " Tinted";
    var context = document.createElement("input");
    context.setAttribute("type", "checkbox");
    context.setAttribute("title", "on = rotor is tinted with player color");
    if (data.tinted) {
      context.setAttribute("checked", "");
    }
    var close = document.createElement("button");
    return close.className = "button", close.innerHTML = "remove", self.appendChild(downClick), self.appendChild(el), self.appendChild(ngRepeatDiv), self.appendChild(output), self.appendChild(patnode), self.appendChild(c), self.appendChild(fileSizeSpan), self.appendChild(i), self.appendChild(filter), self.appendChild(t), self.appendChild(nowPage_info), self.appendChild(model), self.appendChild(e), self.appendChild(element), self.appendChild(upClick), self.appendChild(target), self.appendChild(stationMarkerSpan), 
    self.appendChild(cb), self.appendChild(unlock_text), self.appendChild(context), self.appendChild(close), el.addEventListener("change", update), output.addEventListener("input", update), c.addEventListener("input", update), i.addEventListener("input", update), t.addEventListener("input", update), model.addEventListener("input", update), element.addEventListener("input", update), target.addEventListener("input", update), cb.addEventListener("input", update), context.addEventListener("input", update), 
    close.addEventListener("click", function() {
      files[name].rotors.splice(key, 1);
      reset();
      createElement();
    }), self;
  }
  function createElement() {
    var helpTextData = '<option name=""></option>';
    var index;
    for (index in urls) {
      helpTextData = helpTextData + ('<option name="' + index + '">' + index + "</option>");
    }
    document.getElementById("skin-editor-base").innerHTML = helpTextData;
    document.getElementById("skin-editor-notint").innerHTML = helpTextData;
    document.getElementById("skin-editor-size").value = files[name].size;
    var audioSelect = document.getElementById("skin-editor-rotors");
    for (; audioSelect.firstChild;) {
      audioSelect.removeChild(audioSelect.firstChild);
    }
    for (index in files[name].rotors) {
      var option = bind(files[name].rotors[index], index);
      audioSelect.appendChild(option);
    }
    var closeElement = document.createElement("button");
    closeElement.innerHTML = "Add rotor";
    closeElement.className = "button";
    audioSelect.appendChild(closeElement);
    closeElement.addEventListener("click", function() {
      files[name].rotors.push({
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 1
      });
      createElement();
    });
    document.getElementById("skin-editor-base").value = files[name].base;
    document.getElementById("skin-editor-notint").value = files[name].notint;
  }
  function postLink() {
    scale = 64;
    var self = PIXI.autoDetectRenderer(128, 128, {
      antialias : true,
      transparent : false,
      resolution : mmCoreSecondsDay * daysToStart
    });
    if (self.plugins.interaction) {
      self.plugins.interaction.destroy();
      self.plugins.interaction = null;
    }
    if (self.plugins.accessibility) {
      self.plugins.accessibility.destroy();
      self.plugins.accessibility = null;
    }
    self.backgroundColor = 15923199;
    scope = self;
    var child = new PIXI.Container;
    self.stage = child;
    child.setTransform(self.width / 2 / mmCoreSecondsDay, self.height / 2 / mmCoreSecondsDay, 1, 1, 0, 0, 0, 0, 0);
    document.getElementById("skin-editor-canvas").appendChild(self.view);
    files[name] = {
      base : "",
      notint : "",
      rotors : [],
      size : 1
    };
    try {
      if (localStorage.getItem("skinEditorSkinModel") && (files[name] = JSON.parse(localStorage.getItem("skinEditorSkinModel"))), localStorage.getItem("skinEditorImages")) {
        var i;
        for (i in urls = JSON.parse(localStorage.getItem("skinEditorImages"))) {
          options[i] = PIXI.Texture.fromImage(urls[i]);
        }
      }
    } catch (g) {
    }
    createElement();
    result[-2] = name;
    cache[-2] = obj[key >= 0 ? key : 0];
    setTimeout(reset, 0);
    scope.stance = 1;
    motionInterval = setInterval(function() {
      var other = children[-2];
      var i = 0;
      for (; i < other.rotors.length; i++) {
        var entity = other.rotors[i];
        if (entity.noRotation) {
          entity.sprite.rotation = -other.rotation;
        } else {
          if (0 != entity.speed) {
            entity.sprite.baseRotation -= entity.speed * (1E3 / 60) / 1E3;
            if (entity.fixedRotation) {
              entity.sprite.rotation = entity.sprite.baseRotation;
            } else {
              entity.sprite.rotation = entity.sprite.baseRotation - other.rotation;
            }
          }
        }
        var newVal = 0 != scope.stance;
        if (1 == entity.visibility) {
          entity.sprite.visible = newVal;
        } else {
          if (2 == entity.visibility) {
            entity.sprite.visible = !newVal;
          }
        }
      }
      self.render(child);
    }, 1E3 / 60);
    defly.closeSkinEditor = search_input_clear;
    defly.saveSkin = saveFile;
    defly.clearSkin = function() {
      localStorage.removeItem("skinEditorImages");
      localStorage.removeItem("skinEditorSkinModel");
      files[name] = {
        base : "",
        notint : "",
        rotors : [],
        size : 1
      };
      urls = {};
      reset();
      createElement();
    };
    document.getElementById("skin-upload-input").addEventListener("change", readFile2);
    document.getElementById("skin-editor-input").addEventListener("change", function() {
      !function(g) {
        var i = 0;
        for (; i < g.files.length; i++) {
          serialize(g.files[i]);
        }
      }(document.getElementById("skin-editor-input"));
    });
    document.getElementById("skin-editor-size").addEventListener("input", function() {
      files[name].size = parseFloat(document.getElementById("skin-editor-size").value);
      reset();
    });
    document.getElementById("skin-editor-base").addEventListener("change", function() {
      files[name].base = document.getElementById("skin-editor-base").value;
      reset();
    });
    document.getElementById("skin-editor-notint").addEventListener("change", function() {
      files[name].notint = document.getElementById("skin-editor-notint").value;
      reset();
    });
    document.getElementById("show-collision-circle").addEventListener("change", reset);
    document.getElementById("stance-idle").addEventListener("click", function() {
      scope.stance = 0;
      document.getElementById("stance-idle").classList.remove("back");
      document.getElementById("stance-moving").classList.add("back");
    });
    document.getElementById("stance-moving").addEventListener("click", function() {
      scope.stance = 1;
      document.getElementById("stance-idle").classList.add("back");
      document.getElementById("stance-moving").classList.remove("back");
    });
    var fsHTML = "";
    for (i in options) {
      fsHTML = fsHTML + ('<option name="' + i + '">' + i + "</option>");
    }
    document.getElementById("skin-editor-game-sprites").innerHTML = fsHTML;
    document.getElementById("skin-editor-input2").addEventListener("change", function() {
      var blobRows = document.getElementById("skin-editor-input2").files[0];
      var reader = new FileReader;
      reader.onload = function() {
        var normalSrc = "data:image/png;base64," + btoa(String.fromCharCode.apply(null, new Uint8Array(reader.result)));
        var img = document.createElement("img");
        img.src = normalSrc;
        options[document.getElementById("skin-editor-game-sprites").value] = PIXI.Texture.fromImage(img.src);
        document.getElementById("skin-editor-input2").value = "";
      };
      reader.readAsArrayBuffer(blobRows);
    });
    document.getElementById("skin-editor").style.display = "block";
  }
  function search_input_clear() {
    clearInterval(motionInterval);
    document.getElementById("skin-editor").style.display = "none";
    focus(name, true);
  }
  function saveFile() {
    var nodes = {};
    var j;
    for (j in nodes[files[name].base] = urls[files[name].base], nodes[files[name].notint] = urls[files[name].notint], files[name].rotors) {
      nodes[files[name].rotors[j].img] = urls[files[name].rotors[j].img];
    }
    var blob = new Blob([JSON.stringify({
      spec : files[name],
      images : nodes
    })], {
      type : "text/plain;charset=utf-8"
    });
    saveAs(blob, (new Date).toISOString() + " defly.io skin.txt");
  }
  function readFile2() {
    var publicKeyFile = document.getElementById("skin-upload-input").files[0];
    var reader = new FileReader;
    reader.onload = function() {
      var info = JSON.parse(reader.result);
      var key;
      for (key in console.log(info), files[name] = info.spec, info.images) {
        var object = document.createElement("img");
        object.src = info.images[key];
        urls[key] = info.images[key];
        options[key] = PIXI.Texture.fromImage(object.src);
      }
      localStorage.setItem("skinEditorImages", JSON.stringify(urls));
      reset();
      createElement();
      document.getElementById("skin-upload-input").value = "";
    };
    reader.readAsText(publicKeyFile);
  }
  function makeRequest(type) {
    var query = type;
    var xhr = new XMLHttpRequest;
    xhr.onreadystatechange = function() {
      if (4 == xhr.readyState) {
        xhr.status;
      }
    };
    xhr.onerror = function(line) {
      alert("Error updating badge");
      console.log(line);
    };
    xhr.open("POST", url + "/account/updateBadge?s=" + path + "&b=" + query, true);
    xhr.send(null);
  }
  function dispatch() {
    if (hasStyle || isFilled) {
      var request = new XMLHttpRequest;
      request.onreadystatechange = function() {
        if (4 == request.readyState && 200 == request.status) {
          var range = request.responseText.split("\n");
          showall = parseInt(range[0]) > 0;
          i = range[1];
          document.getElementById("ma-coins").innerHTML = Math.floor(i);
          document.getElementById("account-premium").style.display = showall ? "block" : "none";
          document.getElementById("account-standard").style.display = showall ? "none" : "block";
          document.getElementById("reserved-nickname").value = range[2];
          document.getElementById("ma-player-name").innerHTML = document.getElementById("username").value;
          var l = parseInt(range[3]);
          if (range.length >= 5) {
            document.getElementById("discord-id").value = range[4];
          }
          var helpTextData = '<span class="empty' + (0 == l ? " selected" : "") + '">NONE</span>';
          var saved_target_lang = 1;
          for (; saved_target_lang <= 47; saved_target_lang++) {
            helpTextData = helpTextData + ("<img " + (saved_target_lang == l ? 'class="selected" ' : "") + 'src="img/badges/' + saved_target_lang + '.png">');
          }
          if (document.getElementById("badge-select").innerHTML = helpTextData, document.getElementById("badge-select").addEventListener("click", function(evt) {
            if (console.log(evt), "IMG" == evt.target.tagName) {
              var out_stats = evt.target.src.split("/");
              makeRequest(parseInt(out_stats[out_stats.length - 1]));
            } else {
              makeRequest(0);
            }
            document.getElementById("badge-select").childNodes.forEach(function(focusedObj) {
              focusedObj.classList.remove("selected");
            });
            evt.target.classList.add("selected");
          }), document.getElementById("my-account-button") && (document.getElementById("my-account-button").enabled = true, document.getElementById("my-account-button").innerHTML = foo("My Account")), document.getElementById("my-account").style.display = "block", !showall) {
            var notificationContainer = document.getElementById("change-discord-id-block");
            notificationContainer.parentElement.removeChild(notificationContainer);
            document.getElementById("change-discord-id-np").appendChild(notificationContainer);
          }
        } else {
          if (4 == request.readyState && 200 != request.status) {
            request.onerror(request.status);
          }
        }
      };
      request.onerror = function(line) {
        reject((new Date).toLocaleTimeString() + " - Error getting account info", "error");
        console.log(line);
      };
      request.open("POST", url + "/account/myInfo?s=" + path, true);
      request.send(null);
      if (document.getElementById("my-account-button")) {
        document.getElementById("my-account-button").enabled = false;
        document.getElementById("my-account-button").innerHTML = foo("Loading...");
      }
    } else {
      parseTSPReq();
    }
  }
  function loadTexture(no, id, callback, callbackTarget) {
    switch(no) {
      case 0:
      case 3:
      case 2:
        return Math.floor(id / 100);
      case 1:
        return Math.floor(id / 200);
      case 4:
        return 10 * callbackTarget;
    }
  }
  function addText(i, type, target) {
    if (!sprites[i]) {
      sprites[i] = new PIXI.Sprite(options["capture-blue-" + (0 == i ? "A" : "B")]);
      sprites[i].width = 12;
      sprites[i].height = 12;
      sprites[i].anchor.set(.5);
      container.addChild(sprites[i]);
    }
    sprites[i].position.set(type, target);
  }
  function onComplete(i, name, data) {
    if (!entities[i]) {
      entities[i] = new PIXI.Graphics;
      entities[i].beginFill(inputValues[i], .5);
      entities[i].drawRect(0, 0, 12, 12);
      container.addChild(entities[i]);
    }
    entities[i].position.set(name, data);
  }
  function transformPoint(point, d, p) {
    var res = point.dst2(d);
    if (0 == res) {
      return point;
    }
    var distance = ((p.x - point.x) * (d.x - point.x) + (p.y - point.y) * (d.y - point.y)) / res;
    return distance < 0 ? point : distance > 1 ? d : new PIXI.Point(point.x + distance * (d.x - point.x), point.y + distance * (d.y - point.y));
  }
  function getPosition(e, data, position) {
    return (e.x - data.x) * (position.y - data.y) - (e.y - data.y) * (position.x - data.x);
  }
  function copy(input, color) {
    return input.dot1 == color ? input.rotation : input.rotation > 0 ? input.rotation - Math.PI : input.rotation + Math.PI;
  }
  function slice(value) {
    var ret = [];
    var i;
    for (i in map) {
      if (!(map[i].dot1 != value && map[i].dot2 != value)) {
        ret.push(map[i]);
      }
    }
    return ret.sort(function(me, o) {
      var chat_retry = setInterval(copy(me, value));
      return setInterval(copy(o, value)) - chat_retry;
    }), ret;
  }
  function triggerEvent(args, parent) {
    var sources = slice(args);
    var i = 0;
    for (; i < sources.length; i++) {
      if (sources[i].dot1 == parent || sources[i].dot2 == parent) {
        return true;
      }
    }
    return false;
  }
  function filter(array, obj, event) {
    if (void 0 === event) {
      event = [];
    }
    var props = [];
    var i = 0;
    for (; i < array.length; i++) {
      var value = array[i];
      var title = array[(i + 1) % array.length];
      if (void 0 !== obj) {
        var data = obj[i];
      } else {
        var type;
        for (type in map) {
          if (map[type].dot1 == value && map[type].dot2 == title || map[type].dot1 == title && map[type].dot2 == value) {
            data = map[type];
            break;
          }
        }
      }
      props[i] = copy(data, value);
      event[i] = data.dot1 == value;
    }
    var leg_x = 0;
    var border = 0;
    i = 0;
    for (; i < props.length; i++) {
      leg_x = leg_x + setInterval(setInterval(props[i]) - setInterval(props[(i + 1) % props.length] + Math.PI));
      border = border + setInterval(setInterval(props[(i + 1) % props.length]) - setInterval(props[i] + Math.PI));
    }
    return leg_x > border;
  }
  function encode(data) {
    var items = [];
    var a = null;
    var i = 0;
    for (; i < data.length; i++) {
      var t = data[i];
      if (a) {
        var i;
        for (i in map) {
          if (map[i].dot1 == t && map[i].dot2 == a || map[i].dot2 == t && map[i].dot1 == a) {
            items.push(map[i]);
            break;
          }
        }
      }
      a = t;
    }
    for (i in map) {
      if (map[i].dot1 == data[0] && map[i].dot2 == a || map[i].dot2 == data[0] && map[i].dot1 == a) {
        items.push(map[i]);
        break;
      }
    }
    var scope = [];
    var result = filter(data, items, scope);
    var view = new DataView(new ArrayBuffer(15 + 5 * data.length));
    view.setInt32(1, num++);
    view.setInt32(5, data[0].owner);
    view.setFloat32(9, 0);
    view.setInt16(13, data.length);
    i = 0;
    for (; i < items.length; i++) {
      var data = items[i];
      view.setInt32(15 + 5 * i, data.lineId);
      view.setUint8(15 + 5 * i + 4, result && scope[i] || !result && !scope[i] ? 0 : 1);
    }
    build(view, false);
  }
  function initialize() {
    var child;
    var node;
    screenSmallerThanEditor = true;
    values.splice(0, 0, 5066061);
    pixels.splice(0, 0, "Walls");
    width = 210;
    height = 120;
    scale = 1;
    zoom = .6;
    dd = .3;
    newZoom = .6763066483560869;
    h = .6;
    t = 7;
    duration = 96;
    timeoutSecs = 48;
    2 * (scale = scale * zoomScale);
    safety = 1E3;
    s = 70;
    number = 40;
    id = 1;
    options["tower-kh"] = PIXI.Texture.fromImage("img/tower-kh.png");
    self = {
      shooting : false,
      moving : false,
      aimDirection : 0,
      moveDirection : 0
    };
    (child = document.createElement("div")).setAttribute("id", "defuse-editor-help");
    child.innerHTML = '<div style="text-align:center"><div id="defuse-help-hide" class="button" onclick="$(\'#defuse-help-content\').toggle();$(\'#defuse-help-hide\').toggle();$(\'#defuse-help-show\').toggle();">Hide menu</div><div style="display:none" id="defuse-help-show" class="button" onclick="$(\'#defuse-help-content\').toggle();$(\'#defuse-help-hide\').toggle();$(\'#defuse-help-show\').toggle();">Show menu</div></div><div id="defuse-help-content"><div onclick="defly.editor.downloadMap();" class="button">Download the map file</div><div onclick="defly.editor.loadMap();" class="button">Load a map file</div><div onclick="defly.editor.mapDim();" class="button">Change map dimensions</div><div onclick="defly.editor.mapShape();" class="button">Switch map shape</div><div onclick="defly.editor.kothBounds();" class="button">Edit KOTH Bounds</div><div style="margin-top:16px;">Key bindings:</div><ul><li> WASD: move</li><li>Right-Click/space: build a tower</li><li>Left-Click: remove tower/cancel wall</li><li>+/- and mouse wheel: zoom</li><li>=: Reset zoom</li><li>F: color grey enclosed area (grey areas appear on the minimap)</li><li>G: snap cursor to grid</li><li>X: view/hide helicopter</li><li>Y: (DEFUSE) place bomb spot A</li><li>U: (DEFUSE) place bomb spot B</li><li>R: (DEFUSE) place blue spawn area</li><li>T: (DEFUSE) place red spawn area</li><li>N: Change Team Color</li><li>B: Load background image trace</li></ul></div>';
    document.body.appendChild(child);
    (child = document.createElement("div")).setAttribute("id", "defuse-editor-position");
    document.body.appendChild(child);
    MainLoop.start();
    document.getElementById("homepage").style.display = "none";
    renderer.view.style.display = "block";
    type = 2;
    results[undefined = 1] = 1;
    load(undefined);
    children[undefined].visible = false;
    children[undefined].position.set(width / 2, height / 2);
    (opts = new PIXI.Sprite(PIXI.loader.resources["img/line1.png"].texture)).anchor.set(.5);
    opts.height = h;
    opts.alpha = .2;
    opts.tint = $(undefined);
    opts.visible = false;
    r.addChild(opts);
    (item = new PIXI.Sprite(options.dot1)).anchor.set(.5);
    item.width = 2 * zoom;
    item.height = 2 * zoom;
    item.alpha = .2;
    item.tint = $(undefined);
    container.addChild(item);
    source = [128, 8, 8, 8, 2048, 8, 8];
    generate();
    window.addEventListener("wheel", function(event) {
      if (event.deltaY < 0) {
        s = s / 1.1;
        number = number / 1.1;
        t = t / 1.1;
        duration = duration / 1.1;
        timeoutSecs = timeoutSecs / 1.1;
        generate();
      }
      if (event.deltaY > 0) {
        s = s * 1.1;
        number = number * 1.1;
        t = t * 1.1;
        duration = duration * 1.1;
        timeoutSecs = timeoutSecs * 1.1;
        generate();
      }
    }, true);
    var layer = new PIXI.Container;
    that.addChildAt(layer, 0);
    window.addEventListener("keydown", function(d) {
      if ("+" == d.key) {
        s = s / 1.1;
        number = number / 1.1;
        generate();
      } else {
        if ("-" == d.key) {
          s = s * 1.1;
          number = number * 1.1;
          generate();
        } else {
          if ("=" == d.key) {
            s = 70;
            number = 40;
            generate();
          } else {
            if ("g" == d.key) {
              before = !before;
            } else {
              if ("x" == d.key) {
                children[undefined].visible = !children[undefined].visible;
              } else {
                if ("n" == d.key) {
                  var nextIntervalID = window.prompt("Team ID? 1=grey, 2 = blue, etc up to 13", id);
                  if (nextIntervalID) {
                    id = nextIntervalID;
                    opts.tint = String(id);
                    item.tint = String(id);
                    target = null;
                  }
                } else {
                  if ("b" == d.key) {
                    (element = document.createElement("input")).setAttribute("type", "file");
                    element.setAttribute("accept", "image/*");
                    element.addEventListener("change", function() {
                      var reader = new FileReader;
                      reader.onload = function() {
                        var dataUri = reader.result;
                        var img = new Image;
                        img.onload = function() {
                          var image = new PIXI.Texture(new PIXI.BaseTexture(img));
                          (node = new PIXI.Sprite(image)).anchor.set(.5, .5);
                          node.width = width;
                          node.height = width / image.width * image.height;
                          if (node.height > height) {
                            node.height = height;
                            node.width = height / image.height * image.width;
                          }
                          node.x = width / 2;
                          node.y = height / 2;
                          layer.removeChildren();
                          layer.addChild(node);
                        };
                        img.src = dataUri;
                      };
                      reader.readAsDataURL(element.files[0]);
                    });
                    setTimeout(function() {
                      element.click();
                    }, 200);
                  } else {
                    if ("y" == d.key) {
                      addText(0, parseInt((d = getDistance()).x), parseInt(d.y));
                    } else {
                      if ("u" == d.key) {
                        addText(1, parseInt((d = getDistance()).x), parseInt(d.y));
                      } else {
                        if ("r" == d.key) {
                          onComplete(1, parseInt((d = getDistance()).x) - 6, parseInt(d.y) - 6);
                        } else {
                          if ("t" == d.key) {
                            onComplete(2, parseInt((d = getDistance()).x) - 6, parseInt(d.y) - 6);
                          } else {
                            if ("f" == d.key) {
                              var d = getDistance();
                              var v = null;
                              var best_part_step_diff = Number.MAX_VALUE;
                              var id;
                              for (id in map) {
                                var tmp_step_diff = transformPoint((obj = map[id]).dot1.position, obj.dot2.position, d).dst2(d);
                                if (tmp_step_diff < best_part_step_diff) {
                                  best_part_step_diff = tmp_step_diff;
                                  v = obj;
                                }
                              }
                              if (v) {
                                var data;
                                var shortcutKey = getPosition(d, v.dot1.position, v.dot2.position) >= 0;
                                if (shortcutKey && v.leftZoneId > 0) {
                                  return (data = new DataView(new ArrayBuffer(5))).setInt32(1, v.leftZoneId), void _update(data);
                                }
                                if (!shortcutKey && v.rightZoneId > 0) {
                                  return (data = new DataView(new ArrayBuffer(5))).setInt32(1, v.rightZoneId), void _update(data);
                                }
                                var obj;
                                var s = [(obj = v).dot1];
                                var set = obj;
                                var y = obj.dot1;
                                var c = obj.dot2;
                                var H = false;
                                for (; c != y;) {
                                  if (c != y) {
                                    var num = s.indexOf(c);
                                    if (-1 != num) {
                                      for (; s.length > num;) {
                                        s.splice(num, 1);
                                      }
                                    }
                                    var list = slice(c);
                                    var index = list.indexOf(set);
                                    if (-1 === index) {
                                      return void console.error("currentLine not found");
                                    }
                                    if (shortcutKey) {
                                      var B = list[(index - 1 + list.length) % list.length];
                                    } else {
                                      B = list[(index + 1) % list.length];
                                    }
                                    if (s.push(c), set = B, (c = B.dot1 == c ? B.dot2 : B.dot1) == y) {
                                      if (shortcutKey == filter(s)) {
                                        H = true;
                                        break;
                                      }
                                    }
                                  }
                                }
                                if (c == y && s.length > 2 && H) {
                                  encode(s);
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      var element;
    }, true);
    window.defly.editor = {
      downloadMap : function() {
        var result = "MAP_WIDTH " + width + "\nMAP_HEIGHT " + height + "\n";
        if (valid) {
          result = result + ("KOTH " + bounds.x1 + " " + bounds.y1 + " " + bounds.x2 + " " + bounds.y2 + "\n");
        }
        var i = 0;
        for (; i < sprites.length; i++) {
          if (sprites[i]) {
            result = result + ("t " + i + " " + sprites[i].x + " " + sprites[i].y + "\n");
          }
        }
        i = 0;
        for (; i < entities.length; i++) {
          if (entities[i]) {
            result = result + ("s " + i + " " + entities[i].x + " " + entities[i].y + "\n");
          }
        }
        var id;
        for (id in list) {
          result = result + ("d " + id + " " + list[id].x + " " + list[id].y + (1 == list[id].owner ? "" : " " + list[id].owner) + "\n");
        }
        for (id in map) {
          result = result + ("l " + map[id].dot1.dotId + " " + map[id].dot2.dotId + "\n");
        }
        for (id in nodes) {
          result = result + "z";
          var canvasList = nodes[id].linePath;
          var fill = canvasList[canvasList.length - 1];
          i = 0;
          for (; i < canvasList.length; i++) {
            var canvas = canvasList[i];
            result = result + (" " + (canvas.dot1 == fill.dot1 || canvas.dot1 == fill.dot2 ? canvas.dot1 : canvas.dot2).dotId);
            fill = canvas;
          }
          result = result + "\n";
        }
        var blob = new Blob([result], {
          type : "text/plain;charset=utf-8"
        });
        saveAs(blob, (new Date).toISOString() + " defly.io defuse map.txt");
      },
      loadMap : function() {
        var fileUploader = document.createElement("input");
        fileUploader.setAttribute("type", "file");
        fileUploader.setAttribute("accept", ".txt");
        fileUploader.addEventListener("change", function() {
          var reader = new FileReader;
          reader.onload = function() {
            var paramsSplit = reader.result.split(/\r?\n/);
            container.removeChildren();
            r.removeChildren();
            layer.removeChildren();
            r.addChild(opts);
            container.addChild(item);
            list = {};
            map = {};
            nodes = {};
            target = null;
            item.visible = true;
            opts.visible = false;
            sprites = [];
            entities = [];
            num = 1;
            var i = 0;
            for (; i < paramsSplit.length; i++) {
              var parts = paramsSplit[i].split(" ");
              switch(parts[0]) {
                case "MAP_WIDTH":
                  width = parseFloat(parts[1]);
                  break;
                case "MAP_HEIGHT":
                  height = parseFloat(parts[1]);
                  if (1 == Ws) {
                    if (height > Math.sqrt(3) * width / 2) {
                      width = height / Math.sqrt(3) * 2;
                    } else {
                      if (width > height / Math.sqrt(3) * 2) {
                        height = Math.sqrt(3) * width / 2;
                      }
                    }
                  } else {
                    if (2 == Ws) {
                      if (width >= height) {
                        height = width;
                      } else {
                        width = height;
                      }
                    }
                  }
                  DDtoUTM();
                  break;
                case "KOTH":
                  bounds = {
                    x1 : parseFloat(parts[1]),
                    y1 : parseFloat(parts[2]),
                    x2 : parseFloat(parts[3]),
                    y2 : parseFloat(parts[4])
                  };
                  valid = true;
                  break;
                case "t":
                  addText(parseInt(parts[1]), parseFloat(parts[2]), parseFloat(parts[3]));
                  break;
                case "s":
                  onComplete(parseInt(parts[1]), parseFloat(parts[2]), parseFloat(parts[3]));
                  break;
                case "d":
                  (self = new DataView(new ArrayBuffer(27))).setInt32(1, parseInt(parts[1]));
                  self.setInt32(5, parts.length >= 5 ? parseInt(parts[4]) : 1);
                  self.setFloat32(9, parseFloat(parts[2]));
                  self.setFloat32(13, parseFloat(parts[3]));
                  self.setUint8(17, 1);
                  self.setUint8(18, 1);
                  self.setFloat32(19, 0);
                  self.setInt32(23, 0);
                  set(self);
                  num = Math.max(num, parseInt(parts[1]) + 1);
                  break;
                case "l":
                  var self;
                  var v = list[parseInt(parts[1])];
                  var container = list[parseInt(parts[2])];
                  if (!triggerEvent(v, container)) {
                    (self = new DataView(new ArrayBuffer(25))).setInt32(1, num++);
                    self.setInt32(5, v.owner);
                    self.setInt32(9, v.dotId);
                    self.setInt32(13, container.dotId);
                    self.setInt32(17, 0);
                    self.setInt32(21, 0);
                    log(self);
                  }
                  break;
                case "z":
                  var title = [];
                  var i = 1;
                  for (; i < parts.length; i++) {
                    var m = list[parseInt(parts[i])];
                    title.push(m);
                  }
                  encode(title);
              }
            }
            children[undefined].position.set(width / 2, height / 2);
            generate();
            reject("File loaded: " + fileUploader.files[0].name);
          };
          reader.readAsText(fileUploader.files[0]);
        });
        setTimeout(function() {
          fileUploader.click();
        }, 200);
      },
      mapDim : function() {
        var rectW = parseInt(prompt("Map Width?", width));
        if (rectW) {
          var minHeight = parseInt(prompt("Map Height?", height));
          if (minHeight) {
            width = rectW;
            height = minHeight;
            if (children[undefined].x > width) {
              children[undefined].x = width;
            }
            if (children[undefined].y > height) {
              children[undefined].y = height;
            }
            generate();
          }
        }
      },
      mapShape : function() {
        if (1 == (Ws = (Ws + 1) % 3)) {
          height = Math.sqrt(3) * width / 2;
        } else {
          if (2 == Ws) {
            height = width;
          }
        }
        DDtoUTM();
        generate();
      },
      kothBounds : function() {
        var newValue = prompt("Upper-left X coordinate? (empty to remove KOTH bounds)", bounds ? bounds.x1 : "");
        if (newValue) {
          var len = prompt("Upper-left Y coordinate?", bounds ? bounds.y1 : "");
          var rx = prompt("Lower-right X coordinate?", bounds ? bounds.x2 : "");
          var c = prompt("Lower-right Y coordinate?", bounds ? bounds.y2 : "");
          bounds = {
            x1 : parseFloat(newValue),
            y1 : parseFloat(len),
            x2 : parseFloat(rx),
            y2 : parseFloat(c)
          };
          valid = true;
        } else {
          bounds = null;
          valid = false;
        }
        var id;
        for (id in list) {
          var cursor = list[id];
          var M = 15642415 == cursor.tint;
          if (valid && cursor.x >= bounds.x1 && cursor.x <= bounds.x2 && cursor.y >= bounds.y1 && cursor.y <= bounds.y2 ? (cursor.texture = options["tower-kh"], cursor.tint = 15642415) : (cursor.texture = options.dot1, cursor.tint = 5066061), M ^ 15642415 == cursor.tint) {
            var i = 0;
            for (; i < cursor.lines.length; i++) {
              cursor.lines[i].tint = cursor.tint;
            }
          }
        }
      }
    };
  }
  function search() {
    try {
      if (el && (document.getElementById("server-block").style.display = "block"), document.getElementById("preferred-server-block").style.display = "none", NAME_FILTER = null, window.location.hash.length > 0) {
        var s = window.location.hash.replace(/^#/, "").split("-");
        if (s.length >= 2) {
          type = parseInt(s.shift());
          select();
          NAME_FILTER = s.join("-");
          document.getElementById("server-block").style.display = "none";
          document.getElementById("preferred-server-block").style.display = "block";
          document.getElementById("preferred-server").innerHTML = NAME_FILTER;
        }
      }
    } catch (g) {
      console.error(g);
    }
  }
  function onload() {
    document.getElementById("homepage-loading").style.display = "block";
    document.getElementById("homepage-loaded").style.display = "none";
    var xhr = new XMLHttpRequest;
    xhr.onreadystatechange = function() {
      if (4 == xhr.readyState && 200 == xhr.status) {
        var s = xhr.responseText.split("\n");
        var row = document.createElement("div");
        row.className = "tourney-mgr";
        (element = document.createElement("div")).className = "title";
        element.innerHTML = "My Team";
        row.appendChild(element);
        var element;
        var f = false;
        var i = 0;
        for (; i < s.length - 1; i = i + 3) {
          if (s[i] == y && 1 == s[i + 2]) {
            f = true;
          }
        }
        i = 0;
        for (; i < s.length - 1; i = i + 3) {
          var t = document.createElement("div");
          if (t.className = "member", t.innerHTML = (1 == s[i + 2] ? "CAPTAIN - " : "") + s[i + 1], f && 1 != s[i + 2]) {
            var context = document.createElement("span");
            context.className = "button remove";
            context.innerHTML = "Remove";
            t.appendChild(context);
            context.addEventListener("click", function(namesend) {
              return function() {
                if (window.confirm("Really remove this player from the team?")) {
                  var xhr = new XMLHttpRequest;
                  xhr.onreadystatechange = function() {
                    if (4 == xhr.readyState && 200 == xhr.status) {
                      onload();
                    } else {
                      if (4 == xhr.readyState && 200 != xhr.status) {
                        xhr.onerror(xhr.status);
                      }
                    }
                  };
                  xhr.onerror = function(event) {
                    reject((new Date).toLocaleTimeString() + " - Error removing member", "error");
                  };
                  xhr.open("GET", url + "/tourney/remove?s=" + (path || "") + "&u=" + namesend, true);
                  xhr.send(null);
                }
              };
            }(s[i]));
          }
          row.appendChild(t);
        }
        if (f) {
          (element = document.createElement("div")).className = "bottom button";
          element.innerHTML = "Generate invite link";
          row.appendChild(element);
          element.addEventListener("click", function() {
            var request = new XMLHttpRequest;
            request.onreadystatechange = function() {
              if (4 == request.readyState && 200 == request.status) {
                row.removeChild(element);
                var msgInfoEl = document.createElement("div");
                msgInfoEl.className = "bottom link";
                msgInfoEl.innerHTML = "http://" + document.location.host + "?tourney-join&c=" + request.responseText;
                row.appendChild(msgInfoEl);
              } else {
                if (4 == request.readyState && 200 != request.status) {
                  request.onerror(request.status);
                }
              }
            };
            request.onerror = function(event) {
              reject((new Date).toLocaleTimeString() + " - Error changing invite code", "error");
            };
            request.open("GET", url + "/tourney/changeInviteCode?s=" + (path || ""), true);
            request.send(null);
          });
        }
        document.body.appendChild(row);
      }
    };
    xhr.onerror = function(event) {
      reject((new Date).toLocaleTimeString() + " - Error fetching team members", "error");
    };
    xhr.open("GET", url + "/tourney/members?s=" + (path || ""), true);
    xhr.send(null);
  }
  function start() {
    var display = "none";
    if (renderer && renderer.view) {
      document.body.removeChild(renderer.view);
      display = renderer.view.style.display;
    }
    PIXI.utils.isWebGLSupported();
    if ((renderer = PIXI.autoDetectRenderer(256, 256, {
      antialias : true,
      transparent : false,
      resolution : mmCoreSecondsDay * daysToStart
    })).plugins.interaction) {
      renderer.plugins.interaction.destroy();
      renderer.plugins.interaction = null;
    }
    if (renderer.plugins.accessibility) {
      renderer.plugins.accessibility.destroy();
      renderer.plugins.accessibility = null;
    }
    renderer.view.addEventListener("touchstart", mousemove, true);
    renderer.view.addEventListener("touchmove", mousemove, true);
    renderer.view.addEventListener("touchend", mousemove, true);
    renderer.view.addEventListener("touchcancel", mousemove, true);
    renderer.view.addEventListener("mousedown", apply, true);
    renderer.view.tabindex = 1;
    renderer.backgroundColor = checked ? 0 : 15923199;
    renderer.view.style.position = "fixed";
    renderer.view.style.top = 0;
    renderer.view.style.left = 0;
    renderer.autoResize = true;
    renderer.view.style.display = display;
    renderer.view.oncontextmenu = function(event) {
      return event.preventDefault(), false;
    };
    document.body.appendChild(renderer.view);
    generate();
    renderer.view.addEventListener("webglcontextlost", function(type) {
      console.error("WebGL context lost", type);
      type.preventDefault();
      MainLoop.stop();
      setTimeout(function() {
        if (renderer.view.getContext("webgl").isContextLost()) {
          console.error("Context was not restored after 1 second, recreating");
          start();
          MainLoop.start();
        }
      }, 1E3);
    }, false);
    renderer.view.addEventListener("webglcontextrestored", function() {
      console.error("WebGL context restored, recreating");
      start();
      MainLoop.start();
    }, false);
  }
  function Bar() {
    options.dot1 = PIXI.Texture.fromImage("img/tower-starwars.png");
    options.shoot = PIXI.Texture.fromImage("img/bullet-laser.png");
    options["death-blast"] = PIXI.Texture.fromImage("img/death-starwars.png");
    is = true;
    checked = true;
    renderer.backgroundColor = checked ? 0 : 15923199;
    generate();
    setup();
  }
  function render() {
    if ("https:" === window.location.protocol.toLowerCase()) {
      url = url.replace("http", "https");
    } else {
      var oldElem = document.getElementById("fb-login-button");
      var dummyEl = document.createElement("div");
      dummyEl.innerHTML = '<div>SSL is required <a class="button" style="color:white" href="' + window.location.href.replace("http", "https") + '">Reload with SSL</a></div>';
      oldElem.parentNode.replaceChild(dummyEl, oldElem);
    }
    if ("undefined" != typeof Raven && Raven.config) {
      Raven.config(window.location.protocol + "//cac34828573e48f99770f28f2b29bd17@sentry.defly.io/7", {
        whitelistUrls : ["scripts.js", "game.js"]
      }).install();
    }
    try {
      var data = localStorage.getItem("quality");
      if (data) {
        renderImage(data);
      }
    } catch (g) {
      console.error(g);
    }
    try {
      if ("undefined" != typeof Storage) {
        if (localStorage.getItem("username") && (document.getElementById("username").value = localStorage.getItem("username")), localStorage.getItem("sessionId") && (path = localStorage.getItem("sessionId")), localStorage.getItem("trackPadFriendlyMode") && (flag = "1" == localStorage.getItem("trackPadFriendlyMode"), document.getElementById("controls-tpfm1").checked = !flag, document.getElementById("controls-tpfm2").checked = flag), localStorage.getItem("moveWithMouse") && (isActive = "1" == localStorage.getItem("moveWithMouse"), 
        document.getElementById("controls-mwm").checked = isActive, enable = isActive), localStorage.getItem("colorBlindMode") && (shouldCollapse = "1" == localStorage.getItem("colorBlindMode"), document.getElementById("controls-colorblind").checked = shouldCollapse), localStorage.getItem("darkTheme") && (checked = "1" == localStorage.getItem("darkTheme"), document.getElementById("theme-radio1").checked = !checked, document.getElementById("theme-radio2").checked = checked), localStorage.getItem("chatDisabled") && 
        (autoCompile = "1" == localStorage.getItem("chatDisabled"), document.getElementById("settings-disablechat").checked = autoCompile), localStorage.getItem("infologDisabled") && (miniYouTubeActivated = "1" == localStorage.getItem("infologDisabled"), document.getElementById("settings-disableinfolog").checked = miniYouTubeActivated), localStorage.getItem("chatSize")) {
          val = parseInt(localStorage.getItem("chatSize"));
          var playr_cc_choices = document.getElementsByName("settings-chat-size");
          var i = 0;
          for (; i < playr_cc_choices.length; i++) {
            playr_cc_choices[i].checked = playr_cc_choices[i].value == val;
          }
          document.getElementById("chat-history").className = "size" + val;
        }
        if (localStorage.getItem("gameMode")) {
          type = parseInt(localStorage.getItem("gameMode"));
          select();
        }
        if (localStorage.getItem("initialGameMode")) {
          count = parseInt(localStorage.getItem("initialGameMode"));
        } else {
          if (!localStorage.getItem("gameMode")) {
            count = Math.random() < .5 ? 0 : 3;
            localStorage.setItem("initialGameMode", count);
            localStorage.setItem("gameMode", count);
            type = count;
            select();
          }
        }
      }
    } catch (g) {
      console.error(g);
    }
    PIXI.ticker.shared.stop();
    start();
    window.addEventListener("resize", generate, true);
    window.addEventListener("mousemove", onMouseDown, true);
    window.addEventListener("mouseup", move, true);
    window.addEventListener("wheel", onInspectorMove, true);
    window.addEventListener("keydown", handle, true);
    window.addEventListener("keyup", test, true);
    window.oncontextmenu = function(event) {
      return event.preventDefault(), false;
    };
    window.addEventListener("blur", function() {
      if (0 != _curr_idx) {
        of = [false, false, false, false];
        join();
      }
    }, true);
    document.getElementById("chat-input").onpaste = function(event) {
      event.preventDefault();
    };
    that = new PIXI.Container;
    sprite = new PIXI.Container;
    that.addChild(sprite);
    node1 = new PIXI.Container;
    that.addChild(node1);
    layer = new PIXI.Container;
    that.addChild(layer);
    r = new PIXI.Container;
    that.addChild(r);
    container = new PIXI.Container;
    that.addChild(container);
    element = new PIXI.Container;
    that.addChild(element);
    d = new PIXI.Container;
    that.addChild(d);
    parent = new PIXI.Container;
    that.addChild(parent);
    tree = new PIXI.Container;
    that.addChild(tree);
    o = new PIXI.Container;
    child = new PIXI.Container;
    MainLoop.setBegin(programV).setUpdate(loop).setDraw(draw).setEnd(scrollTo);
    PIXI.loader.add("img/spritesheet9.json").add("img/spritesheet92.json").add("img/line1.png").add("gridpixel", "img/gridpixel.png").load(function(canCreateDiscussions, obj) {
      var key;
      for (key in-1 == window.location.search.indexOf("playEpicTourney") && -1 == window.location.search.indexOf("streamEpicTourney") || (hasCanceled_ = true, slideFirst = true, type = 1, document.getElementById("gamemode-0").style.display = "none", document.getElementById("gamemode-2").style.display = "none", document.getElementById("gamemode-3").style.display = "none", document.getElementById("gamemode-1").classList.add("selected"), document.getElementById("gamemode-4") && (document.getElementById("gamemode-4").style.display = 
      "none")), "?streamTourney" != window.location.search && "?streamEpicTourney" != window.location.search || (hasColStyle = true, hasCanceled_ = true), main(), obj) {
        if (obj[key].error) {
          console.error("error loading asset", obj[key].error);
          alert(foo("Error loading game images, please reload the page. Clear your browser cache if this happens repeatedly."));
          obj[key].error;
          break;
        }
      }
      var i;
      for (i in options = PIXI.loader.resources["img/spritesheet9.json"].textures, PIXI.loader.resources["img/spritesheet92.json"].textures) {
        options[i] = PIXI.loader.resources["img/spritesheet92.json"].textures[i];
      }
      var dTempDate1;
      options.gridpixel = PIXI.loader.resources.gridpixel.texture;
      options.gridpixel.baseTexture.mipmap = false;
      if (11 == (dTempDate1 = new Date).getMonth() && dTempDate1.getDate() >= 21 && dTempDate1.getDate() <= 27 || -1 != window.location.search.indexOf("winter")) {
        options.dot1 = PIXI.Texture.fromImage("img/tower-gift.png");
        options.shoot = PIXI.Texture.fromImage("img/bullet-snowflake.png");
        options["death-blast"] = PIXI.Texture.fromImage("img/death-santa.png");
        ls = true;
      }
      if (function() {
        var dCurrent = new Date;
        return 4 == dCurrent.getMonth() && 4 == dCurrent.getDate();
      }() || -1 != window.location.search.indexOf("starwars")) {
        Bar();
      }
      if (limit && document.getElementById("youtube-live")) {
        document.getElementById("youtube-live").style.display = "none";
      }
      document.getElementById("homepage-loading").style.display = "none";
      document.getElementById("homepage-loaded").style.display = "block";
      search();
      callback();
      (_this = new PIXI.Sprite(options.shoot)).visible = false;
      _this.tint = 0;
      _this.alpha = .1;
      _this.anchor.set(.5);
      (c = new PIXI.Sprite(options.shoot)).visible = false;
      c.tint = 0;
      c.alpha = .3;
      c.anchor.set(.5);
      o.addChild(_this);
      o.addChild(c);
      (p = new PIXI.Sprite(options.shoot)).visible = false;
      p.tint = 0;
      p.alpha = .1;
      p.anchor.set(.5);
      (point = new PIXI.Sprite(options.shoot)).visible = false;
      point.tint = 0;
      point.alpha = .3;
      point.anchor.set(.5);
      o.addChild(p);
      o.addChild(point);
      (node = new PIXI.Sprite(options.build)).visible = false;
      node.anchor.set(.5);
      node.alpha = .5;
      o.addChild(node);
      if (isFractional && PIXI.loader.resources.pumpkin) {
        options.dot1 = PIXI.loader.resources.dot1s.texture;
        options.debris = PIXI.loader.resources.debris.texture;
        options.shoot = PIXI.loader.resources.pumpkin.texture;
      }
      if (ls && PIXI.loader.resources["tower-winter"]) {
        options.dot1 = PIXI.loader.resources["tower-winter"].texture;
        options.debris = PIXI.loader.resources["debris-winter"].texture;
      }
      if ("?skin-editor" == window.location.search) {
        postLink();
      }
      PIXI.loader.add("add-skins", "img/add-skins.js").load(function(canCreateDiscussions, s) {
        var item = JSON.parse(s["add-skins"].data);
        var lefts = [];
        var j;
        for (j in item.images) {
          options[j] = PIXI.Texture.fromImage(item.images[j]);
        }
        var i;
        for (i in item.specs) {
          files[parseInt(i)] = item.specs[i];
          lefts.push(parseInt(i));
        }
        setTimeout(function() {
          var i;
          for (i in callback(true), result) {
            if (children[i] && -1 !== lefts.indexOf(result[i])) {
              var p = children[i];
              tree.removeChild(p);
              element.removeChild(p.usernameText);
              if (p.shield) {
                tree.removeChild(p.shield);
              }
              if (p.badge) {
                element.removeChild(p.badge);
              }
              load(i);
              children[i].x = p.x;
              children[i].y = p.y;
              children[i].sx = p.sx;
              children[i].sy = p.sy;
            }
          }
        });
      });
      if ("?defuse-editor" == window.location.search) {
        initialize();
      }
      document.getElementById("preferred-server-block").getElementsByClassName("close")[0].addEventListener("click", function() {
        history.replaceState("", document.title, window.location.pathname + window.location.search);
        search();
      });
      if (document.getElementById("redo-last-upgrade-yes-button")) {
        document.getElementById("redo-last-upgrade-yes-button").addEventListener("click", function() {
          open(true);
        });
      }
      if (document.getElementById("redo-last-upgrade-no-button")) {
        document.getElementById("redo-last-upgrade-no-button").addEventListener("click", function() {
          open(false);
        });
      }
    });
    $(function() {
      $("#server").selectmenu().data("ui-selectmenu")._renderItem = function(ul, item) {
        var expedTableRoot = $("<li>");
        var x = $("<div>", {
          text : item.label
        });
        return item.element.attr("data-ping") && $("<span>", {
          class : "ping",
          text : "(ping: " + item.element.attr("data-ping") + ")"
        }).appendTo(x), expedTableRoot.append(x).appendTo(ul);
      };
    });
    try {
      if ("undefined" != typeof Storage) {
        if (localStorage.getItem("gamesPlayed")) {
          x = localStorage.getItem("gamesPlayed");
        }
        if (localStorage.getItem("showTuto")) {
          hidden = "true" == localStorage.getItem("showTuto");
        }
        if (localStorage.getItem("playerSkin")) {
          v = parseInt(localStorage.getItem("playerSkin"));
        }
        if (localStorage.getItem("playerSkinColor")) {
          key = parseInt(localStorage.getItem("playerSkinColor"));
        }
        if (localStorage.getItem("skinFacebookLiked")) {
          b.skinFacebookLiked = "true" == localStorage.getItem("skinFacebookLiked");
        }
        if (localStorage.getItem("skinTwitterTweet")) {
          b.skinTwitterTweet = "true" == localStorage.getItem("skinTwitterTweet");
        }
        if (localStorage.getItem("skinTwitterFollow")) {
          b.skinTwitterFollow = "true" == localStorage.getItem("skinTwitterFollow");
        }
        if (localStorage.getItem("skinYoutubeSubscribe")) {
          b.skinYoutubeSubscribe = "true" == localStorage.getItem("skinYoutubeSubscribe");
        }
        if (localStorage.getItem("skinFacebookShare")) {
          b.skinFacebookShare = "true" == localStorage.getItem("skinFacebookShare");
        }
        if (localStorage.getItem("skinDiscordJoin")) {
          b.skinDiscordJoin = "true" == localStorage.getItem("skinDiscordJoin");
        }
      }
    } catch (conv_reverse_sort) {
      console.log(conv_reverse_sort);
    }
    HQ = function() {
      var $ = false;
      var el = document.createElement("div");
      if (el.setAttribute("class", "pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner"), el.setAttribute("style", "width: 1px ! important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"), window.document.body.appendChild(el), null !== window.document.body.getAttribute("abp") || null === el.offsetParent || 0 == el.offsetHeight || 0 == el.offsetLeft || 0 == 
      el.offsetTop || 0 == el.offsetWidth || 0 == el.clientHeight || 0 == el.clientWidth) {
        $ = true;
      } else {
        if (void 0 !== window.getComputedStyle) {
          var computedStyle = window.getComputedStyle(el, null);
          if (!(!computedStyle || "none" != computedStyle.getPropertyValue("display") && "hidden" != computedStyle.getPropertyValue("visibility"))) {
            $ = true;
          }
        }
      }
      return window.document.body.removeChild(el), $;
    }();
    document.getElementById("tuto-video").setAttribute("src", limit ? "img/tutorial-mobile.mp4" : "img/tutorial.mp4");
    canvas = document.getElementById("minimap-canvas");
    context2d = document.getElementById("minimap-canvas").getContext("2d");
    if ((canViewMyFiles || canViewSiteFiles || canUploadFiles || nQ) && document.getElementById("portal-button")) {
      document.getElementById("portal-button").style.display = "none";
    }
    try {
      if (navigator.language.startsWith("ru") || navigator.language.startsWith("uk")) {
        document.getElementById("portal-button").getElementsByTagName("a")[0].href = "http://vseigru.net";
        document.getElementById("portal-button").getElementsByTagName("a")[0].innerHTML = "More Games";
      }
    } catch (g) {
      console.error(g);
    }
  }
  var NAME_FILTER;
  var my_pow;
  var path;
  var el;
  var i18n;
  var _deviceBearing;
  var smHeight;
  var foHeight;
  var fontIconHeight;
  var res;
  var input;
  var renderer;
  var that;
  var sprite;
  var node1;
  var container;
  var r;
  var layer;
  var d;
  var element;
  var parent;
  var tree;
  var options;
  var self;
  var tmp;
  var last_depth;
  var current;
  var EV_LISTENER_MARKUP;
  var canvas;
  var context2d;
  var imageData;
  var smoothedImage;
  var child;
  var o;
  var _this;
  var c;
  var p;
  var point;
  var node;
  var e;
  var _;
  var $scope;
  var instance;
  var intervalHandle;
  var url = "http://s.defly.io";
  var base = "192.168.0.12:3000";
  var categories = {};
  var sym = {};
  var escapes_obj = false;
  var _curr_idx = 0;
  var X = false;
  var mmCoreSecondsDay = 1;
  var bottom = 0;
  var depth = 0;
  var html = [];
  var endX = 0;
  var endY = 0;
  var fg = 0;
  var array = [];
  var roles = [];
  var lg = 0;
  var x = 0;
  var w = 0;
  var type = 0;
  var items = {};
  var before = false;
  var index = 20;
  var expectedKeys = [];
  var source = [];
  var absCurV = 0;
  var Ag = 0;
  var k = -1;
  var interval = 0;
  var err = false;
  var j = 0;
  var params = {};
  var names = {};
  var result = {};
  var v = 1;
  var key = -1;
  var hidden = true;
  var hasStyle = false;
  var isFilled = false;
  var pg = false;
  var attributeTemplate = 0;
  var widgetWithInputTemplate = 0;
  var baseDir = 0;
  var group = 0;
  var xg = false;
  var duedate = 0;
  var actual = [8, 8, 8, 8, 8, 8, 8];
  var _g = 0;
  var Ng = 0;
  var opts;
  var item;
  var bits;
  var scale;
  var zoom;
  var dd;
  var width;
  var height;
  var s;
  var number;
  var safety;
  var scaleFactor;
  var radius;
  var flag = false;
  var isActive = false;
  var enable = false;
  var checked = false;
  var autoCompile = false;
  var miniYouTubeActivated = false;
  var val = 2;
  var isFractional = false;
  var ls = false;
  var is = false;
  var valid = false;
  var bounds = null;
  var shouldCollapse = false;
  var hasCanceled_ = false;
  var slideFirst = false;
  var hasColStyle = false;
  var reverseValue = false;
  var es = false;
  var fileTooLarge = 0;
  var primaryTxHex = false;
  var count = -1;
  var size = 2;
  var t = 9;
  var duration = 48;
  var timeoutSecs = 24;
  var newZoom = .6763066483560869;
  var h = .1;
  var ts = 0;
  var to = 0;
  var currentFrame = 0;
  var on = false;
  var list = {};
  var map = {};
  var nodes = {};
  var children = {};
  var undefined = -1;
  var first = -1;
  var id = -1;
  var results = {};
  var args = {};
  var namesLength = 0;
  var Ws = 0;
  var snap = 4;
  var zoomScale = newZoom / .5036440950091954;
  var obj = [4021759, 9587711, 16144895, 16736174, 16594229, 16747050, 9698816, 1630751, 32823, 65468, 5625343];
  var record = [4021759, 16594229, 32823, 16747050, 9587711, 5625343, 1630751, 16144895, 16252714, 16736174, 9698816, 65468];
  var values = record.slice();
  var inputValues = [5066061, 4021759, 16594229];
  var channels = ["Blue", "Red", "Dark Green", "Orange", "Purple", "Sky Blue", "Green", "Pink", "Yellow", "Rose", "Lime", "Turquoise"];
  var pixels = channels.slice();
  var Ss = false;
  var uniqobj0 = ["", "Blue", "Red"];
  var signedTransactions = ["Dual Fire", "Speed Boost", "Clone", "Shield", "Flashbang", "Teleport", "Grenade"];
  var baseCardinals = [10, 10, 10, 10, 10, 1, 10];
  var urlContentRequests = [30, 30, 30, 30, 30, 30, 30];
  var cache = {};
  var overlapsEndcoor = {
    EU1 : "Europe",
    EU2 : "Europe Central",
    USE1 : "US East",
    USW1 : "US West",
    TOK1 : "Asia East",
    SA1 : "South America",
    RU1 : "Russia",
    TR : "Tournament",
    AU : "Australia"
  };
  var ctx;
  var daysToStart = (ctx = document.createElement("canvas").getContext("2d"), (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1));
  var ratio = getBabelRc().dpcm();
  var lonDDMArray = ["4r5e", "5h1t", "5hit", "a_s_s", "a55", "analbead", "anal", "analconda", "anus", "ar5e", "arrse", "arse", "arsehole", "ass", "ass fuck", "asses", "assfucker", "ass-fucker", "assfukka", "asshole", "assholes", "assmucus", "asswhole", "b!tch", "b00bs", "b17ch", "b1tch", "ballbag", "balls", "bangmywife", "ballsack", "bastard", "bastards", "beastial", "beastiality", "bellend", "bestial", "bestiality", "bi+ch", "biatch", "bitch", "bitcher", "bitchers", "bitches", "bitchin", "bitching", 
  "bloody", "blow job", "blowjob", "blowjobs", "blumpkin", "boiolas", "bollock", "bollocks", "bollok", "boner", "boob", "boobs", "booobs", "boooobs", "booooobs", "booooooobs", "breasts", "buceta", "bugger", "buggery", "bum", "bunny fucker", "butt", "butthole", "buttmuch", "buttplug", "c0ck", "c0cksucker", "carpet muncher", "cawk", "chink", "cipa", "cl1t", "clit", "clitoris", "clits", "cnut", "cock", "cockface", "cockhead", "cockmunch", "cockmuncher", "cocks", "cocksuck", "cocksucked", "cocksucker", 
  "cock-sucker", "cocksucker", "cocksucking", "cocksucks", "cocksuka", "cocksukka", "cok", "cokmuncher", "coksucka", "coon", "cox", "crap", "cum", "cum freak", "cumdump", "cumjunkie", "cummer", "cumming", "cums", "cumshot", "cunilingus", "cunillingus", "cunnilingus", "cunt", "cuntbag", "cuntlick", "cuntlicker", "cuntlicking", "cunts", "cuntsicle", "cyalis", "cyberfuc", "cyberfuck", "cyberfucked", "cyberfucker", "cyberfuckers", "cyberfucking", "d1ck", "damn", "darn", "dick", "dickhead", "dildo", "dildos", 
  "dink", "dinks", "dirsa", "dlck", "dog-fucker", "doggin", "dogging", "donkeyribber", "doosh", "douche", "duche", "dyke", "ejaculate", "ejaculated", "ejaculates", "ejaculating", "ejaculatings", "ejaculation", "ejakulate", "f u c k", "f u c k e r", "f_u_c_k", "f4nny", "facialize", "fag", "fagging", "faggitt", "faggot", "faggs", "fagot", "fagots", "fags", "fanny", "fannyflaps", "fannyfucker", "fanyy", "fart", "fatass", "fcuk", "fcuker", "fcuking", "feck", "fecker", "felch", "felching", "fellate", 
  "fellatio", "fingerfuck", "fingerfucked", "fingerfucker", "fingerfuckers", "fingerfucking", "fingerfucks", "fistfuck", "fistfucked", "fistfucker", "fistfuckers", "fistfucking", "fistfuckings", "fistfucks", "flange", "fook", "fooker", "fuck", "fucka", "fuck-bitch", "fucked", "fucker", "fuckers", "fuckhead", "fuckheads", "fuckin", "fucking", "fucking ", "fuckings", "fuckingshitmotherfucker", "fuckme", "fuckmeat", "fucks", "fucktoy", "fuckwhit", "fuckwit", "fudge packer", "fudgepacker", "fuk", "fuker", 
  "fukker", "fukkin", "fuks", "fukwhit", "fukwit", "fux", "fux0r", "gangbang", "gangbang", "gangbanged", "gangbangs", "gaylord", "gaysex", "goatse", "God", "god-dam", "goddamn", "goddamned", "god-damned", "hardcoresex", "heshe", "hoar", "hoare", "hoer", "homo", "hore", "horniest", "horny", "hotsex", "jackoff", "jack-off", "jap", "jerk-off", "jism", "jiz", "jizm", "jizz", "kawk", "knob", "knobead", "knobed", "knobend", "knobhead", "knobjocky", "knobjokey", "kock", "kondum", "kondums", "kum", "kummer", 
  "kumming", "kums", "kunilingus", "l3i+ch", "l3itch", "labia", "liter", "lust", "lusting", "m0f0", "m0fo", "m45terbate", "ma5terb8", "ma5terbate", "masochist", "masterb8", "masterbat*", "masterbat3", "masterbate", "master-bate", "masterbation", "masterbations", "masturbate", "mof0", "mofo", "mo-fo", "mothafuck", "mothafucka", "mothafuckas", "mothafuckaz", "mothafucked", "mothafucker", "mothafuckers", "mothafuckin", "mothafucking", "mothafuckings", "mothafucks", "mother fucker", "motherfuck", "motherfucked", 
  "motherfucker", "motherfucker", "motherfuckers", "motherfuckin", "motherfucking", "motherfucking", "motherfuckings", "motherfuckka", "motherfucks", "muff", "mutha", "muthafecker", "muthafuckker", "muther", "mutherfucker", "n1gga", "n1gger", "nazi", "nigg3r", "nigg4h", "nigga", "niggah", "niggas", "niggaz", "nigger", "niggers", "nlgger", "nlggers", "nob", "nob jokey", "nobhead", "nobjocky", "nobjokey", "numbnuts", "nutsack", "orgasim", "orgasims", "orgasm", "orgasms", "p0rn", "pawn", "pecker", "penis", 
  "penisfucker", "phonesex", "phuck", "phuk", "phuked", "phuking", "phukked", "phukking", "phuks", "phuq", "pigfucker", "pimpis", "piss", "pissed", "pisser", "pissers", "pisses", "pissflaps", "pissin", "pissing", "pissoff", "poop", "porn", "porno", "pornography", "pornos", "prick", "pricks", "pron", "pube", "pusse", "pussi", "pussies", "pussy", "pussys", "rapist", "rectum", "retard", "rimjaw", "rimming", "s hit", "s_h_i_t", "sadist", "schlong", "screwing", "scroat", "scrote", "scrotum", "semen", 
  "sex", "sh!+", "sh!t", "sh1t", "shag", "shagger", "shaggin", "shagging", "shemale", "shi+", "shit", "shit ass", "shitass", "shitdick", "shite", "shited", "shitey", "shitfuck", "shitfull", "shithead", "shiting", "shitings", "shits", "shitted", "shitter", "shitters", "shitting", "shittings", "shitty", "skank", "skullfuck", "slaptard", "slich", "slut", "sluts", "smegma", "smut", "snatch", "sob", "son-of-a-bitch", "spac", "spunk", "sucker", "suckmydick", "suckmydlck", "t1tt1e5", "t1tties", "teets", 
  "teez", "testical", "testicle", "tit", "titfuck", "tits", "titt", "tittie5", "tittiefucker", "titties", "tittyfuck", "tittywank", "titwank", "tosser", "turd", "tw4t", "twat", "twathead", "twatty", "twunt", "twunter", "v14gra", "v1gra", "vagina", "viagra", "vulva", "w00se", "wang", "wank", "wanker", "wanky", "whoar", "whore", "willies", "willy", "xrated", "xxx", "rape"];
  var ldata = {};
  !function() {
    var b = 0;
    for (; b < lonDDMArray.length; b++) {
      var s = lonDDMArray[b].toUpperCase();
      var name = s.charAt(0);
      if (-1 !== s.indexOf(" ")) {
        name = " ";
      }
      if (void 0 === ldata[name]) {
        ldata[name] = [];
      }
      ldata[name].push(s);
    }
  }();
  var HQ = false;
  var limit = function() {
    var g = navigator.userAgent || navigator.vendor || window.opera;
    return !(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(g) && !/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(g.substr(0, 
    4)));
  }() || "MacIntel" === navigator.platform && void 0 !== navigator.maxTouchPoints && navigator.maxTouchPoints > 1;
  var isNewStateNearStart = -1 !== navigator.userAgent.indexOf("Safari") && -1 === navigator.userAgent.indexOf("Chrome") && -1 === navigator.userAgent.indexOf("Chromium");
  var isReplayingSong = limit && isNewStateNearStart;
  var canViewMyFiles = -1 !== document.referrer.indexOf("kongregate.com");
  var canViewSiteFiles = -1 !== document.referrer.indexOf("newgrounds.com");
  var nQ = -1 !== document.referrer.indexOf("crazygames.com") || -1 !== document.referrer.indexOf("speelspelletjes.nl") || -1 !== document.referrer.indexOf("gioca.re") || -1 !== document.referrer.indexOf(" onlinegame.co.id") || -1 !== document.referrer.indexOf("1001juegos.com") || -1 !== document.referrer.indexOf("crazygames.fr") || -1 !== document.referrer.indexOf("crazygames.ru") || -1 !== document.referrer.indexOf("crazygames.com.br");
  var canUploadFiles = -1 !== document.referrer.indexOf("pacogames.com") || -1 !== document.referrer.indexOf("gamearter.com");
  var resizeLogTimeout;
  var detectingSelectAll;
  var rQ = 0;
  var bufferToHexCodes;
  var OQ = false;
  var zQ = false;
  var mQ = 0;
  var locLabelCanvas;
  var files = {
    1 : {
      base : "player1",
      notint : "player1-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : .6329729782327356
      }],
      size : 1
    },
    2 : {
      base : "player2",
      notint : "player2-notint",
      rotors : [{
        img : "rotor2",
        x : -30.96 / 46.24,
        y : -30.96 / 46.24,
        speed : 8 * Math.PI,
        size : 19.593 / 65.333
      }, {
        img : "rotor3",
        x : -30.96 / 46.24,
        y : 30.96 / 46.24,
        speed : 8 * Math.PI,
        size : 19.593 / 65.333
      }, {
        img : "rotor3",
        x : 30.96 / 46.24,
        y : -30.96 / 46.24,
        speed : 8 * Math.PI,
        size : 19.593 / 65.333
      }, {
        img : "rotor2",
        x : 30.96 / 46.24,
        y : 30.96 / 46.24,
        speed : 8 * Math.PI,
        size : 19.593 / 65.333
      }],
      size : 65.333 / 102.769
    },
    3 : {
      base : "player3",
      notint : "player3-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : .6329729782327356
      }],
      size : 104.789 / 102.769
    },
    4 : {
      base : "player4",
      notint : "player4-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : .6329729782327356
      }],
      size : 102.621 / 102.769
    },
    5 : {
      base : "player5",
      notint : "player5-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : .6329729782327356
      }],
      size : 97.57 / 102.769
    },
    6 : {
      base : "player6",
      notint : "player6-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : .6329729782327356
      }],
      size : 102.621 / 102.769
    },
    7 : {
      base : "player7",
      notint : "player7-notint",
      rotors : [{
        img : "rotor2",
        x : -21.97 / 38.3945,
        y : -21.72 / 38.3945,
        speed : 8 * Math.PI,
        size : 19.593 / 76.789
      }, {
        img : "rotor3",
        x : -21.72 / 38.3945,
        y : 21.72 / 38.3945,
        speed : 8 * Math.PI,
        size : 19.593 / 76.789
      }, {
        img : "rotor3",
        x : 21.97 / 38.3945,
        y : -21.72 / 38.3945,
        speed : 8 * Math.PI,
        size : 19.593 / 76.789
      }, {
        img : "rotor2",
        x : 21.97 / 38.3945,
        y : 21.72 / 38.3945,
        speed : 8 * Math.PI,
        size : 19.593 / 76.789
      }],
      size : 76.789 / 102.769
    },
    8 : {
      base : "player8",
      notint : "player8-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 17.22 / 97.641 * 2,
        speed : 4 * Math.PI,
        size : 16.545 / 97.641
      }, {
        img : "rotor1",
        x : 0,
        y : -17.22 / 97.641 * 2,
        speed : 4 * Math.PI,
        size : 16.545 / 97.641
      }],
      size : 97.641 / 102.769
    },
    9 : {
      base : "player9",
      notint : "player9-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 51.183 / 64.879
      }],
      size : 64.879 / 102.769
    },
    10 : {
      base : "player10",
      notint : "player10-notint",
      rotors : [{
        img : "rotor1",
        x : -22.48 / 72.412 * 2,
        y : 0,
        speed : 4 * Math.PI,
        size : 33.953 / 72.412
      }, {
        img : "rotor1",
        x : 22.48 / 72.412 * 2,
        y : 0,
        speed : 4 * Math.PI,
        size : 33.953 / 72.412
      }],
      size : 72.412 / 102.769
    },
    11 : {
      base : "player11",
      notint : "player11-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 65.05 / 82.769
      }],
      size : 82.769 / 102.769
    },
    12 : {
      base : "player12",
      notint : "player12-notint",
      rotors : [{
        img : "rotor2",
        x : -15.95 / 39.848,
        y : -24.85 / 39.848,
        speed : 8 * Math.PI,
        size : 15.577 / 79.696
      }, {
        img : "rotor3",
        x : -15.95 / 39.848,
        y : 24.85 / 39.848,
        speed : 8 * Math.PI,
        size : 15.577 / 79.696
      }, {
        img : "rotor3",
        x : 15.95 / 39.848,
        y : -24.85 / 39.848,
        speed : 8 * Math.PI,
        size : 15.577 / 79.696
      }, {
        img : "rotor2",
        x : 15.95 / 39.848,
        y : 24.85 / 39.848,
        speed : 8 * Math.PI,
        size : 15.577 / 79.696
      }],
      size : 79.696 / 102.769
    },
    13 : {
      base : "player13",
      notint : "player13-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 65.05 / 88.841
      }],
      size : 88.841 / 102.769
    },
    14 : {
      base : "player14",
      notint : "player14-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 34.038 / 88.841
      }],
      size : 88.841 / 102.769
    },
    15 : {
      base : "player15",
      notint : "player15-notint",
      rotors : [{
        img : "rotor4",
        x : 0,
        y : 0,
        speed : 2 * Math.PI,
        size : 44.206 / 59.912
      }],
      size : .6412750926835914
    },
    16 : {
      base : "player16",
      notint : "player16-notint",
      rotors : [{
        img : "rotor1",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : .6329729782327356
      }],
      size : 113.538 / 102.769
    },
    17 : {
      base : "player17",
      notint : "player17-notint",
      rotors : [{
        img : "rotor3",
        x : 0,
        y : -22.05 / 37.365,
        speed : 4 * Math.PI,
        size : 19.289 / 74.73
      }, {
        img : "rotor3",
        x : 0,
        y : 22.05 / 37.365,
        speed : 4 * Math.PI,
        size : 19.289 / 74.73
      }, {
        img : "rotor3",
        x : 21.82 / 37.365,
        y : -22.83 / 37.365,
        speed : 4 * Math.PI,
        size : 19.289 / 74.73
      }, {
        img : "rotor3",
        x : 21.82 / 37.365,
        y : 22.83 / 37.365,
        speed : 4 * Math.PI,
        size : 19.289 / 74.73
      }],
      size : 74.73 / 102.769
    },
    18 : {
      base : "player18",
      notint : "player18-notint",
      rotors : [{
        img : "rotor2",
        x : -25.63 / 38.7155,
        y : 0,
        speed : 4 * Math.PI,
        size : 16.111 / 96.214
      }, {
        img : "rotor2",
        x : 11.5 / 38.7155,
        y : 22.28 / 38.7155,
        speed : 4 * Math.PI,
        size : 20.019 / 96.214
      }, {
        img : "rotor2",
        x : 11.5 / 38.7155,
        y : -22.28 / 38.7155,
        speed : 4 * Math.PI,
        size : 20.019 / 96.214
      }],
      size : 96.214 / 102.769
    },
    19 : {
      base : "player19",
      notint : "player19-notint",
      rotors : [{
        img : "rotor1",
        x : -3.4 / 35.1875,
        y : 16.14 / 35.1875,
        speed : 4 * Math.PI,
        size : 9.354 / 70.375
      }, {
        img : "rotor1",
        x : -3.4 / 35.1875,
        y : -16.14 / 35.1875,
        speed : 4 * Math.PI,
        size : 9.354 / 70.375
      }],
      size : 79.214 / 102.769
    },
    20 : {
      base : "player20",
      notint : "player20-notint",
      rotors : [{
        img : "rotor3",
        x : 0,
        y : 23.61 / 35.6755,
        speed : 8 * Math.PI,
        size : 42.767 / 71.351
      }, {
        img : "rotor3",
        x : 0,
        y : -23.61 / 35.6755,
        speed : 8 * Math.PI,
        size : 42.767 / 71.351
      }],
      size : 71.351 / 102.769
    },
    21 : {
      base : "player21",
      notint : "player21-notint",
      rotors : [{
        img : "rotor5",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 68.192 / 100.233
      }],
      size : 113.491 / 102.769
    },
    22 : {
      base : "player22",
      notint : "player22-notint",
      rotors : [{
        img : "rotor6",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 1
      }],
      size : 225 / 256
    },
    23 : {
      base : "player23",
      notint : "player23-notint",
      rotors : [{
        img : "rotor6",
        x : 0,
        y : 0,
        speed : 4 * Math.PI,
        size : 1
      }],
      size : 225 / 256
    },
    24 : {
      base : "player24",
      notint : "player24-notint",
      rotors : [{
        img : "rotor7c",
        x : 0,
        y : 0,
        speed : 2 * Math.PI,
        size : 1,
        layer : 0
      }],
      size : .6412750926835914
    },
    25 : {
      base : "player25",
      notint : "player25-notint",
      rotors : [{
        img : "rotor8b",
        x : 0,
        y : 0,
        speed : 2 * Math.PI,
        size : 1,
        layer : 1
      }],
      size : .6412750926835914
    }
  };
  var vehiclesIndex = {};
  var prices;
  var subwikiList;
  var _td_alert;
  var looker;
  var LinkMaxVerticalDistanceFromArticle = 0;
  var Tc = 0;
  var endCallTimeout;
  var intervalId1;
  var _takingTooLongTimeout;
  var _mapViewerChangesCheck;
  var months = ["Can't cross enemy lines", "Can't build: too close from existing dot", "Can't build line so long", "Can't build line on existing dot", "Can't build dot on existing line"];
  var Lc = 0;
  var inlines = [];
  var json = [];
  var arr = [];
  var data = [];
  var context = ["You win! You protected your bomb spots until the end", "You win! All enemies have been killed!", "You win! The bomb exploded", "You win! You defused the bomb", "You lose! You failed to plant the bomb before the countdown", "You lose! All your teammates have been killed", "You lose! You failed to defuse the bomb", "You lose! The enemy defused the bomb"];
  var childrenDescriptors = [];
  var zc = false;
  let lastIdx = 0;
  let Nc = 0;
  let tabbables = ["name", "kills", "deaths", "statusText"];
  var label;
  var _mapViewerLoadingPolling;
  var length = 0;
  var _pageIsFullScreen = false;
  var iterable = false;
  var object = 0;
  var expressInstallIsActive = false;
  var appendTrackTimer;
  var isQualifier = false;
  var orientation = -1;
  var maxConditions = 0;
  var _input_filter_changed;
  var input_filter_changed;
  var fbxTimer;
  var mh = 0;
  anime.easings.flashbangCurve = function(canCreateDiscussions) {
    return canCreateDiscussions < .5 ? anime.easings.easeInQuad(2 * canCreateDiscussions) / 2 : anime.easings.easeInQuad(2 * (.5 - (canCreateDiscussions - .5))) + .5;
  };
  var a = [];
  var Jh = false;
  var unconditional = false;
  var ds = 0;
  var touch;
  var t0;
  var touchObj;
  var pos;
  var evt;
  var event;
  var t1;
  var lastUpdate = 0;
  var Ff = false;
  var area = 0;
  var mySeries = false;
  var of = [false, false, false, false];
  var shadow = false;
  var protoProps = false;
  var staticProps = false;
  var df = false;
  var pf = 0;
  var Yf = 0;
  var target = null;
  Grid.prototype.add = function(type, name) {
    this.grid[Math.floor(name.x / this.gridSize)][Math.floor(name.y / this.gridSize)].add(type);
  };
  Grid.prototype.addLine = function(type, top, left) {
    var tmp = remove(Math.floor(top.x / this.gridSize), Math.floor(top.y / this.gridSize), Math.floor(left.x / this.gridSize), Math.floor(left.y / this.gridSize));
    var i = 0;
    for (; i < tmp.length; i = i + 2) {
      this.grid[tmp[i]][tmp[i + 1]].add(type);
    }
  };
  Grid.prototype.addZone = function(event, data, zone, id, units) {
    var firstDisplayed = Math.floor(data / this.gridSize);
    var lminzoom = Math.floor(id / this.gridSize);
    var zIncLen = Math.floor(zone / this.gridSize);
    var tess = Math.floor(units / this.gridSize);
    var i = firstDisplayed;
    for (; i <= zIncLen; i++) {
      var j = lminzoom;
      for (; j <= tess; j++) {
        this.grid[i][j].add(event);
      }
    }
  };
  Grid.prototype.remove = function(type, value) {
    this.grid[Math.floor(value.x / this.gridSize)][Math.floor(value.y / this.gridSize)].delete(type);
  };
  Grid.prototype.removeLine = function(id, content, n) {
    var tmp = remove(Math.floor(content.x / this.gridSize), Math.floor(content.y / this.gridSize), Math.floor(n.x / this.gridSize), Math.floor(n.y / this.gridSize));
    var i = 0;
    for (; i < tmp.length; i = i + 2) {
      this.grid[tmp[i]][tmp[i + 1]].delete(id);
    }
  };
  Grid.prototype.removeZone = function(event, pos, margin, data, byteStart) {
    var firstDisplayed = Math.floor(pos / this.gridSize);
    var lminzoom = Math.floor(data / this.gridSize);
    var zIncLen = Math.floor(margin / this.gridSize);
    var tess = Math.floor(byteStart / this.gridSize);
    var i = firstDisplayed;
    for (; i <= zIncLen; i++) {
      var j = lminzoom;
      for (; j <= tess; j++) {
        this.grid[i][j].delete(event);
      }
    }
  };
  Grid.prototype.update = function(name, agent, position) {
    var n = Math.floor(agent.x / this.gridSize);
    var i = Math.floor(agent.y / this.gridSize);
    var x = Math.floor(position.x / this.gridSize);
    var y = Math.floor(position.y / this.gridSize);
    if (!(n == x && i == y)) {
      this.grid[n][i].delete(name);
      this.grid[x][y].add(name);
    }
  };
  Grid.prototype.getAllInRange = function(blob2, radius, l) {
    var activeLikes = new Set;
    var y0 = Math.floor(blob2.x / this.gridSize);
    var c = Math.floor(blob2.y / this.gridSize);
    var y = -radius;
    for (; y <= radius; y++) {
      var x = -l;
      for (; x <= l; x++) {
        if (y0 + y >= 0 && y0 + y < this.grid.length && c + x >= 0 && c + x < this.grid[0].length) {
          this.grid[y0 + y][c + x].forEach(function(g) {
            activeLikes.add(g);
          });
        }
      }
    }
    var gBuffer = [];
    return activeLikes.forEach(function(g) {
      gBuffer.push(g);
    }), gBuffer;
  };
  Grid.prototype.getAllInRect = function(index, span, cols, rows) {
    var activeLikes = new Set;
    var firstDisplayed = Math.floor(index / this.gridSize);
    var functionValuesX = Math.floor(cols / this.gridSize);
    var zIncLen = Math.floor(span / this.gridSize);
    var wholePercentWidth = Math.floor(rows / this.gridSize);
    var i = firstDisplayed;
    for (; i <= zIncLen; i++) {
      var x = functionValuesX;
      for (; x <= wholePercentWidth; x++) {
        this.grid[i][x].forEach(function(g) {
          activeLikes.add(g);
        });
      }
    }
    var currentMaxTerms = [];
    return activeLikes.forEach(function(j) {
      currentMaxTerms.push(j);
    }), currentMaxTerms;
  };
  PIXI.ObservablePoint.prototype.dst = function(obj) {
    var dx = obj.x - this.x;
    var dy = obj.y - this.y;
    return Math.sqrt(dx * dx + dy * dy);
  };
  PIXI.ObservablePoint.prototype.dst2 = function(b) {
    var dx = b.x - this.x;
    var dy = b.y - this.y;
    return dx * dx + dy * dy;
  };
  PIXI.ObservablePoint.prototype.dst2XY = function(chartX, chartY) {
    var dx = chartX - this.x;
    var dy = chartY - this.y;
    return dx * dx + dy * dy;
  };
  PIXI.ObservablePoint.prototype.sub = function(other) {
    return this.x -= other.x, this.y -= other.y, this;
  };
  PIXI.ObservablePoint.prototype.add = function(type) {
    return this.x += type.x, this.y += type.y, this;
  };
  PIXI.ObservablePoint.prototype.scl = function(s) {
    return this.x *= s, this.y *= s, this;
  };
  PIXI.ObservablePoint.prototype.len = function(array) {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  };
  PIXI.ObservablePoint.prototype.len2 = function(x2) {
    return this.x * this.x + this.y * this.y;
  };
  PIXI.ObservablePoint.prototype.nor = function() {
    var sqsum = this.len2();
    return 0 == sqsum || 1 == sqsum ? this : this.scl(1 / Math.sqrt(sqsum));
  };
  PIXI.ObservablePoint.prototype.cpy = function() {
    return new PIXI.Point(this.x, this.y);
  };
  PIXI.ObservablePoint.prototype.rotate90 = function(num) {
    var x = this.x;
    return num >= 0 ? (this.x = -this.y, this.y = x) : (this.x = this.y, y = -x), this;
  };
  PIXI.ObservablePoint.prototype.dot = function(v) {
    return this.x * v.x + this.y * v.y;
  };
  PIXI.Point.prototype.dst = PIXI.ObservablePoint.prototype.dst;
  PIXI.Point.prototype.dst2 = PIXI.ObservablePoint.prototype.dst2;
  PIXI.Point.prototype.dst2XY = PIXI.ObservablePoint.prototype.dst2XY;
  PIXI.Point.prototype.sub = PIXI.ObservablePoint.prototype.sub;
  PIXI.Point.prototype.add = PIXI.ObservablePoint.prototype.add;
  PIXI.Point.prototype.scl = PIXI.ObservablePoint.prototype.scl;
  PIXI.Point.prototype.len = PIXI.ObservablePoint.prototype.len;
  PIXI.Point.prototype.len2 = PIXI.ObservablePoint.prototype.len2;
  PIXI.Point.prototype.nor = PIXI.ObservablePoint.prototype.nor;
  PIXI.Point.prototype.cpy = PIXI.ObservablePoint.prototype.cpy;
  PIXI.Point.prototype.rotate90 = PIXI.ObservablePoint.prototype.rotate90;
  PIXI.Point.prototype.dot = PIXI.ObservablePoint.prototype.dot;
  var value = new PIXI.Point;
  var me;
  var d8NotBuilt = false;
  var cM = false;
  var hM = false;
  var withinLowerBound = false;
  var MM = false;
  var lastCap = 0;
  var max_depth = 60;
  var VM = 0;
  var isHoveringTopPart = false;
  var body;
  var payload;
  var service_url;
  var email;
  hasStyle = false;
  isFilled = false;
  var parts = [];
  var b = {
    skinFacebookLiked : false,
    skinTwitterTweet : false,
    skinTwitterFollow : false,
    skinYoutubeSubscribe : false,
    skinFacebookShare : false,
    skinDiscordJoin : false
  };
  var ret = [];
  var i = 0;
  var showall = false;
  var y = 0;
  var inputs = [{
    name : "Holidays",
    list : [68, 64, 65, 66, 67, 69, 70]
  }, {
    name : "Helicopter",
    list : [1, 3, 4, 5, 6, 21, 26]
  }, {
    name : "Drone",
    list : [2, 7, 14, 18, 19, 12, 27]
  }, {
    name : "Gyrocopter",
    list : [8, 9, 10, 13, 11, 20, 28]
  }, {
    name : "UFO",
    list : [15, 29, 24, 25, 30, 31, 32]
  }, {
    name : "Space",
    list : [17, 40, 41, 42, 43, 44, 45]
  }, {
    name : "Jet",
    list : [33, 34, 35, 36, 37, 38, 39]
  }, {
    name : "Beast",
    list : [16, 46, 47, 23, 48, 22, 49]
  }, {
    name : "Blades",
    list : [50, 51, 52, 53, 54, 55, 56]
  }, {
    name : "Mythical",
    list : [57, 58, 59, 60, 61, 62, 63]
  }, {
    name : "Insects",
    list : [89, 90, 91, 92, 93, 94, 95]
  }, {
    name : "Astrorace.io",
    list : [107, 108, 109, 110, 111, 112, 113]
  }, {
    name : "Crystals",
    list : [122, 123, 124, 125, 126, 127, 128]
  }, {
    name : "Premium",
    list : [81, 82, 83, 84, 85, 86, 87, 88, 100, 101, 102, 103, 104, 105, 106]
  }, {
    name : "Elite",
    list : [71, 79, 96, 97, 98, 99]
  }];
  var n = -1;
  var motionInterval;
  var scope;
  var name = 999;
  var urls = {};
  var _zIndexSlots = ["FFA", "Team", "Defuse", "E-FFA", "1v1"];
  var screenSmallerThanEditor = false;
  var num = 1;
  var sprites = [];
  var entities = [];
  if ("loading" !== document.readyState) {
    render();
  } else {
    document.addEventListener("DOMContentLoaded", render, false);
  }
  window.addEventListener("beforeunload", function(elem) {
    if (0 != _curr_idx && !tmp && !pg || unconditional || screenSmallerThanEditor) {
      return elem.returnValue = "Exit the game?", "Exit the game?";
    }
  });
  var state = {
    selectMode : function(event) {
      if (!hasCanceled_) {
        if ("none" !== document.getElementById("play-button").style.display) {
          type = event;
          select();
          main();
          if (NAME_FILTER) {
            history.replaceState("", document.title, window.location.pathname + window.location.search);
            search();
          }
        }
      }
    },
    clickPlay : function() {
      if (-1 == document.referrer.indexOf("deflyio.com") && -1 == document.referrer.indexOf("deflyio.net") && -1 == document.referrer.indexOf("deflyio.org") && -1 == document.referrer.indexOf("difly.io") && -1 == document.referrer.indexOf("defly-io.com") && -1 == document.referrer.indexOf("difly.io") || (window.top.location.href = "http://defly.io"), !hasColStyle && hasCanceled_ && !hasStyle && !isFilled) {
        return alert("You must sign-in to participate the tournament"), void parseTSPReq();
      }
      (function() {
        try {
          if (-1 === (WebSocket + "").indexOf("native code")) {
            return true;
          }
          if (-1 === (WebSocket.prototype.send + "").indexOf("native code")) {
            return true;
          }
        } catch (g) {
        }
        return false;
      })();
      if (hidden) {
        OQ = true;
        refresh();
        if ("undefined" != typeof gtag) {
          gtag("event", "PlayShowTuto", {
            event_category : "Click",
            gamesPlayed : x,
            initialGameMode : -1 == count ? null : count
          });
        }
      } else {
        fullscreen();
        if ("undefined" != typeof gtag) {
          gtag("event", "Play", {
            event_category : "Click",
            gamesPlayed : x,
            initialGameMode : -1 == count ? null : count
          });
        }
      }
      try {
        localStorage.setItem("gameMode", type);
      } catch (g) {
        console.error(g);
      }
    },
    backToHomepage : go,
    showTutorial : refresh,
    clickTutoButton : function() {
      if (document.getElementById("homepage").classList.remove("blurred"), document.getElementById("tuto-popup").style.display = "none", hidden = !document.getElementById("tuto-checkbox").checked, "undefined" != typeof Storage) {
        try {
          localStorage.setItem("showTuto", hidden);
        } catch (conv_reverse_sort) {
          console.log(conv_reverse_sort);
        }
      }
      if (OQ) {
        fullscreen();
      }
      OQ = false;
      if ("undefined" != typeof gtag) {
        gtag("event", hidden ? "CloseTutoShowAgain" : "CloseTutoDotNotShowAgain", {
          event_category : "Click"
        });
      }
    },
    respawn : function() {
      bufferToHexCodes = sendMousePosition;
      if (!hasCanceled_ && (w > 600 || 2 == x || x > 2 && (x - 2) % 2 == 0) && clear()) {
        if ("undefined" != typeof gtag) {
          gtag("event", "Respawn", {
            event_category : "Click",
            event_label : "VideoAd"
          });
        }
      } else {
        sendMousePosition();
        if ("undefined" != typeof gtag) {
          gtag("event", "Respawn", {
            event_category : "Click",
            event_label : "NoVideoAd"
          });
        }
      }
      attributeTemplate = 0;
      document.getElementById("respawn-spinner").style.display = "inline-block";
      document.getElementById("respawn-button").style.display = "none";
      document.getElementById("xp-bar").style.display = "block";
    },
    spectate : function() {
      if (2 == type) {
        if (currentFrame >= 30) {
          bufferToHexCodes = acceptTheCall;
          if ((2 == x || x > 2 && (x - 2) % 2 == 0) && clear()) {
            if ("undefined" != typeof gtag) {
              gtag("event", "Spectate", {
                event_category : "Click",
                event_label : "VideoAd"
              });
            }
          } else {
            acceptTheCall();
          }
        } else {
          acceptTheCall();
        }
      } else {
        document.getElementById("respawn").style.display = "none";
      }
    },
    upgrade : show,
    selectSuperpower : function(temp) {
      document.getElementById("choose-superpower").style.display = "none";
      var view = new DataView(new ArrayBuffer(2));
      view.setUint8(0, 6);
      view.setUint8(1, temp);
      res.send(view.buffer);
      k = temp;
      interval = 0;
      document.getElementById("superpower-fuel").style.display = "block";
      if (window.event) {
        window.event.preventDefault();
      }
    },
    promoComplete : parseOCSPReq,
    setQuality : renderImage,
    chooseSkin : function() {
      document.getElementById("skin-popup").style.display = "block";
      document.getElementById("homepage").classList.add("blurred");
      if ("undefined" != typeof gtag) {
        gtag("event", "SelectSkin", {
          event_category : "Click"
        });
      }
    },
    closeSkinSelector : function() {
      document.getElementById("skin-popup").style.display = "none";
      document.getElementById("homepage").classList.remove("blurred");
      if ("undefined" != typeof gtag) {
        gtag("event", "CloseSkinPopup", {
          event_category : "Click",
          playerSkin : v,
          playerSkinColor : key
        });
      }
    },
    changeSkinColor : linkifyTextNode,
    changeSkinTab : find,
    sac : send,
    onGoogleSignIn : format,
    googleSignOut : startCameraAsync,
    onFacebookLoginStatus : checkLoginStatus,
    logout : done,
    clickGoogleLogin : function() {
      if (document.getElementById("privacy-policy-checkbox").checked) {
        gapi.load("auth2", function() {
          gapi.auth2.init({
            client_id : document.head.querySelector("meta[name=google-signin-client_id]").content
          }).then(function() {
            gapi.auth2.getAuthInstance().signIn({
              scope : "profile email"
            }).then(function(name) {
              format(name);
            }).catch(function(g) {
              console.error(g);
              alert("Google sign-in failed: " + g.error + " - Reload the page and try again");
            });
          }).catch(function(action) {
            console.error(action);
            alert("Can't use google sign-in: " + action.details + " - See FAQ on discord");
          });
        });
      } else {
        alert("You must accept the privacy policy");
      }
    },
    clickFacebookLogin : function() {
      if (document.getElementById("privacy-policy-checkbox").checked) {
        FB.login(checkLoginStatus, {
          scope : "email"
        });
      } else {
        alert("You must accept the privacy policy");
      }
    },
    showMyStats : function() {
      var request = new XMLHttpRequest;
      request.onreadystatechange = function() {
        if (4 == request.readyState && 200 == request.status) {
          var mappings = request.responseText.split("\n");
          var e = JSON.parse(mappings[0]);
          var k = mappings[1];
          var helpTextData = "<thead><th>GameMode<th>Start</th><th>Duration</th><th>Level reached/<br/>Rounds played</th><th>Towers destroyed</th><th>Players killed</th><th>Max Map %/<br/>Rounds win%</th><th>Max Score</th><th>Coins earnings</th><th>Kill reason</th></thead><tbody>";
          var f = 0;
          for (; f < e.length; f++) {
            var m = e[f];
            var r = 4 == m.game_mode ? 100 * m.max_area : 2 == m.game_mode ? 100 * m.max_area : 100 * m.max_area / (m.map_area ? m.map_area : Math.pow(3 == m.game_mode ? 500 : 800, 2));
            r = darkenHexChannel(r);
            var stone = 4 == m.game_mode ? "" : "Disconnect";
            switch(m.kill_reason) {
              case 1:
                stone = "Bullet";
                break;
              case 2:
                stone = "Wall";
                break;
              case 3:
                stone = "Player collision";
                break;
              case 4:
                stone = "Victory";
                break;
              case 5:
                stone = "Grenade";
            }
            helpTextData = helpTextData + ("<tr><td>" + _zIndexSlots[m.game_mode] + "</td><td>" + (new Date(m.start)).toLocaleString() + "</td><td>" + (h = (m.end - m.start) / 1E3, p = void 0, i = void 0, seconds = void 0, p = Math.floor(h / 3600), i = Math.floor((h - 3600 * p) / 60), seconds = Math.floor(h - 3600 * p - 60 * i), p < 10 && (p = "0" + p), i < 10 && (i = "0" + i), seconds < 10 && (seconds = "0" + seconds), p + "h" + i + "m" + seconds + "s") + "</td><td>" + m.level + "</td><td>" + m.dot_kills + 
            "</td><td>" + m.player_kills + "</td><td>" + r + "</td><td>" + Math.round(m.max_score) + "</td><td>" + loadTexture(m.game_mode, m.max_score, m.dot_kills, m.player_kills) + "</td><td>" + stone + "</td></tr>");
          }
          helpTextData = helpTextData + "</tbody>";
          document.getElementById("my-statistics-table").innerHTML = helpTextData;
          document.getElementById("ms-coins").innerHTML = Math.floor(k);
          document.getElementById("ma-coins").innerHTML = Math.floor(k);
          document.getElementById("ms-player-name").innerHTML = document.getElementById("username").value;
          document.getElementById("my-statistics").style.display = "block";
          document.getElementById("my-stats-button").enabled = true;
          document.getElementById("my-stats-button").innerHTML = foo("My Statistics");
        } else {
          if (4 == request.readyState && 200 != request.status) {
            request.onerror(request.status);
          }
        }
        var h;
        var p;
        var i;
        var seconds;
      };
      request.onerror = function(line) {
        reject((new Date).toLocaleTimeString() + " - Error getting stats", "error");
        console.log(line);
      };
      request.open("POST", url + "/mystats?s=" + path, true);
      request.send(null);
      document.getElementById("my-stats-button").enabled = false;
      document.getElementById("my-stats-button").innerHTML = foo("Loading...");
    },
    showMyAccount : dispatch,
    selectTeam : listener,
    buyGear : function(value) {
      var view = new DataView(new ArrayBuffer(3));
      view.setUint8(0, 11);
      view.setUint8(1, value);
      view.setUint8(2, 0);
      res.send(view.buffer);
    },
    sellGear : function(value) {
      var view = new DataView(new ArrayBuffer(3));
      view.setUint8(0, 11);
      view.setUint8(1, value);
      view.setUint8(2, 1);
      res.send(view.buffer);
    },
    changeControls : function() {
      flag = document.getElementById("controls-tpfm2").checked;
      shouldCollapse = document.getElementById("controls-colorblind").checked;
      isActive = document.getElementById("controls-mwm").checked;
      enable = isActive;
      try {
        localStorage.setItem("trackPadFriendlyMode", flag ? 1 : 0);
        localStorage.setItem("moveWithMouse", isActive ? 1 : 0);
        localStorage.setItem("colorBlindMode", shouldCollapse ? 1 : 0);
      } catch (conv_reverse_sort) {
        console.log(conv_reverse_sort);
      }
      if (_curr_idx > 0) {
        var i;
        for (i in list) {
          list[i].texture = options[expect(list[i].owner, list[i].hp, list[i].maxHP)];
        }
      }
    },
    changeTheme : function() {
      checked = document.getElementById("theme-radio2").checked;
      renderer.backgroundColor = checked ? 0 : 15923199;
      try {
        localStorage.setItem("darkTheme", checked ? 1 : 0);
      } catch (conv_reverse_sort) {
        console.log(conv_reverse_sort);
      }
      if (generate(), _curr_idx > 0) {
        var name;
        for (name in children) {
          children[name].usernameText._style.fill = checked ? 16777215 : 0;
        }
        setup();
      }
    },
    changeChatSettings : function() {
      autoCompile = document.getElementById("settings-disablechat").checked;
      miniYouTubeActivated = document.getElementById("settings-disableinfolog").checked;
      var ingList = document.getElementsByName("settings-chat-size");
      var j = 0;
      for (; j < ingList.length; j++) {
        if (ingList[j].checked) {
          val = ingList[j].value;
        }
      }
      document.getElementById("chat-history").className = "size" + val;
      try {
        localStorage.setItem("chatDisabled", autoCompile ? 1 : 0);
        localStorage.setItem("infologDisabled", miniYouTubeActivated ? 1 : 0);
        localStorage.setItem("chatSize", val);
      } catch (conv_reverse_sort) {
        console.log(conv_reverse_sort);
      }
    },
    showLoginPopup : parseTSPReq,
    joinTourney : function() {
      if (!hasColStyle && !hasStyle && !isFilled) {
        return alert("Log-in first to participate the tournament"), void parseTSPReq();
      }
      if (!X) {
        X = true;
        hasCanceled_ = true;
        reverseValue = true;
        var dCurrent = new Date;
        if (4 == dCurrent.getMonth() && dCurrent.getDate() >= 4 && dCurrent.getDate() <= 6) {
          Bar();
        }
        type = 0;
        var FONT_SUFFIX = 0;
        for (; FONT_SUFFIX <= 4; FONT_SUFFIX++) {
          if (document.getElementById("gamemode-" + FONT_SUFFIX)) {
            document.getElementById("gamemode-" + FONT_SUFFIX).style.display = "none";
          }
        }
        document.getElementById("server-block").style.display = "none";
        document.getElementById("play-button").style.display = "none";
        document.getElementById("play-spinner").style.display = "block";
        main();
      }
    },
    buyPremium : function(canCreateDiscussions) {
      if (3 == canCreateDiscussions || 4 == canCreateDiscussions || 5 == canCreateDiscussions) {
        var s = document.getElementById("buy-premium-button");
        s.textContent = "Please wait...";
        s.disabled = true;
        var request = new XMLHttpRequest;
        return request.onreadystatechange = function() {
          if (4 == request.readyState && 200 == request.status) {
            var results = request.responseText.split("\n");
            var agent = results[0];
            var access_token = results[1];
            console.log("Got xsolla token", access_token);
            var data = {
              access_token : access_token,
              sandbox : -1 !== agent.indexOf("sandbox")
            };
            if (5 == canCreateDiscussions) {
              let g = "https://" + (-1 !== agent.indexOf("sandbox") ? "sandbox-" : "") + "secure.xsolla.com/paystation3/?access_token=" + access_token;
              var containerEl = document.createElement("div");
              containerEl.style.marginTop = "3vh";
              containerEl.innerHTML = 'Payment link (valid 24 hours): <div class="button" onclick="document.getElementById(\'xsolla-share-link\').select();        document.execCommand(\'copy\');alert(\'Link copied\');">Copy</div><input id="xsolla-share-link" value="' + g + '" size="85">';
              let wafCss = document.getElementById("after-buy-message");
              return void wafCss.parentNode.insertBefore(containerEl, wafCss);
            }
            var script = document.createElement("script");
            script.type = "text/javascript";
            script.async = true;
            script.src = "https://static.xsolla.com/embed/paystation/1.0.7/widget.min.js";
            script.addEventListener("load", function(canCreateDiscussions) {
              XPayStationWidget.init(data);
              XPayStationWidget.on("close", function() {
                window.location.search = "?my-account";
              });
              XPayStationWidget.open();
            }, false);
            document.getElementsByTagName("head")[0].appendChild(script);
          } else {
            if (4 == request.readyState && 200 != request.status) {
              request.onerror(request.status);
            }
          }
        }, request.onerror = function(line) {
          console.log(line);
          alert("An error occured during the transation, please try again or contact us");
        }, request.open("GET", url + "/account/xsollaToken?s=" + path, true), void request.send(null);
      }
      var xy = y > 0 ? y : encodeURIComponent(email);
      if (1 == canCreateDiscussions) {
        var _oauthWindow = window.open("https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=serial@defly.io&item_name=Premium%20Account%20for%20Defly.io%20%28inside%20EU%29&item_number=" + xy + "&currency_code=EUR&country=GB&lc=US&no_shipping=1&amount=5");
      } else {
        _oauthWindow = window.open("https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=serial@defly.io&item_name=Premium%20Account%20for%20Defly.io%20%28outside%20EU%29&item_number=" + xy + "&currency_code=USD&country=US&lc=US&no_shipping=1&amount=5");
      }
      var chat_retry = setInterval(function() {
        if (_oauthWindow.closed) {
          clearInterval(chat_retry);
          document.getElementById("after-buy-message").style.display = "block";
        }
      }, 100);
    },
    updateReservedNickname : function() {
      var otpUrl = document.getElementById("reserved-nickname").value;
      var obj = document.getElementById("reserved-nickname-button");
      obj.disabled = true;
      obj.innerHTML = "Updating...";
      var request = new XMLHttpRequest;
      request.onreadystatechange = function() {
        if (4 == request.readyState && 200 == request.status) {
          obj.disabled = false;
          obj.innerHTML = "Update";
          var tmp = request.responseText.split("\n");
          if ("ERROR" == tmp[0]) {
            alert(tmp[1]);
          }
        } else {
          if (4 == request.readyState && 200 != request.status) {
            request.onerror(request.status);
          }
        }
      };
      request.onerror = function(line) {
        obj.disabled = false;
        obj.innerHTML = "Update";
        alert("Error updating reserved nickname");
        console.log(line);
      };
      request.open("POST", url + "/account/updateReserved?s=" + path + "&n=" + encodeURIComponent(otpUrl), true);
      request.send(null);
    },
    updateDiscordID : function() {
      var otpUrl = document.getElementById("discord-id").value;
      if (otpUrl.match(/^[0-9]*$/)) {
        var obj = document.getElementById("discord-id-button");
        obj.disabled = true;
        obj.innerHTML = "Updating...";
        var request = new XMLHttpRequest;
        request.onreadystatechange = function() {
          if (4 == request.readyState && 200 == request.status) {
            obj.disabled = false;
            obj.innerHTML = "Update";
            var tmp = request.responseText.split("\n");
            if ("ERROR" == tmp[0]) {
              alert(tmp[1]);
            }
          } else {
            if (4 == request.readyState && 200 != request.status) {
              request.onerror(request.status);
            }
          }
        };
        request.onerror = function(line) {
          obj.disabled = false;
          obj.innerHTML = "Update";
          alert("Error updating discord ID");
          console.log(line);
        };
        request.open("POST", url + "/account/updateDiscordID?s=" + path + "&id=" + encodeURIComponent(otpUrl), true);
        request.send(null);
      } else {
        alert("Invalid Discord ID");
      }
    },
    showChatInput : action,
    toggleChatInput : function() {
      if (document.getElementById("chat-block").classList.contains("typing")) {
        document.getElementById("chat-input").blur();
        document.getElementById("chat-block").classList.remove("typing");
      } else {
        action();
      }
    },
    voteForMap : function(i) {
      document.getElementById("map-vote").style.display = "none";
      var view = new DataView(new ArrayBuffer(2));
      view.setUint8(0, 13);
      view.setUint8(1, childrenDescriptors[i].id);
      res.send(view.buffer);
    },
    addStatsFilters : function() {
      $(".button.filters").hide();
      $.getScript("tablefilter/tablefilter.js", function() {
        (new TableFilter(document.querySelector("#my-statistics-table"), {
          base_path : "./tablefilter/"
        }, {
          col_0 : "select",
          col_9 : "select",
          col_types : ["string", "date", "string", "number", "number", "number", {
            type : "formatted-number",
            decimal : "."
          }, "number", "number", "string"],
          extensions : [{
            name : "sort"
          }, {
            name : "colOps",
            id : ["dotkills-sum", "dotkills-mean", "kills-sum", "kills-mean", "maxarea-sum", "maxarea-mean", "maxscore-sum", "maxscore-mean"],
            col : [4, 4, 5, 5, 6, 6, 7, 7],
            operation : ["sum", "mean", "sum", "mean", "sum", "mean", "sum", "mean"],
            decimal_precision : [0, 0, 0, 0, 2, 2, 0, 0]
          }],
          status_bar : true,
          rows_counter : {
            text : "Games: "
          },
          alternate_rows : true,
          btn_reset : true,
          auto_filter : {
            delay : 1E3
          },
          themes : [{
            name : "default"
          }]
        })).init();
        $("#ms-sums").show();
      });
    },
    recreateRenderer : start,
    select1v1Player : function(value) {
      if (value && value != undefined) {
        length = value;
        var action = args[value];
        if (action.challenged) {
          return false;
        }
        switch(action.status) {
          case 0:
          case 2:
            document.getElementById("gm-1v1-confirm-duel-text").innerHTML = "Challenge " + action.name + " ?";
            _pageIsFullScreen = true;
            break;
          case 1:
            document.getElementById("gm-1v1-confirm-duel-text").innerHTML = "Spectate " + action.name + " ?";
            _pageIsFullScreen = false;
        }
        document.getElementById("gm-1v1-confirm-duel").style.visibility = "visible";
      } else {
        document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden";
      }
      return false;
    },
    confirmChallenge : function(canCreateDiscussions) {
      if (_pageIsFullScreen) {
        if (canCreateDiscussions) {
          write("You challenged " + args[length].name, "bold");
          var view = new DataView(new ArrayBuffer(5));
          view.setUint8(0, 14);
          view.setInt32(1, length);
          res.send(view.buffer);
          args[length].challenged = true;
          create();
        }
      } else {
        if (canCreateDiscussions) {
          pack(length);
        }
      }
      length = 0;
      document.getElementById("gm-1v1-confirm-duel").style.visibility = "hidden";
    },
    answerChallenge : function(i, value) {
      var view = new DataView(new ArrayBuffer(6));
      view.setUint8(0, 15);
      view.setInt32(1, i);
      view.setUint8(5, value ? 1 : 0);
      res.send(view.buffer);
      write("You " + (value ? "accepted" : "rejected") + " the challenge from " + args[i].name, "bold");
    }
  };
  return state;
}();
